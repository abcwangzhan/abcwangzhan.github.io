{"version":3,"sources":["pages/Library/Quick/styles.ts","components/Layer/types.ts","components/Layer/CloseTag.tsx","components/Layer/LayerContainer.tsx","components/Layer/index.ts","components/Layer/LayerDirective.tsx","pages/Library/Topic/answerSheet.tsx","pages/Library/Topic/styles.ts","pages/Library/Topic/images/icon-edit.png","pages/Library/Topic/Topic.tsx"],"names":["themeColor","pkg","theme","Content","styled","div","HeaderBox","GrayFont","FontContent","AnswerBox","AnswerItem","CarouseBox","CarouselItem","ButtonBox","ButtonBoxInner","ResultBg","ResultTitle","TrueBox","TrueTitle","TruePercent","TrueDesc","TrueDescItem","AnswerResultList","ResultButtonBox","AnswerModal","AnswerInner","CloseBox","AnswerTitle","AnswerListBox","AnswerLabel","AnswerList","AnswerListItem","ParsingFont","DragDirection","directionConfig","effect","direction","Vertical","Horizontal","defaultPostion","top","bottom","left","right","Wrapper","Container","props","CloseTag","closeHandler","children","useState","setDirection","useEffect","directArr","filter","item","includes","length","onTouchMove","key","Math","random","Date","now","flexConfig","justify","align","center","LayerContainer","forwardRef","ref","visible","content","needMask","zIndex","maskBg","maskClosable","needCloseTag","closeTagNode","onClose","onShow","handleMaskClick","update","isShow","setIsShow","maskRef","useRef","show","hide","current","addEventListener","e","preventDefault","document","body","style","overflow","useImperativeHandle","renderContent","useMemo","childContent","React","cloneElement","StyledShade","pos","StyledMask","onClick","StyledLayer","stopPropagation","toString","Layer","container","createElement","layerOption","render","open","options","mountNode","querySelector","appendChild","destory","unmountComponentAtNode","remove","LayerDirective","AnswerSheet","type","answer","hideModal","openModal","CardBox","CardItem","EditorIcon","i","Topic","answerSheet","color","dots","height","className"],"mappings":"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","file":"10.d230bb06.chunk.js","sourcesContent":["import styled from 'styled-px2vw';\r\nimport pkg from '../../../../package.json';\r\n\r\nconst themeColor = pkg.theme['brand-primary'];\r\nexport const Content = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n  background-color: #f8fffc;\r\n  .slider-list,\r\n  .slider-frame,\r\n  .slider-list,\r\n  .slider-slide {\r\n    height: 100% !important;\r\n  }\r\n`;\r\n\r\nexport const HeaderBox = styled.div`\r\n  height: 128px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 0 42px 0 30px;\r\n  flex-shrink: 0;\r\n  &.lr-pd {\r\n    padding: 0 56px;\r\n  }\r\n`;\r\n\r\nexport const GrayFont = styled.div`\r\n  color: #7f7f7f;\r\n  font-weight: bold;\r\n  font-size: 32px;\r\n`;\r\n\r\nexport const FontContent = styled.div`\r\n  line-height: 40px;\r\n  color: #7f7f7f;\r\n  margin-top: 46px;\r\n  padding: 0 112px;\r\n  word-break: break-all;\r\n`;\r\n\r\nexport const AnswerBox = styled.div`\r\n  padding: 98px 32px 0;\r\n`;\r\nexport const AnswerItem = styled.div`\r\n  height: 106px;\r\n  line-height: 106px;\r\n  border: 1px solid #e8e8e8;\r\n  border-radius: 16px;\r\n  color: #262626;\r\n  font-weight: bold;\r\n  margin-bottom: 44px;\r\n  padding-left: 50px;\r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n  &.active {\r\n    color: ${themeColor};\r\n    background: #d7efe0;\r\n    border-color: #d7efe0;\r\n  }\r\n  &.error {\r\n    color: #f5222d;\r\n    background-color: #f7c8c8;\r\n    border-color: #f7c8c8;\r\n  }\r\n`;\r\n\r\nexport const CarouseBox = styled.div`\r\n  height: 100%;\r\n`;\r\nexport const CarouselItem = styled.div`\r\n  height: 100%;\r\n  overflow: auto;\r\n`;\r\n\r\nexport const ButtonBox = styled.div`\r\n  flex-shrink: 0;\r\n  padding-bottom: constant(safe-area-inset-bottom);\r\n  padding-bottom: env(safe-area-inset-bottom);\r\n`;\r\n\r\nexport const ButtonBoxInner = styled.div`\r\n  padding: 32px;\r\n`;\r\n\r\n// 结果页\r\nexport const ResultBg = styled.div`\r\n  background: ${themeColor};\r\n  border-radius: 0px 0px 15px 15px;\r\n  min-height: 544px;\r\n  font-weight: bold;\r\n  color: #fff;\r\n`;\r\n\r\nexport const ResultTitle = styled.div`\r\n  padding-top: 40px;\r\n  font-size: 42px;\r\n  text-align: center;\r\n`;\r\n\r\nexport const TrueBox = styled.div`\r\n  width: 340px;\r\n  height: 340px;\r\n  border: 2px solid #ffffff;\r\n  border-radius: 50%;\r\n  margin: 34px auto 0;\r\n  position: relative;\r\n`;\r\n\r\nexport const TrueTitle = styled.div`\r\n  font-size: 28px;\r\n  text-align: center;\r\n  margin-top: 42px;\r\n`;\r\n\r\nexport const TruePercent = styled.div`\r\n  font-size: 90px;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n`;\r\n\r\nexport const TrueDesc = styled.div`\r\n  padding: 0 30px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;\r\nexport const TrueDescItem = styled.div`\r\n  font-size: 32px;\r\n`;\r\n\r\nexport const AnswerResultList = styled.div`\r\n  padding: 0 74px;\r\n`;\r\n\r\nexport const ResultButtonBox = styled.div`\r\n  padding: 200px 34px 0;\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\n// 答题卡\r\n\r\nexport const AnswerModal = styled.div`\r\n  height: 61.8vh;\r\n  background: #fff;\r\n  border-radius: 30px 30px 0px 0px;\r\n  width: 750px;\r\n`;\r\nexport const AnswerInner = styled.div`\r\n  padding: 32px;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\nexport const CloseBox = styled.div`\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n`;\r\nexport const AnswerTitle = styled.div`\r\n  text-align: center;\r\n  position: relative;\r\n  height: 48px;\r\n  line-height: 48px;\r\n  font-size: 34px;\r\n  flex-shrink: 0;\r\n`;\r\n\r\nexport const AnswerListBox = styled.div`\r\n  padding: 0 32px;\r\n  height: 100%;\r\n`;\r\nexport const AnswerLabel = styled.div`\r\n  font-size: 32px;\r\n  letter-spacing: 0.2px;\r\n  color: #7f7f7f;\r\n  padding-top: 64px;\r\n`;\r\n\r\nexport const AnswerList = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding-top: 102px;\r\n`;\r\n\r\nexport const AnswerListItem = styled.div`\r\n  width: 48px;\r\n  height: 48px;\r\n  border-radius: 50%;\r\n  background: #f5f5f5;\r\n  color: #fff;\r\n  text-align: center;\r\n  line-height: 48px;\r\n  &.true {\r\n    background: ${themeColor};\r\n  }\r\n  &.error {\r\n    background: #ffa39e;\r\n  }\r\n`;\r\n\r\n// 解析页面\r\nexport const ParsingFont = styled.div`\r\n  padding: 102px 100px 66px;\r\n  font-size: 32px;\r\n  line-height: 40px;\r\n  letter-spacing: 0.4px;\r\n  color: #7f7f7f;\r\n  word-break: break-word;\r\n  .title {\r\n    margin-bottom: 50px;\r\n  }\r\n`;\r\n","// eslint-disable-next-line no-shadow\r\nexport enum DragDirection {\r\n  Horizontal = 'x', // 水平方向\r\n  Vertical = 'y', // 竖直方向\r\n}\r\n\r\nexport type Drag = boolean | 'x' | 'y';\r\nexport type Effect = 'top' | 'bottom' | 'left' | 'right' | 'fade' | 'center';\r\nexport interface LayerBasicType {\r\n  effect: Effect;\r\n  maskClosable?: boolean; // 点击遮罩是否能关闭\r\n  needMask?: boolean; // 是否需要遮罩\r\n  zIndex?: number; // 内容层级\r\n  content?: JSX.Element; // 内容节点\r\n  maskBg?: string; // 遮罩样式 eg:rgba(0,0,0,0.5)\r\n  needCloseTag?: boolean; // 是否需要关闭标识\r\n  closeTagNode?: JSX.Element; // 关闭标识元素\r\n  onClose?: () => void | null; // 关闭回调\r\n  onShow?: () => void | null; // 显示回调\r\n  handleMaskClick?: () => void;\r\n  update?: boolean;\r\n}\r\nexport interface LayerOption extends LayerBasicType {\r\n  mountNode?: HTMLElement; // 弹层挂载点 mountNode>div#layer-containe>body\r\n}\r\nexport interface LayerDomOption extends LayerBasicType {\r\n  visible?: boolean;\r\n  children?: JSX.Element;\r\n}\r\n\r\nexport interface CloseTagProps {\r\n  closeHandler(): void;\r\n  children?: JSX.Element;\r\n  effect: Effect;\r\n}\r\n\r\nexport interface LayerRetTypes {\r\n  open: (options: LayerOption) => void;\r\n  hide: () => void;\r\n  destory: () => void;\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-px2vw';\r\nimport { CloseTagProps, DragDirection, Drag, Effect } from './types';\r\n\r\nconst directionConfig = [\r\n  {\r\n    effect: ['top', 'bottom'],\r\n    direction: DragDirection.Vertical,\r\n  },\r\n  {\r\n    effect: ['left', 'right'],\r\n    direction: DragDirection.Horizontal,\r\n  },\r\n];\r\n\r\nconst getDefaultStyleString = (direction: 'x' | 'y'): string => {\r\n  if (direction === 'y') {\r\n    return 'left: 50%;width: 112px;height: 6px;margin-left: -56px;';\r\n  }\r\n  return 'top: 50%;height: 112px;width: 6px;margin-top: -56px;';\r\n};\r\n\r\nconst defaultPostion: {\r\n  [key: string]: string;\r\n} = {\r\n  top: 'bottom:16px',\r\n  bottom: 'top:16px',\r\n  left: 'right:16px',\r\n  right: 'left:16px',\r\n};\r\n\r\nconst CloseTag: React.FC<CloseTagProps> = ({\r\n  closeHandler,\r\n  children,\r\n  effect,\r\n}) => {\r\n  const [direction, setDirection] = useState<Drag>(false);\r\n  useEffect(() => {\r\n    const directArr = directionConfig.filter((item) =>\r\n      item.effect.includes(effect)\r\n    );\r\n    if (directArr.length > 0) {\r\n      setDirection(directArr[0].direction || false);\r\n    }\r\n  }, [effect]);\r\n  return (\r\n    <Wrapper\r\n      onTouchMove={(): void => {\r\n        closeHandler && closeHandler();\r\n      }}\r\n      key={`close_${Math.random()}_${Date.now()}`}\r\n    >\r\n      {children || (\r\n        <Container\r\n          effect={effect}\r\n          direction={typeof direction === 'boolean' ? 'y' : direction}\r\n        />\r\n      )}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst Container = styled.div<{\r\n  effect: Effect;\r\n  direction: 'x' | 'y';\r\n}>`\r\n  position: absolute;\r\n  border-radius: 4px;\r\n  background: #d2d7e1;\r\n  z-index: 101;\r\n  ${(props): string => getDefaultStyleString(props.direction)};\r\n  ${(props): string => defaultPostion[props.effect] || ''}\r\n`;\r\n\r\nexport default CloseTag;\r\n","import React, {\r\n  useState,\r\n  forwardRef,\r\n  useImperativeHandle,\r\n  useRef,\r\n  useEffect,\r\n  useMemo,\r\n} from 'react';\r\n\r\nimport styled from 'styled-px2vw';\r\nimport { LayerDomOption } from './types';\r\nimport CloseTag from './CloseTag';\r\n\r\nconst freezeScroll = (): void => {\r\n  document.body.style.overflow = 'hidden';\r\n};\r\nconst unfreezeScroll = (): void => {\r\n  document.body.style.overflow = 'auto';\r\n};\r\n\r\nconst flexConfig: {\r\n  [key: string]: {\r\n    justify: string;\r\n    align: string;\r\n  };\r\n} = {\r\n  top: {\r\n    justify: 'center',\r\n    align: 'flex-start',\r\n  },\r\n  bottom: {\r\n    justify: 'center',\r\n    align: 'flex-end',\r\n  },\r\n  left: {\r\n    justify: 'flex-start',\r\n    align: 'center',\r\n  },\r\n  right: {\r\n    justify: 'flex-end',\r\n    align: 'center',\r\n  },\r\n  center: {\r\n    justify: 'center',\r\n    align: 'center',\r\n  },\r\n};\r\n\r\nconst LayerContainer = forwardRef(\r\n  (\r\n    {\r\n      visible,\r\n      content,\r\n      effect,\r\n      needMask = true,\r\n      zIndex = 100,\r\n      maskBg,\r\n      maskClosable = true,\r\n      needCloseTag,\r\n      closeTagNode,\r\n      onClose,\r\n      onShow,\r\n      children,\r\n      handleMaskClick,\r\n      update,\r\n    }: LayerDomOption,\r\n    ref\r\n  ) => {\r\n    const [isShow, setIsShow] = useState<boolean>();\r\n    const maskRef = useRef<HTMLDivElement>(null);\r\n    useEffect(() => {\r\n      if (typeof visible !== 'undefined') {\r\n        setIsShow(visible);\r\n      }\r\n    }, [visible, isShow, update]);\r\n    const show = (): void => {\r\n      onShow && onShow();\r\n      setIsShow(true);\r\n    };\r\n    const hide = (): void => {\r\n      handleMaskClick && handleMaskClick();\r\n      onClose && onClose();\r\n      setIsShow(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n      if (isShow && maskRef.current) {\r\n        maskRef.current.addEventListener('touchmove', (e) => {\r\n          e.preventDefault();\r\n        });\r\n        freezeScroll();\r\n      } else {\r\n        unfreezeScroll();\r\n      }\r\n    }, [isShow]);\r\n    useImperativeHandle(ref, () => {\r\n      return {\r\n        show,\r\n        hide,\r\n      };\r\n    });\r\n    // 遮罩点击\r\n    const handleClickShade = (): void => {\r\n      if (maskClosable) {\r\n        hide();\r\n      }\r\n    };\r\n    // 渲染弹层内容\r\n    const renderContent = useMemo((): JSX.Element => {\r\n      const childContent = content || children;\r\n      if (childContent) {\r\n        return React.cloneElement(childContent);\r\n      }\r\n      return <div />;\r\n    }, [content, children]);\r\n    return (\r\n      <>\r\n        {isShow && (\r\n          <StyledShade key=\"shade\" pos={effect}>\r\n            {needMask && (\r\n              <StyledMask\r\n                key=\"mask\"\r\n                onClick={handleClickShade}\r\n                maskBg={maskBg}\r\n                ref={maskRef}\r\n              />\r\n            )}\r\n            <StyledLayer\r\n              key=\"Layer\"\r\n              onClick={(e: React.MouseEvent): void => {\r\n                e.stopPropagation();\r\n              }}\r\n              zIndex={zIndex}\r\n            >\r\n              {renderContent}\r\n              {isShow &&\r\n                needCloseTag &&\r\n                effect !== 'center' &&\r\n                effect !== 'fade' && (\r\n                  <CloseTag closeHandler={hide} effect={effect}>\r\n                    {closeTagNode}\r\n                  </CloseTag>\r\n                )}\r\n            </StyledLayer>\r\n          </StyledShade>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n);\r\n\r\nconst StyledShade = styled.div<{\r\n  pos: string;\r\n}>`\r\n  position: fixed !important;\r\n  top: 0 !important;\r\n  left: 0 !important;\r\n  height: 100% !important;\r\n  width: 100% !important;\r\n  z-index: 99;\r\n  display: flex;\r\n  justify-content: ${(props): string => flexConfig[props.pos].justify};\r\n  align-items: ${(props): string => flexConfig[props.pos].align};\r\n`;\r\n\r\nconst StyledMask = styled.div<{\r\n  maskBg?: string;\r\n  isShow?: boolean;\r\n}>`\r\n  position: fixed !important;\r\n  top: 0 !important;\r\n  left: 0 !important;\r\n  height: 100% !important;\r\n  width: 100% !important;\r\n  background: ${(props): string => props.maskBg || 'rgba(0,0,0,0.5)'};\r\n  z-index: 99;\r\n`;\r\n\r\nconst StyledLayer = styled.div<{\r\n  children: React.ReactNode;\r\n  zIndex: number;\r\n  isShow?: boolean;\r\n}>`\r\n  z-index: ${(props): string => props.zIndex.toString() || '100'};\r\n  position: relative;\r\n`;\r\n\r\nexport default LayerContainer;\r\n","import { LayerOption, LayerRetTypes } from './types';\r\nimport LayerDirective from './LayerDirective';\r\nimport LayerContainer from './LayerContainer';\r\n\r\nexport type LayerTypes = LayerOption;\r\nexport type LayerReturnType = LayerRetTypes;\r\n\r\nconst Layer = LayerDirective();\r\n\r\nexport { LayerDirective };\r\n\r\nexport { LayerContainer };\r\n\r\nexport default Layer;\r\n","import React from 'react';\r\nimport { render, unmountComponentAtNode } from 'react-dom';\r\nimport { LayerOption, LayerRetTypes } from './types';\r\nimport LayerContainer from './LayerContainer';\r\n\r\nconst LayerDirective = (): LayerRetTypes => {\r\n  const container = document.createElement('div');\r\n  let layerOption: LayerOption = {\r\n    effect: 'center',\r\n  };\r\n  const hide = (): void => {\r\n    renderContent(false);\r\n  };\r\n  const open = (options: LayerOption): void => {\r\n    layerOption = options;\r\n    if (!layerOption.handleMaskClick) {\r\n      layerOption.handleMaskClick = hide;\r\n    }\r\n    const wrapperContainer: Element | null =\r\n      options.mountNode ||\r\n      document.querySelector('#layer-container') ||\r\n      document.body;\r\n    wrapperContainer.appendChild(container);\r\n    renderContent(true);\r\n  };\r\n  const destory = (): void => {\r\n    unmountComponentAtNode(container);\r\n    container.remove();\r\n  };\r\n  const renderContent = (visible: boolean): void => {\r\n    render(<LayerContainer {...layerOption} visible={visible} />, container);\r\n  };\r\n  return {\r\n    open,\r\n    hide,\r\n    destory,\r\n  };\r\n};\r\n\r\nexport default LayerDirective;\r\n","import React, { ReactElement } from 'react';\r\nimport { Icon } from 'antd-mobile';\r\nimport Layer from '@/components/Layer';\r\n\r\nimport {\r\n  AnswerInner,\r\n  AnswerModal,\r\n  AnswerTitle,\r\n  CloseBox,\r\n} from '../Quick/styles';\r\n\r\ninterface AnserProps {\r\n  hide: () => void;\r\n}\r\nconst AnswerSheet: React.FC<AnserProps> = (props): ReactElement => {\r\n  const { hide } = props;\r\n  return (\r\n    <AnswerModal>\r\n      <AnswerInner>\r\n        <AnswerTitle>\r\n          图卡\r\n          <CloseBox>\r\n            <Icon type=\"cross\" onClick={(): void => hide()} />\r\n          </CloseBox>\r\n        </AnswerTitle>\r\n      </AnswerInner>\r\n    </AnswerModal>\r\n  );\r\n};\r\n\r\nconst answer = (): {\r\n  openModal: () => void;\r\n  hideModal: () => void;\r\n} => {\r\n  const openModal = (): void => {\r\n    Layer.open({\r\n      effect: 'bottom',\r\n      needCloseTag: true,\r\n      content: <AnswerSheet hide={hideModal} />,\r\n    });\r\n  };\r\n  const hideModal = (): void => Layer.hide();\r\n  return {\r\n    openModal,\r\n    hideModal,\r\n  };\r\n};\r\n\r\nexport default answer;\r\n","import styled from 'styled-px2vw';\r\nimport iconEdit from './images/icon-edit.png';\r\n\r\nexport const CardBox = styled.div`\r\n  padding: 120px 150px;\r\n`;\r\n\r\nexport const CardItem = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  color: #7f7f7f;\r\n`;\r\n\r\nexport const EditorIcon = styled.i`\r\n  width: 84px;\r\n  height: 84px;\r\n  background: url(${iconEdit}) center no-repeat;\r\n  background-size: 34px 34px;\r\n`;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAENSURBVHgBrdPdzYIwFAbgc8rnPd8GbqAbaDfQDdxA/EmM8cJ6ZdSorOAEjlDdACfQEbg3cOzBmOAPCKnvTZuSPvScAkLJDI7LLhAqAAoFXdsrOQl4Hcsgw+NqSkQqtcSYZExYIBw3xormSWGIYvrPeOR6WrlfoYFetHiMoKLMELy9gGjmSxXmQlwOIO77euH5shdGFLUJ4JJGNnKkeI55yFNPkDrrxmjn6a3rwFWRubUHkgllNJZP0DOb/U97sCjyiClP+nJ8eF0XZZB7Y9+RpxMVQdI9+QjZIgnk6XnVQedsg3CEA6JuiyRQDNi0RRJIINZsEc6f2calXcynfzDCSUAcrDOuODf858IPcgPc1KtHiqAdTAAAAABJRU5ErkJggg==\"","import { Icon, Carousel, Button } from 'antd-mobile';\r\nimport React from 'react';\r\nimport answerSheet from './answerSheet';\r\nimport {\r\n  Content,\r\n  HeaderBox,\r\n  GrayFont,\r\n  FontContent,\r\n  CarouselItem,\r\n  CarouseBox,\r\n  ButtonBox,\r\n  ButtonBoxInner,\r\n} from '../Quick/styles';\r\nimport { CardBox, CardItem, EditorIcon } from './styles';\r\n\r\nconst Topic: React.FC = () => {\r\n  const { openModal } = answerSheet();\r\n\r\n  return (\r\n    <Content>\r\n      <HeaderBox>\r\n        <Icon type=\"cross\" color=\"#262626\" />\r\n        <GrayFont>00:18</GrayFont>\r\n      </HeaderBox>\r\n      <CarouseBox>\r\n        <Carousel dots={false} style={{ height: '100%' }}>\r\n          <CarouselItem>\r\n            <HeaderBox className=\"lr-pd\">\r\n              <GrayFont>1.1 微分系数</GrayFont>\r\n              <GrayFont>1/5</GrayFont>\r\n            </HeaderBox>\r\n            <FontContent>\r\n              XXXXXXXXXXXXXABXXXXXXXXXXXXXXXXXHIJXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX（）。\r\n            </FontContent>\r\n            <CardBox>\r\n              <CardItem>解答</CardItem>\r\n              <CardItem>\r\n                <span>AB</span>\r\n                <EditorIcon onClick={(): void => openModal()} />\r\n              </CardItem>\r\n              <CardItem>\r\n                <span>CDE</span>\r\n                <EditorIcon onClick={(): void => openModal()} />\r\n              </CardItem>\r\n              <CardItem>\r\n                <span>FG</span>\r\n                <EditorIcon onClick={(): void => openModal()} />\r\n              </CardItem>\r\n              <CardItem>\r\n                <span>HIJ</span>\r\n                <EditorIcon onClick={(): void => openModal()} />\r\n              </CardItem>\r\n              <CardItem>\r\n                <span>MN</span>\r\n                <EditorIcon onClick={(): void => openModal()} />\r\n              </CardItem>\r\n            </CardBox>\r\n          </CarouselItem>\r\n        </Carousel>\r\n      </CarouseBox>\r\n      <ButtonBox>\r\n        <ButtonBoxInner>\r\n          <Button type=\"primary\">提交并查看结果</Button>\r\n        </ButtonBoxInner>\r\n      </ButtonBox>\r\n    </Content>\r\n  );\r\n};\r\n\r\nexport default Topic;\r\n"],"sourceRoot":""}