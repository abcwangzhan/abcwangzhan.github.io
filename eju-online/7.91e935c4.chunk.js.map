{"version":3,"sources":["pages/Library/Quick/Parsing/Parsing.tsx"],"names":["Parsing","history","useHistory","tag","getUrlParams","state","useContext","ProviderContext","quick","selectAnswer","quickTrueAnswer","type","color","onClick","go","dots","style","height","map","item","index","questionId","question","parse","options","answer","selectAs","key","className","length","val","idx","isTrue","selectNum","letterToNum","trueNum"],"mappings":"yRAoGeA,EAjFW,WACxB,IAAMC,EAAUC,cACRC,EAAQC,cAARD,IACAE,EAAUC,qBAAWC,KAArBF,MACAG,EAAyCH,EAAzCG,MAAOC,EAAkCJ,EAAlCI,aAAcC,EAAoBL,EAApBK,gBAoD7B,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,uBACEC,KAAK,QACLC,MAAM,UACNC,QAAS,kBAAYZ,EAAQa,IAAI,OAGrC,kBAAC,IAAD,KACE,uBAAUC,MAAM,EAAOC,MAAO,CAAEC,OAAQ,UAzDrC,OAALT,QAAK,IAALA,OAAA,EAAAA,EAAOU,KAAI,SAACC,EAAMC,GAChB,IAAQC,EAAyCF,EAAzCE,WAAYC,EAA6BH,EAA7BG,SAAUC,EAAmBJ,EAAnBI,MAAOC,EAAYL,EAAZK,QAE7BC,IADQ,OAAGf,QAAH,IAAGA,OAAH,EAAGA,EAAkBU,KACJ,IAAzBK,OACFC,EAAQ,OAAGjB,QAAH,IAAGA,OAAH,EAAGA,EAAeW,GAChC,OACE,kBAAC,IAAD,CAAcO,IAAKN,GACjB,kBAAC,IAAD,CAAWO,UAAU,SACnB,kBAAC,IAAD,KAAWzB,GACX,kBAAC,IAAD,KACGiB,EAAQ,EADX,IACeZ,EAAMqB,SAGvB,kBAAC,IAAD,KAAcP,GACd,kBAAC,IAAD,KACGE,EAAQN,KAAI,SAACY,EAAKC,GACjB,IAAMC,EAASP,IAAWC,EACpBO,EACJC,IAAYR,GACRS,EAAUD,IAAYT,GAC5B,OAAIO,EAEA,kBAAC,IAAD,CAAYJ,UAAWK,IAAcF,EAAM,SAAW,IACnDD,GAIHG,IAAcF,EACT,kBAAC,IAAD,CAAYH,UAAU,SAASE,GAEpCK,IAAYJ,EACP,kBAAC,IAAD,CAAYH,UAAU,UAAUE,GAElC,kBAAC,IAAD,KAAaA,OAGxB,kBAAC,IAAD,KACE,yBAAKF,UAAU,SAAf,iCAA6BH,GAD/B,qBAGE,6BACCF,SAIH,KAiBN,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,uBAAQZ,KAAK,UAAUE,QAAS,kBAAYZ,EAAQa,IAAI,KAAxD","file":"7.91e935c4.chunk.js","sourcesContent":["import { letterToNum } from '@/constants/globalDatas';\r\nimport { ProviderContext } from '@/reducer/context';\r\nimport getUrlParams from '@/utils/get-url-params';\r\nimport { Button, Carousel, Icon } from 'antd-mobile';\r\nimport React, { ReactElement, useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport {\r\n  Page,\r\n  HeaderBox,\r\n  GrayFont,\r\n  FontContent,\r\n  CarouselItem,\r\n  CarouseBox,\r\n  ButtonBox,\r\n  ButtonBoxInner,\r\n  ParsingFont,\r\n} from '../../styles';\r\nimport { AnswerBox, AnswerItem } from '../styles';\r\n\r\nconst Parsing: React.FC = () => {\r\n  const history = useHistory();\r\n  const { tag } = getUrlParams();\r\n  const { state } = useContext(ProviderContext);\r\n  const { quick, selectAnswer, quickTrueAnswer } = state;\r\n\r\n  // 获得解析列表\r\n  const getParsingList = (): ReactElement[] => {\r\n    return (\r\n      quick?.map((item, index) => {\r\n        const { questionId, question, parse, options } = item;\r\n        const trueAnswer = quickTrueAnswer?.[index];\r\n        const { answer } = trueAnswer || {};\r\n        const selectAs = selectAnswer?.[index];\r\n        return (\r\n          <CarouselItem key={questionId}>\r\n            <HeaderBox className=\"lr-pd\">\r\n              <GrayFont>{tag}</GrayFont>\r\n              <GrayFont>\r\n                {index + 1}/{quick.length}\r\n              </GrayFont>\r\n            </HeaderBox>\r\n            <FontContent>{question}</FontContent>\r\n            <AnswerBox>\r\n              {options.map((val, idx) => {\r\n                const isTrue = answer === selectAs;\r\n                const selectNum =\r\n                  letterToNum[selectAs as keyof typeof letterToNum];\r\n                const trueNum = letterToNum[answer as keyof typeof letterToNum];\r\n                if (isTrue) {\r\n                  return (\r\n                    <AnswerItem className={selectNum === idx ? 'active' : ''}>\r\n                      {val}\r\n                    </AnswerItem>\r\n                  );\r\n                }\r\n                if (selectNum === idx) {\r\n                  return <AnswerItem className=\"error\">{val}</AnswerItem>;\r\n                }\r\n                if (trueNum === idx) {\r\n                  return <AnswerItem className=\"active\">{val}</AnswerItem>;\r\n                }\r\n                return <AnswerItem>{val}</AnswerItem>;\r\n              })}\r\n            </AnswerBox>\r\n            <ParsingFont>\r\n              <div className=\"title\">正确答案：{answer}</div>\r\n              解析：\r\n              <br />\r\n              {parse}\r\n            </ParsingFont>\r\n          </CarouselItem>\r\n        );\r\n      }) || []\r\n    );\r\n  };\r\n  return (\r\n    <Page>\r\n      <HeaderBox>\r\n        <Icon\r\n          type=\"cross\"\r\n          color=\"#262626\"\r\n          onClick={(): void => history.go(-2)}\r\n        />\r\n      </HeaderBox>\r\n      <CarouseBox>\r\n        <Carousel dots={false} style={{ height: '100%' }}>\r\n          {getParsingList()}\r\n        </Carousel>\r\n      </CarouseBox>\r\n      <ButtonBox>\r\n        <ButtonBoxInner>\r\n          <Button type=\"primary\" onClick={(): void => history.go(-1)}>\r\n            返回报告\r\n          </Button>\r\n        </ButtonBoxInner>\r\n      </ButtonBox>\r\n    </Page>\r\n  );\r\n};\r\n\r\nexport default Parsing;\r\n"],"sourceRoot":""}