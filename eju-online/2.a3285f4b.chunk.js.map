{"version":3,"sources":["components/TabBar/styles.ts","components/TabBar/TabBar.tsx","pages/Library/Library.tsx","pages/Library/utils/filterArr.ts","pages/Find/styles.ts","pages/Find/images/icon-star2.png","pages/Find/images/icon-star.png","pages/Find/images/icon-arrow.png","pages/Find/Ladder/Ladder.tsx","pages/Find/images/icon-up.png","pages/Find/images/icon-no-change.png","pages/Find/images/icon-down.png","pages/Find/utils/getLevel.ts","pages/Find/Strength/Radar.tsx","pages/Find/Strength/SubjectParsing.tsx","pages/Find/Strength/Strength.tsx","pages/Find/Predict/Predict.tsx","pages/Find/Find.tsx","pages/UserCenter/styles.ts","pages/UserCenter/UserCenter.tsx","pages/UserCenter/images/icon-personal.svg","pages/UserCenter/images/icon-msg.svg","pages/UserCenter/images/icon-setting.svg","pages/Home/Home.tsx"],"names":["themeColor","pkg","theme","TabBarBox","styled","div","BottomBlank","TabBarInner","TabBarItem","ItemIcon","span","ItemTitle","TabBar","props","handelClick","type","onClick","className","Library","useState","value","label","subjectArr","setSubjectArr","useLazyQuery","QUERY_SUBJECT","subjectReq","sujectData","data","subjectLoading","loading","SUBJECT_TAGS","subjectTagsReq","subjectTagsData","subjectTagLoading","subjectTags","getUserTagAbilities","subjectExams","getExamHistoryBySubject","filterExam","useMemo","arr","comMap","resultArr","forEach","item","sourceType","push","Object","keys","key","children","filterSourceType","filterExamHis","resultMap","examId","filterExamId","useContext","ProviderContext","state","dispatch","tabType","ejuSubjectValue","history","useHistory","handleTabChange","tabTypeToSourceType","setAbilities","useCallback","prevTag","abilities","startArr","tagId","abilityValue","Number","i","getQuick","tags","map","_id","name","Header","title","Body","item2","name2","_id2","children2","Panel","header","style","marginBottom","item3","name3","_id3","size","inline","subject","handleToExamInfo","exam","getExam","val","examDate","date","dateToYear","bestPoints","examHis","getTopic","useEffect","variables","typeSubjects","stringArrToPickArr","subjectEnum","hide","cols","onOk","changeEjuSubject","PickItem","placeholder","Page","TabBox","TabItem","InfoBox","InfoLi","InfoItem","IconStar","SelectBox","SelectBoxItem","Table","table","Tr","tr","Td","td","Th","th","RadarScroll","PredictBox","PredictBoxButton","button","PredictBoxFont","PredictSelect","PredictScroll","LadderBox","LadderContent","RankHeader","ItemFirst","ItemSecond","pl","ItemThird","RankList","RankItem","RankItemCenter","RankItemStart","RankAvatar","prop","img","RankItemEnd","RankIcon","SelectItem","IconArrow","Ladder","handleRankInfo","findRankData","useQuery","FIND_RANK","rankArr","findRank","rankValue","setRankValue","rankData","setRankData","length","userItem","thisWeak","initData","pointsLabel","getPointsLabel","index","userName","lastWeak","thisUser","avatar","math","physics","chemistry","lastMath","lastPhysics","lastChemistry","thisWeakPoints","lastWeakPoints","pointCompare","num","points","getLevel","point","level","Radar","findAi","FIND_AI","myPoint","myPointData","__typename","score","width","window","screen","chart","F2","Chart","id","pixelRatio","devicePixelRatio","padding","height","coord","source","values","axis","text","total","top","grid","line","area","position","color","animate","appear","animation","stroke","lineWidth","delay","legend","custom","items","marker","fill","render","tableListData","toefl","getTabelData","SubjectParsing","pointsData","setPointData","pointsValue","setPointValue","subjectData","setSubjectData","subjectvalue","setSubjectValue","findValueData","FIND_VALUE","chartRef","useRef","getPickData","dataArr","findValue","userInfo","subArr","pointsArr","findValueInfo","genre","percent","generalInfo","average","appendPadding","current","alias","min","max","tickCount","interval","align","itemWidth","guide","content","textBaseline","offsetY","group","get","addGroup","obj","getPosition","addShape","attrs","x","y","textAlign","showParsing","pointsItems","Strength","tabs","sub","Predict","findAiData","school","setSchool","totalData","setTotalData","goalSchool","setGoalSchool","ejuSubject","setEjuSubject","department","setDepartment","probability","setProbability","english","jap","jap_writing","recommendPoint","setRecommendPoint","recommendPointData","verticalAlign","APIHelper","getSchool","then","res","filterArr","getGoalSchool","getSubject","departments","handleSchool","schoolName","toFixed","param","school_id","ja","phy","che","jaw","predict","code","ability","handlePredict","sourceData","goalPoint","goalLevel","itemData","Find","USER_SHOW","setTabType","rankNum","setRankNum","rankPoints","setRankPoints","getTabContent","ele","setRankInfo","info","nickName","userShow","PersonBg","PersonInner","PersonBgInner","bg","AvatarBox","Avatar","NickBox","NickName","Sign","FucList","FucListItem","FucListItemTop","FucListItemBottom","MenuBox","MenuItem","MenuLabel","MenuIcon","MsgNum","UserCenter","getUserInfo","signature","userMessages","handleMenu","src","isRead","getMessageNum","Home","setType","location","useLocation","pathname","handleClick","clickType"],"mappings":"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","file":"2.a3285f4b.chunk.js","sourcesContent":["import styled from 'styled-px2vw';\r\nimport pkg from '../../../package.json';\r\n\r\nconst themeColor = pkg.theme['brand-primary'];\r\n\r\nexport const TabBarBox = styled.div`\r\n  background-color: #fafafa;\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  padding-bottom: constant(safe-area-inset-bottom);\r\n  padding-bottom: env(safe-area-inset-bottom);\r\n`;\r\n\r\nexport const BottomBlank = styled.div`\r\n  width: 100%;\r\n  height: 110px;\r\n  padding-bottom: constant(safe-area-inset-bottom);\r\n  padding-bottom: env(safe-area-inset-bottom);\r\n`;\r\nexport const TabBarInner = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 28px 96px 0;\r\n`;\r\nexport const TabBarItem = styled.div`\r\n  color: #bfbfbf;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  overflow: hidden;\r\n  &.active {\r\n    color: ${themeColor};\r\n  }\r\n`;\r\n\r\nexport const ItemIcon = styled.span`\r\n  display: inline-block;\r\n  width: 48px;\r\n  height: 48px;\r\n  font-size: 40px;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\nexport const ItemTitle = styled.div`\r\n  font-size: 22px;\r\n  height: 40px;\r\n  line-height: 40px;\r\n`;\r\n","import React from 'react';\r\nimport {\r\n  TabBarBox,\r\n  TabBarItem,\r\n  TabBarInner,\r\n  ItemIcon,\r\n  ItemTitle,\r\n} from './styles';\r\n\r\ninterface TabBarProps {\r\n  handelClick: (type: string) => void;\r\n  type: string;\r\n}\r\n\r\nconst TabBar: React.FC<TabBarProps> = (props) => {\r\n  const { handelClick, type } = props;\r\n  return (\r\n    <>\r\n      <TabBarBox>\r\n        <TabBarInner>\r\n          <TabBarItem\r\n            onClick={(): void => handelClick('library')}\r\n            className={type === 'library' ? 'active' : ''}\r\n          >\r\n            <ItemIcon className=\"iconfont icon-library\" />\r\n            <ItemTitle>题库</ItemTitle>\r\n          </TabBarItem>\r\n          <TabBarItem\r\n            onClick={(): void => handelClick('find')}\r\n            className={type === 'find' ? 'active' : ''}\r\n          >\r\n            <ItemIcon className=\"iconfont icon-find\" />\r\n            <ItemTitle>发现</ItemTitle>\r\n          </TabBarItem>\r\n          <TabBarItem\r\n            onClick={(): void => handelClick('user-center')}\r\n            className={type === 'user-center' ? 'active' : ''}\r\n          >\r\n            <ItemIcon className=\"iconfont icon-my\" />\r\n            <ItemTitle>我的</ItemTitle>\r\n          </TabBarItem>\r\n        </TabBarInner>\r\n      </TabBarBox>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TabBar;\r\n","import React, {\r\n  ReactElement,\r\n  useCallback,\r\n  useContext,\r\n  useEffect,\r\n  useMemo,\r\n  useState,\r\n} from 'react';\r\nimport {\r\n  Accordion,\r\n  Picker,\r\n  WhiteSpace,\r\n  Button,\r\n  Card,\r\n  Toast,\r\n} from 'antd-mobile';\r\nimport PickItem from '@/components/PickItem';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { ProviderContext } from '@/reducer/context';\r\nimport { useLazyQuery } from '@apollo/client';\r\nimport { QUERY_SUBJECT, SUBJECT_TAGS } from '@/helpers/APIHelper';\r\nimport { subjectEnum } from '@/constants/globalDatas';\r\nimport { BottomBlank } from '@/components/TabBar/styles';\r\nimport {\r\n  AccordionBox,\r\n  AccordionItem,\r\n  AccordionLeft,\r\n  AccordionLeftStarBox,\r\n  AccordionLeftTite,\r\n  AccordionRight,\r\n  Content,\r\n  Star,\r\n  StarBox,\r\n  StarFont,\r\n  TabBarBox,\r\n  TabBarItem,\r\n} from './styles';\r\nimport stringArrToPickArr from './utils/stringArrToPickArr';\r\nimport { filterSourceType, filterExamId } from './utils/filterArr';\r\nimport dateToYear from './utils/dateToYear';\r\n\r\nconst Library: React.FC = () => {\r\n  // const [ejuSubjectValue, setEjuSubjectValue] = useState<string[]>(['maths1']); // 科目选中值,默认选中maths1\r\n  const [subjectArr, setSubjectArr] = useState([{ value: '', label: '' }]); // 科目下拉选项\r\n  const [subjectReq, { data: sujectData, loading: subjectLoading }] =\r\n    useLazyQuery(QUERY_SUBJECT); // 查询下拉选项数据\r\n  const [\r\n    subjectTagsReq,\r\n    { data: subjectTagsData, loading: subjectTagLoading },\r\n  ] = useLazyQuery(SUBJECT_TAGS); // 查询该科目下所有题目\r\n\r\n  const {\r\n    subjectTags,\r\n    getUserTagAbilities,\r\n    subjectExams = [],\r\n    getExamHistoryBySubject = [],\r\n  } = subjectTagsData || {};\r\n  const filterExam = useMemo(\r\n    () => filterSourceType(subjectExams),\r\n    [subjectExams]\r\n  ); // 过滤后的考试题目\r\n  const filterExamHis = useMemo(\r\n    () => filterExamId(getExamHistoryBySubject),\r\n    [getExamHistoryBySubject]\r\n  ); // 过滤后的考试记录\r\n  const { state, dispatch } = useContext(ProviderContext);\r\n  const { tabType, ejuSubjectValue } = state;\r\n  const history = useHistory();\r\n  // 切换标签\r\n  const handleTabChange = (type: string): void => {\r\n    dispatch?.({ type: 'setTabType', tabType: type });\r\n  };\r\n  // 根据tabType获取相应的sourceType\r\n  const tabTypeToSourceType = useMemo(() => {\r\n    switch (tabType) {\r\n      case 'quick':\r\n        return 'gaokao';\r\n      case 'topic':\r\n      case 'exam':\r\n        return 'center';\r\n      default:\r\n        return '';\r\n    }\r\n  }, [tabType]);\r\n  // 设置星值\r\n  const setAbilities = useCallback(\r\n    (prevTag: string): ReactElement => {\r\n      let abilities = 0;\r\n      const startArr = [];\r\n      getUserTagAbilities?.forEach(\r\n        (item: { tagId: string; abilityValue: string }) => {\r\n          const { tagId, abilityValue } = item;\r\n          if (prevTag === tagId) {\r\n            abilities = Number(abilityValue);\r\n          }\r\n        }\r\n      );\r\n      for (let i = 1; i <= 5; i += 1) {\r\n        if (abilities === 5) {\r\n          startArr.push(<Star key={i} className=\"all\" />);\r\n        } else if (i <= abilities) {\r\n          startArr.push(<Star key={i} className=\"active\" />);\r\n        } else {\r\n          startArr.push(<Star key={i} />);\r\n        }\r\n      }\r\n      return <>{startArr}</>;\r\n    },\r\n    [getUserTagAbilities]\r\n  );\r\n\r\n  // 获取智能速答题目\r\n  const getQuick = useCallback(() => {\r\n    return subjectTags?.tags?.map((item: any) => {\r\n      const { _id, name, children = [] } = item;\r\n      return (\r\n        <div key={_id}>\r\n          <Card>\r\n            <Card.Header title={name} />\r\n            <Card.Body>\r\n              <Accordion>\r\n                {children.map((item2: any) => {\r\n                  const {\r\n                    name: name2,\r\n                    _id: _id2,\r\n                    children: children2 = [],\r\n                  } = item2;\r\n                  return (\r\n                    <Accordion.Panel\r\n                      header={name2}\r\n                      key={_id2}\r\n                      style={{ marginBottom: '10px' }}\r\n                    >\r\n                      <AccordionBox>\r\n                        {children2.map((item3: any) => {\r\n                          const { name: name3, _id: _id3 } = item3;\r\n                          const abilities = setAbilities(_id3);\r\n                          return (\r\n                            <AccordionItem key={_id3}>\r\n                              <AccordionLeft>\r\n                                <AccordionLeftTite>{name3}</AccordionLeftTite>\r\n                                <AccordionLeftStarBox>\r\n                                  <StarFont>菓星值</StarFont>\r\n                                  <StarBox>{abilities}</StarBox>\r\n                                </AccordionLeftStarBox>\r\n                              </AccordionLeft>\r\n                              <AccordionRight>\r\n                                <Button\r\n                                  type=\"primary\"\r\n                                  size=\"small\"\r\n                                  inline\r\n                                  onClick={(): void =>\r\n                                    history.push(\r\n                                      `/quick?subject=${\r\n                                        subjectTags?.subject || ''\r\n                                      }&tagId=${\r\n                                        _id3 || ''\r\n                                      }&tag=${name3}&sourceType=${tabTypeToSourceType}`\r\n                                    )\r\n                                  }\r\n                                >\r\n                                  开始练习\r\n                                </Button>\r\n                              </AccordionRight>\r\n                            </AccordionItem>\r\n                          );\r\n                        })}\r\n                      </AccordionBox>\r\n                    </Accordion.Panel>\r\n                  );\r\n                })}\r\n              </Accordion>\r\n            </Card.Body>\r\n          </Card>\r\n          <WhiteSpace size=\"lg\" />\r\n        </div>\r\n      );\r\n    });\r\n  }, [\r\n    history,\r\n    setAbilities,\r\n    subjectTags?.subject,\r\n    subjectTags?.tags,\r\n    tabTypeToSourceType,\r\n  ]);\r\n\r\n  // 开始考试联系\r\n  const handleToExamInfo = useCallback(\r\n    (data) => {\r\n      dispatch?.({ type: 'setExam', exam: data });\r\n      history.push('/exam-info');\r\n    },\r\n    [dispatch, history]\r\n  );\r\n  // 获取套卷模拟\r\n  const getExam = useCallback(() => {\r\n    return (\r\n      <Accordion>\r\n        {filterExam.map((item) => {\r\n          return (\r\n            <Accordion.Panel\r\n              header={item.sourceType}\r\n              style={{ marginBottom: '20px' }}\r\n              key={item.sourceType}\r\n            >\r\n              <AccordionBox>\r\n                {item.children.map((val) => {\r\n                  const { date: examDate } = val;\r\n                  return (\r\n                    <AccordionItem key={val._id}>\r\n                      <AccordionLeft>\r\n                        <AccordionLeftTite>\r\n                          {dateToYear(examDate)}\r\n                        </AccordionLeftTite>\r\n                        <AccordionLeftStarBox>\r\n                          <StarFont>\r\n                            个人历史最高分：{filterExamHis[val._id]?.bestPoints}\r\n                          </StarFont>\r\n                        </AccordionLeftStarBox>\r\n                      </AccordionLeft>\r\n                      <AccordionRight>\r\n                        <Button\r\n                          type=\"primary\"\r\n                          size=\"small\"\r\n                          inline\r\n                          onClick={(): void =>\r\n                            handleToExamInfo({\r\n                              exam: val,\r\n                              examHis: filterExamHis[val._id],\r\n                            })\r\n                          }\r\n                        >\r\n                          开始练习\r\n                        </Button>\r\n                      </AccordionRight>\r\n                    </AccordionItem>\r\n                  );\r\n                })}\r\n              </AccordionBox>\r\n            </Accordion.Panel>\r\n          );\r\n        })}\r\n      </Accordion>\r\n    );\r\n  }, [filterExam, filterExamHis, handleToExamInfo]);\r\n\r\n  // 获取专题模拟\r\n  const getTopic = useCallback(() => {\r\n    return subjectTags?.tags?.map((item: any) => {\r\n      const { _id, name } = item;\r\n      const abilities = setAbilities(_id);\r\n\r\n      return (\r\n        <AccordionItem key={_id}>\r\n          <AccordionLeft>\r\n            <AccordionLeftTite>{name}</AccordionLeftTite>\r\n            <AccordionLeftStarBox>\r\n              <StarFont>菓星值</StarFont>\r\n              <StarBox>{abilities}</StarBox>\r\n            </AccordionLeftStarBox>\r\n          </AccordionLeft>\r\n          <AccordionRight>\r\n            <Button\r\n              type=\"primary\"\r\n              size=\"small\"\r\n              inline\r\n              onClick={(): void =>\r\n                history.push(\r\n                  `/topic?subject=${subjectTags?.subject || ''}&tagId=${\r\n                    _id || ''\r\n                  }&tag=${name}`\r\n                )\r\n              }\r\n            >\r\n              开始练习\r\n            </Button>\r\n          </AccordionRight>\r\n        </AccordionItem>\r\n      );\r\n    });\r\n  }, [history, setAbilities, subjectTags?.subject, subjectTags?.tags]);\r\n\r\n  // 更改科目选项\r\n  const changeEjuSubject = (value: string[]): void => {\r\n    dispatch?.({ type: 'setEjuSubjectValue', ejuSubjectValue: value });\r\n  };\r\n\r\n  // 查询题库筛选科目的值\r\n  useEffect(() => {\r\n    subjectReq({\r\n      variables: {\r\n        sourceType: tabTypeToSourceType,\r\n      },\r\n    });\r\n  }, [subjectReq, tabTypeToSourceType]);\r\n  // 查询科目下所有题目\r\n  useEffect(() => {\r\n    const subject = ejuSubjectValue?.[0];\r\n    subject &&\r\n      subjectTagsReq({\r\n        variables: {\r\n          sourceType: tabTypeToSourceType,\r\n          subject,\r\n        },\r\n      });\r\n  }, [ejuSubjectValue, subjectTagsReq, tabTypeToSourceType]);\r\n  // 设置下拉选项\r\n  useEffect(() => {\r\n    const { typeSubjects } = sujectData || {};\r\n    if (typeSubjects) {\r\n      setSubjectArr(stringArrToPickArr(typeSubjects, subjectEnum));\r\n    }\r\n  }, [sujectData]);\r\n  // 接口loading\r\n  useEffect(() => {\r\n    (subjectLoading || subjectTagLoading) && Toast.loading('加载中', 0);\r\n    !subjectLoading && !subjectTagLoading && Toast.hide();\r\n  }, [subjectLoading, subjectTagLoading]);\r\n\r\n  return (\r\n    <Content>\r\n      <TabBarBox>\r\n        <TabBarItem\r\n          className={tabType === 'quick' ? 'active' : ''}\r\n          onClick={(): void => handleTabChange('quick')}\r\n        >\r\n          智能速答\r\n        </TabBarItem>\r\n        <TabBarItem\r\n          className={tabType === 'topic' ? 'active' : ''}\r\n          onClick={(): void => handleTabChange('topic')}\r\n        >\r\n          专题模拟\r\n        </TabBarItem>\r\n        <TabBarItem\r\n          className={tabType === 'exam' ? 'active' : ''}\r\n          onClick={(): void => handleTabChange('exam')}\r\n        >\r\n          套卷模拟\r\n        </TabBarItem>\r\n      </TabBarBox>\r\n      <WhiteSpace size=\"xl\" />\r\n\r\n      <Picker\r\n        data={subjectArr}\r\n        cols={1}\r\n        value={ejuSubjectValue}\r\n        onOk={(value: string[]): void => changeEjuSubject(value)}\r\n      >\r\n        <PickItem placeholder=\"请选择考学科目\" />\r\n      </Picker>\r\n      {tabType === 'quick' && getQuick()}\r\n      {tabType === 'topic' && getTopic()}\r\n      {tabType === 'exam' && getExam()}\r\n      <BottomBlank />\r\n    </Content>\r\n  );\r\n};\r\n\r\nexport default Library;\r\n","export interface FilterSourceTypeProps {\r\n  date: string;\r\n  sourceType: string;\r\n  subject: string;\r\n  _id: string;\r\n  fullPoints: number;\r\n  timeLimit: number;\r\n}\r\ninterface FilterSourceTypeReturn {\r\n  sourceType: string;\r\n  children: FilterSourceTypeProps[];\r\n}\r\nexport function filterSourceType(\r\n  arr: FilterSourceTypeProps[]\r\n): FilterSourceTypeReturn[] {\r\n  const comMap: { [key: string]: FilterSourceTypeProps[] } = {}; // 用于比对是否已存当前项\r\n  const resultArr: FilterSourceTypeReturn[] = []; // 最后过滤好的数据\r\n  arr?.forEach((item) => {\r\n    const { sourceType } = item;\r\n    if (comMap[sourceType as keyof typeof comMap]) {\r\n      comMap[sourceType as keyof typeof comMap].push(item);\r\n    } else {\r\n      comMap[sourceType as keyof typeof comMap] = [{ ...item }];\r\n    }\r\n  });\r\n  Object.keys(comMap).forEach((key) => {\r\n    resultArr.push({\r\n      sourceType: key,\r\n      children: comMap[key],\r\n    });\r\n  });\r\n  return resultArr;\r\n}\r\n\r\nexport interface FilterExamIdProps {\r\n  bestPoints: number;\r\n  examId: string;\r\n  frequency: number;\r\n  previousPoints: number;\r\n  subject: string;\r\n  timeCounter: number;\r\n  userId: string;\r\n}\r\ninterface FilterExamIdReturn {\r\n  [key: string]: FilterExamIdProps;\r\n}\r\nexport function filterExamId(arr: FilterExamIdProps[]): FilterExamIdReturn {\r\n  const resultMap: FilterExamIdReturn = {};\r\n  arr?.forEach((item) => {\r\n    const { examId } = item || {};\r\n    resultMap[examId as keyof typeof resultMap] = item;\r\n  });\r\n  return resultMap;\r\n}\r\n","import styled from 'styled-px2vw';\r\nimport pkg from '../../../package.json';\r\nimport star from './images/icon-star.png';\r\nimport star2 from './images/icon-star2.png';\r\nimport iconArrow from './images/icon-arrow.png';\r\n\r\nconst themeColor = pkg.theme['brand-primary'];\r\n\r\nexport const Page = styled.div``;\r\n\r\nexport const TabBox = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  height: 128px;\r\n`;\r\n\r\nexport const TabItem = styled.div`\r\n  width: 190px;\r\n  height: 50px;\r\n  border-radius: 60px;\r\n  font-size: 32px;\r\n  letter-spacing: 0.4px;\r\n  font-weight: bold;\r\n  color: #7f7f7f;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  &.active {\r\n    color: #fff;\r\n    background-color: ${themeColor};\r\n  }\r\n`;\r\n\r\nexport const InfoBox = styled.div`\r\n  background: ${themeColor};\r\n  border-radius: 0px 0px 30px 30px;\r\n  padding: 20px 74px;\r\n  position: relative;\r\n  z-index: 1;\r\n`;\r\n\r\nexport const InfoLi = styled.div`\r\n  height: 70px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport const InfoItem = styled.div`\r\n  min-width: 124px;\r\n  color: #fff;\r\n  flex: 1;\r\n`;\r\n\r\nexport const IconStar = styled.i`\r\n  display: inline-block;\r\n  width: 36px;\r\n  height: 34px;\r\n  background: url(${star2}) no-repeat center;\r\n  margin-right: 16px;\r\n  background-size: contain;\r\n  &:last-child {\r\n    margin-right: 0;\r\n  }\r\n  &.active {\r\n    background-image: url(${star});\r\n  }\r\n`;\r\n\r\n// 图标\r\nexport const StrengthPage = styled.div`\r\n  padding: 20px 40px;\r\n`;\r\nexport const SelectBox = styled.div`\r\n  padding-top: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n`;\r\n\r\nexport const SelectBoxItem = styled.div`\r\n  width: 50%;\r\n  flex-shrink: 0;\r\n`;\r\n\r\nexport const Table = styled.table`\r\n  width: 100%;\r\n`;\r\nexport const Tr = styled.tr`\r\n  height: 50px;\r\n`;\r\n\r\nexport const Td = styled.td`\r\n  vertical-align: middle;\r\n  font-size: 28px;\r\n  text-align: center;\r\n`;\r\nexport const Th = styled.th`\r\n  font-size: 32px;\r\n  color: ${themeColor};\r\n`;\r\n\r\nexport const RadarScroll = styled.div`\r\n  height: calc(100vh - 395px);\r\n  overflow-y: auto;\r\n`;\r\n\r\nexport const PredictBox = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 20px 30px;\r\n`;\r\nexport const PredictBoxButton = styled.button`\r\n  background: #f8fffc;\r\n  border: 1px solid ${themeColor};\r\n  box-sizing: border-box;\r\n  border-radius: 16px;\r\n  flex-shrink: 0;\r\n  width: 166px;\r\n  height: 74px;\r\n  color: ${themeColor};\r\n  font-size: 32px;\r\n`;\r\nexport const PredictBoxFont = styled.div`\r\n  font-weight: bold;\r\n  font-size: 40px;\r\n  letter-spacing: 0.3px;\r\n  color: ${themeColor};\r\n`;\r\n\r\nexport const PredictSelect = styled.div`\r\n  padding-right: 30px;\r\n`;\r\n\r\nexport const PredictScroll = styled.div`\r\n  height: calc(100vh - 308px);\r\n  overflow-y: auto;\r\n`;\r\n// 天梯排行\r\nexport const LadderBox = styled.div`\r\n  background-color: #f5f5f5;\r\n  position: absolute;\r\n  top: 128px;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n`;\r\n\r\nexport const LadderContent = styled.div`\r\n  position: absolute;\r\n  top: 180px;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n`;\r\nexport const RankHeader = styled.div`\r\n  height: 126px;\r\n  padding: 34px;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nexport const ItemFirst = styled.div`\r\n  width: 64px;\r\n  flex-shrink: 0;\r\n  color: #bdbdbd;\r\n  font-size: 32px;\r\n  text-align: center;\r\n`;\r\nexport const ItemSecond = styled.div<{ pl?: string }>`\r\n  width: 100%;\r\n  padding-left: ${(props): string => props.pl || '0px'};\r\n  color: #bdbdbd;\r\n  font-size: 32px;\r\n`;\r\nexport const ItemThird = styled.div`\r\n  display: inline-flex;\r\n  width: 248px;\r\n  flex-shrink: 0;\r\n  font-size: 32px;\r\n  justify-content: flex-end;\r\n`;\r\n\r\nexport const RankList = styled.div`\r\n  position: absolute;\r\n  top: 126px;\r\n  bottom: 0px;\r\n  left: 0;\r\n  right: 0;\r\n  overflow-y: auto;\r\n  background-color: #fff;\r\n`;\r\n\r\nexport const RankItem = styled.div`\r\n  height: 144px;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0 34px;\r\n  &.my {\r\n    background-color: #d7efe0;\r\n  }\r\n`;\r\n\r\nexport const RankItemCenter = styled.div`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  color: #000;\r\n`;\r\nexport const RankItemStart = styled(RankItemCenter)``;\r\n\r\nexport const RankAvatar = styled.div<{ img: string }>`\r\n  display: inline-block;\r\n  width: 84px;\r\n  height: 84px;\r\n  border-radius: 50%;\r\n  background-image: url(${(prop): string => prop.img || ''});\r\n  background-size: cover;\r\n  background-position: center;\r\n  margin-right: 24px;\r\n`;\r\n\r\nexport const RankItemEnd = styled.div`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  color: #bfbfbf;\r\n`;\r\n\r\nexport const RankIcon = styled.i<{ img: string }>`\r\n  display: inline-block;\r\n  width: 46px;\r\n  height: 45px;\r\n  background: url(${(props): string => props.img || ''}) no-repeat center;\r\n  background-size: contain;\r\n  margin-left: 46px;\r\n`;\r\n\r\nexport const SelectItem = styled.div`\r\n  width: 248px;\r\n  height: 74px;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  padding: 0 48px 0 28px;\r\n  justify-content: space-between;\r\n  border-radius: 16px;\r\n  border: 1px solid #e8e8e8;\r\n  background: #fff;\r\n`;\r\nexport const IconArrow = styled.i`\r\n  width: 40px;\r\n  height: 25px;\r\n  display: inline-block;\r\n  background: url(${iconArrow}) no-repeat center;\r\n  background-size: contain;\r\n`;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAiCAYAAAA3WXuFAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOMSURBVHgBzZixUxNBFMa/vRAgViSdoSCKvTKCM87ITCi0U7RRO7RSKoXOCiyshUalgtKxAjrHQhyYcUbigH8AmIbYERonICTney8hs3d7e3CXyPibucnt7e3td++9ffsuwH+GQou468jDwRid7qGKH+oaFtACHWgB9zum4GKajjqOXOtTV/ESMYltIZr4EQmZD+ys4XFcS8UXVMBP+slZuotqEBcQAwcxEOv4xFTcbr2ZI8F3cVaCyFVjerNwNCiHj2c4C0HuV7FMXr/28c9NrB8agvKyAv+1ICRpZWlsVS+iXEujVMvKuQcV3W2RBAVZZ11z1erhDf+QMXcDPWi3IBYi5k/iNbRgLrtpFDRXbVX7/cHdQ8lynsc2XuZEPMu+kXVHKWhz1LwiD4T9DZcO7hhWudX5SY4Q9ugoyq/CJs31hVLEokeQqE/iM3C6t2DYOq9+vzCup1QFk+dmkFZlRKCIQ4yo6yjWXRZRDAfvm8rTwL6Km5I+FhwBNohkfeV+I9c42Ai7mx/OsbFT65WYMVaThcFkAZecbaSdXWSc8slWq2Ggg5xmxMjSwe16gCIlSzouLL4Ab37qVvvIqF30J7Yx2rXsHUBaHNrvN1EPtCbDnWsti7GxT5auoJvmWDU7SYujBkiM6y0XMmTa8dQ7MnWkwDwV7L7x1JzM4YE0sJbmsqdYWmgUWk04QN9WnkgWbgdZpyQvmiK3+Zilpf+cT7x5qIAZBGyK7w/uexJgHDjARzuXQ8UwnkwtHa5Z7T3s+iBvFxd2Ez/DEMNu0sQYgkTUkJSkhihjRUSAY8aAxfBcPgL3siBRvEyzzi9EpT+xFRzAAWKsgpqigBX9Wjaxg6hkHEPMkk1MqKAGe2g3Dsrh3eHk9Ea5lkFUds3kmg+73/pdJoVVVUqQJqXaec89HFfDyVX0JkrNyblg01OEkcOotOFnS0KOIghHJEZ5xXCiZI6XMQvSSSfKcm2oo0C564FsPTyGx3oWRFWstBg0bZjL8nqDN1umnm3nDDE63KdvPcdjm7j2UscuSOGy3twh03O25Ykypyi++J7J1Ay5dC1o68nbxoV92+f0BrvBYpUVqmMm5MyRmjt/3MHVIyfUgK+RPsQQ5MEiZtaX+keoLp+mCadOGGtNJ3aXUQKDHS5ZJvz7ENPI8hMIQ0mRb+my6akvey5tc76uIrnoHv27sYkQQj4cikhgwLbs/wJHNFBxJCAuxAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAiCAYAAAA3WXuFAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAILSURBVHgBzZjRUcJAEIb/C/CuFRAqUEZxxrdQgVoBWIFagVoCFUgJWIH45IzggBWYDuRdIP53MAww7JFcEuCbuUlgQ+7P7u3eBuDAUEhJ1EMADw2ejjDBt7pAGykoIgXRFx4R4Yljhme+K6szPMMRZw9x4iaFvGw0TnHr6il3QX388OAL5lCdowIHPDhgvCOL0fgUfA0HnAQxVI0YV93BgcQhiz7omZIJV4yLUVc1dJGA5B4qMbPiopKHLZGH5t55g339LDNCARVV5TFLQUZIkUOZdZH0qTsMXQtjZt4lwm0XrwiaV90r3sDnx1OOo/nIEu2t0BwVhpzrnSWisyLIIRRZE+KPCUAPzhb1fsXAzF2aVX0VfTI0HgY4BKaoegxa1mvEHWrxmD1DIH5a5gq1eKZGRO7tQmZQg9aySHuupfa80doHLab+vT5ZbB3sX5ragN2zELMiSGMMuwyfDtOSGKNh43U9tqUqwSbqKqbGedYQ97JcRQlirILM7/qmggfIVswrxYgb9LZ+KPv65OHXbrbjI3sCm1FeQwNuKRP70zhTwLHUtMkeGpt+KB8mspdsIQuQF5G8FGRBCifIj0Ay2DzkIx5d3ceYgZivPAplyZTqzwas7UOkHrOgiuVE9hALGGw3jPCwvg9pTAWmDTaU/PaxLe11a+uvmUKG54bdwRAWLC8OIdO+KqX9P4DXkJet9ho7AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAZCAYAAABD2GxlAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEiSURBVHgBzdc5DoJAFMbx91waK4/iDYwn0SNoLGxtLYwcQU9CvAFHsaJRMvKNQEjYZnmA/4Z1Mr/ANEP053F+sg/PyxkvQsUquK5PDxqh4/OyZcX7j4o3web8KoAFjmil32S1GxoJHCm+Z6goR3IFlzcgsowrps+QkykvbhUcSgfogSPg9PSpCbZJouaH9DqqHd0zsgmXFSUqPmRr8Lac8jukui+JevjdBrjfGszvDIk0xelpy0+GQNrgKsC+kba4WmBfSBdcI1Aa6YprBUohfXCdQF+kL84I6IqUwBkDbZFSOCugKVIfhXDWQNSJbM4ah6yByAHphENOQGSBdMYhZyAyQHrhkBcQtSC9ccgbiGqQIjgkAkQlJEnhxAMSmzAS7Aulikly8DsnuwAAAABJRU5ErkJggg==\"","import React, { ReactElement, useEffect, useMemo, useState } from 'react';\r\nimport { Picker } from 'antd-mobile';\r\nimport { BottomBlank } from '@/components/TabBar/styles';\r\nimport { useQuery } from '@apollo/client';\r\nimport { FIND_RANK } from '@/helpers/APIHelper';\r\nimport {\r\n  IconArrow,\r\n  ItemFirst,\r\n  ItemSecond,\r\n  ItemThird,\r\n  LadderBox,\r\n  LadderContent,\r\n  RankAvatar,\r\n  RankHeader,\r\n  RankIcon,\r\n  RankItem,\r\n  RankItemCenter,\r\n  RankItemEnd,\r\n  RankItemStart,\r\n  RankList,\r\n  SelectItem,\r\n} from '../styles';\r\nimport iconUp from '../images/icon-up.png';\r\nimport iconDown from '../images/icon-down.png';\r\nimport iconNoChange from '../images/icon-no-change.png';\r\n\r\ninterface RankScoreItem {\r\n  chemistry: number;\r\n  math: number;\r\n  physics: number;\r\n}\r\ninterface RankItemTypes {\r\n  userName: string;\r\n  avatar: string;\r\n  thisUser: boolean;\r\n  lastSeason: RankScoreItem;\r\n  lastWeak: RankScoreItem;\r\n  thisWeak: RankScoreItem;\r\n}\r\n\r\ninterface PointItem {\r\n  value: string;\r\n  label: string;\r\n}\r\n\r\ninterface LadderProps {\r\n  handleRankInfo: (info: { num: number; points: number }) => void;\r\n}\r\nconst Ladder: React.FC<LadderProps> = (props) => {\r\n  const { handleRankInfo } = props;\r\n  const { data: findRankData } = useQuery(FIND_RANK);\r\n  // 排行榜数据\r\n  const rankArr = useMemo(() => {\r\n    return findRankData?.findRank?.findRank || [];\r\n  }, [findRankData?.findRank?.findRank]);\r\n  console.log('findRankData++++', rankArr);\r\n  // 选中的排行榜排行数据\r\n  const [rankValue, setRankValue] = useState<string[]>(['total']);\r\n  // 筛选的数据类型\r\n  const [rankData, setRankData] = useState<PointItem[]>([]);\r\n  // 设置下拉选框展示的值\r\n  const getPointsLabel = (): string => {\r\n    let pointsLabel = '';\r\n    rankData.forEach((item) => {\r\n      if (item.value === rankValue[0]) {\r\n        pointsLabel = item.label;\r\n      }\r\n    });\r\n    return pointsLabel;\r\n  };\r\n  // 获取列表项\r\n  const getRankItem = (): ReactElement[] => {\r\n    return rankArr.map((item: RankItemTypes, index: number) => {\r\n      const { thisWeak, userName, lastWeak, thisUser, avatar } = item;\r\n      const { math, physics, chemistry } = thisWeak;\r\n      const {\r\n        math: lastMath,\r\n        physics: lastPhysics,\r\n        chemistry: lastChemistry,\r\n      } = lastWeak;\r\n      let thisWeakPoints = 0;\r\n      let lastWeakPoints = 0;\r\n\r\n      if (rankValue[0] === 'total') {\r\n        // 本周总分数\r\n        thisWeakPoints = math + physics + chemistry;\r\n        // 上周总分数\r\n        lastWeakPoints = lastMath + lastPhysics + lastChemistry;\r\n      } else {\r\n        // 本周单独科目分数\r\n        thisWeakPoints = thisWeak[rankValue[0] as keyof typeof thisWeak];\r\n        // 上周单独科目分数\r\n        lastWeakPoints = lastWeak[rankValue[0] as keyof typeof thisWeak];\r\n      }\r\n      // 分数比对\r\n      const pointCompare = thisWeakPoints - lastWeakPoints;\r\n      // 设置展示分数\r\n      if (thisUser) {\r\n        handleRankInfo({ num: index + 1, points: math + physics + chemistry });\r\n      }\r\n      return (\r\n        <RankItem className={thisUser ? 'my' : ''}>\r\n          <ItemFirst>\r\n            <RankItemStart>{index + 1}</RankItemStart>\r\n          </ItemFirst>\r\n          <ItemSecond pl=\"12px\">\r\n            <RankItemCenter>\r\n              <RankAvatar img={avatar} />\r\n              {userName}\r\n            </RankItemCenter>\r\n          </ItemSecond>\r\n          <ItemThird>\r\n            <RankItemEnd>\r\n              {thisWeakPoints}\r\n              {pointCompare > 0 && <RankIcon img={iconUp} />}\r\n              {pointCompare === 0 && <RankIcon img={iconNoChange} />}\r\n              {pointCompare < 0 && <RankIcon img={iconDown} />}\r\n            </RankItemEnd>\r\n          </ItemThird>\r\n        </RankItem>\r\n      );\r\n    });\r\n  };\r\n\r\n  // 获取下拉选框的值\r\n  useEffect(() => {\r\n    if (rankArr.length > 0) {\r\n      const userItem = rankArr[0];\r\n      const thisWeak = userItem?.thisWeak;\r\n      const initData = [{ value: 'total', label: '总分' }];\r\n      Object.keys(thisWeak).forEach((item) => {\r\n        item !== '__typename' &&\r\n          initData.push({\r\n            value: item,\r\n            label: item,\r\n          });\r\n      });\r\n      setRankData(initData);\r\n    }\r\n  }, [rankArr]);\r\n  return (\r\n    <LadderBox>\r\n      <LadderContent>\r\n        <RankHeader>\r\n          <ItemFirst>排名</ItemFirst>\r\n          <ItemSecond pl=\"100px\">昵称</ItemSecond>\r\n          <ItemThird>\r\n            <Picker\r\n              data={rankData}\r\n              cols={1}\r\n              value={rankValue}\r\n              onOk={(value: string[]): void => setRankValue(value)}\r\n            >\r\n              <SelectItem>\r\n                <span>{getPointsLabel()}</span>\r\n                <IconArrow />\r\n              </SelectItem>\r\n            </Picker>\r\n          </ItemThird>\r\n        </RankHeader>\r\n        <RankList>\r\n          {getRankItem()}\r\n          <BottomBlank />\r\n        </RankList>\r\n      </LadderContent>\r\n    </LadderBox>\r\n  );\r\n};\r\n\r\nexport default Ladder;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAtCAYAAADRLVmZAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFqSURBVHgB7dhdTsJAFIbhU1fAjrQ70R20/l7KtUqAFYg7YAfUHbEA6zhUvxpayvydOYVk3psmc0h5QkI6U6IzLaNI3X6+PmeKiuZLMlq9XT6UxFgU+F318q4v153l1ezq8YaYYocPoBEbnhVuQCMWPBvcEo2C8SxwRzQKwgfDPdHIGx8ED0QjL7w3nAmNnPFecGY0csJfkGNGtFIfXjN9z797W+UEt0HP8qfBeTNjwlvDQ9GIC28F50IjDrwRzo1Gofij8FhoFIIfhMdGI1/8QbgUGvnge3BpNHLF78HHQiMXfAvXZ8Q5jYhGNvh7bW3gxWY+yZQqBj8qhEYmvNJW8wNIGI1M+Aa+yMut3ihWvelIaHQEv25/8Vp97baU63akvpdjotEvnpb/K1lVq7rs7ceLzXSyuy7y6ZY80/98dWhd77e9Dy5dV6wXQuzwbs4HiVMpwaVLcOkSXLoEly7BpUtw6RJcugSX7gfElw530y00HwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAGCAYAAACxWNwrAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAjSURBVHgB7c4xAQAACAJBNP931hAsDFyCG+AUbBWuQVeDrgcGzgKv9b2JLgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAtCAYAAADRLVmZAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGjSURBVHgB7dnvTcJAGMfx55qAL4RENyh95QurjuAIbGBHYAQ3QCYAJ3AEVzDB1+gGmCh9yXm/JkXF/ru7p1c0902a0BaaT0rb9HKCWmgTxbJo+/FqKYipgP5oHu46D3edh7vOw13n4a7zcNd5uOs83HX/B74OwxMsdGDtu4KvHWdhOoof+8FwjSWN4ikdSGl0Mf3meoB1B+8HvakUdJ2vq9HuRA1659Rxm+hyLklO8nXlGh+J3jyDr8Mr/AXjgt8lXeKBJtom+9txgpvcnJ3gy9B5Gfz09eltS3JWcRyn+Dq0unRmuzM+XD1PpKT78sO5wdeilXGgrD8ulcHLMukS3witjPj86xrvCq+DRoU3p2u8LhqVPlVc4U3QqPJx2DbeFI1qn+Nt4W3QqNHbITfeFo0av9Zy4TnQSHuG4GMUL4Sgm4qvLNSSFO8KFhxoZDS10QCvnQ4aGc/JcOJ10chqMokDb4JG1rNgNnhTNGKZvjPB26AR27yjDt4WjdjgqAmeA41Y4agKz4VG7HBUhOdEo1bg6D06vwtIZHiMZ9XQ8JYY+wTqEBWUpFzitAAAAABJRU5ErkJggg==\"","// 根据分数获取等级\r\nconst getLevel = (point: number | string, type: string): string => {\r\n  let level = '';\r\n  if (type === 'math') {\r\n    switch (true) {\r\n      case point < 100:\r\n        level = 'D';\r\n        break;\r\n      case point >= 100 && point < 120:\r\n        level = 'C';\r\n        break;\r\n      case point >= 120 && point < 150:\r\n        level = 'B';\r\n        break;\r\n      case point >= 150 && point < 180:\r\n        level = 'A';\r\n        break;\r\n      case point >= 180:\r\n        level = 'S';\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n  if (type === 'physics' || type === 'chemistry') {\r\n    switch (true) {\r\n      case point < 55:\r\n        level = 'D';\r\n        break;\r\n      case point >= 55 && point < 65:\r\n        level = 'C';\r\n        break;\r\n      case point >= 65 && point < 75:\r\n        level = 'B';\r\n        break;\r\n      case point >= 75 && point < 85:\r\n        level = 'A';\r\n        break;\r\n      case point >= 85:\r\n        level = 'S';\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n  return level;\r\n};\r\n\r\nexport default getLevel;\r\n","import React, { ReactElement, useEffect } from 'react';\r\nimport F2 from '@antv/f2';\r\nimport { Card, WhiteSpace, WingBlank } from 'antd-mobile';\r\nimport { BottomBlank } from '@/components/TabBar/styles';\r\nimport { useQuery } from '@apollo/client';\r\nimport { FIND_AI } from '@/helpers/APIHelper';\r\nimport pkg from '../../../../package.json';\r\nimport { RadarScroll, Table, Td, Th, Tr } from '../styles';\r\nimport getLevel from '../utils/getLevel';\r\n\r\nconst themeColor = pkg.theme['brand-primary'];\r\n\r\nconst Radar: React.FC = () => {\r\n  const { data: findAiData } = useQuery(FIND_AI);\r\n  const { findAi } = findAiData || {};\r\n\r\n  useEffect(() => {\r\n    const { myPoint } = findAi || {};\r\n    if (myPoint) {\r\n      const myPointData = { ...myPoint };\r\n      delete myPointData.__typename;\r\n      console.log('myPointData++++', myPointData);\r\n\r\n      const data = Object.keys(myPointData).map((item) => {\r\n        return {\r\n          item,\r\n          score: getLevel(myPointData[item as keyof typeof myPointData], item),\r\n        };\r\n      });\r\n      // const data = [\r\n      //   {\r\n      //     item: '英语',\r\n      //     score: 'S',\r\n      //   },\r\n      //   {\r\n      //     item: '日语',\r\n      //     score: 'A',\r\n      //   },\r\n      //   {\r\n      //     item: '数学',\r\n      //     score: 'B',\r\n      //   },\r\n      //   {\r\n      //     item: '物理',\r\n      //     score: 'C',\r\n      //   },\r\n      //   {\r\n      //     item: '化学',\r\n      //     score: 'B',\r\n      //   },\r\n      // ];\r\n      const { width } = window.screen;\r\n      const chart = new F2.Chart<typeof data[0]>({\r\n        id: 'radarChart',\r\n        pixelRatio: window.devicePixelRatio,\r\n        padding: 'auto',\r\n        width,\r\n        height: width * 0.8,\r\n      });\r\n\r\n      chart.coord('polar');\r\n      chart.source(data, {\r\n        score: {\r\n          type: 'cat',\r\n          values: ['D', 'C', 'B', 'A', 'S'],\r\n        },\r\n      });\r\n\r\n      chart.axis('score', {\r\n        label: (text, index, total) => {\r\n          return { top: true, text };\r\n        },\r\n        grid: (text) => {\r\n          return { top: true, text };\r\n        },\r\n        line: {\r\n          top: false,\r\n        },\r\n      });\r\n      chart.axis('item', {\r\n        label: (text, index, total) => {\r\n          return { top: true, text };\r\n        },\r\n      });\r\n      chart\r\n        .area()\r\n        .position('item*score')\r\n        .color(`${themeColor}`)\r\n        .animate({\r\n          appear: {\r\n            animation: 'groupWaveIn',\r\n          },\r\n        });\r\n      chart\r\n        .line()\r\n        .position('item*score')\r\n        .color(`${themeColor}`)\r\n        .animate({\r\n          appear: {\r\n            animation: 'groupWaveIn',\r\n          },\r\n        });\r\n      chart\r\n        .point()\r\n        .position('item*score')\r\n        .color(`${themeColor}`)\r\n        .style({\r\n          stroke: '#fff',\r\n          lineWidth: 1,\r\n        })\r\n        .animate({\r\n          appear: {\r\n            delay: 300,\r\n          },\r\n        });\r\n      chart.legend({\r\n        custom: true,\r\n        items: [\r\n          {\r\n            name: '能力现状',\r\n            marker: 'circle',\r\n            fill: themeColor,\r\n          },\r\n        ],\r\n      });\r\n      chart.render();\r\n    }\r\n  }, [findAi]);\r\n\r\n  const getTabelData = (): ReactElement => {\r\n    const { myPoint } = findAi || {};\r\n    const myPointData = { ...myPoint };\r\n    delete myPointData.__typename;\r\n    const tableListData: ReactElement[] = [];\r\n    Object.keys(myPointData).forEach((item) => {\r\n      let point = 0;\r\n      if (item === 'english') {\r\n        point = myPointData[item as keyof typeof myPointData].toefl;\r\n      } else {\r\n        point = myPointData[item as keyof typeof myPointData];\r\n      }\r\n      tableListData.push(\r\n        <Tr>\r\n          <Td>{item}</Td>\r\n          <Td>{point}</Td>\r\n          <Td>{getLevel(point, item)}</Td>\r\n        </Tr>\r\n      );\r\n    });\r\n    return (\r\n      <Table>\r\n        <Tr>\r\n          <Th>科目</Th>\r\n          <Th>预测分数</Th>\r\n          <Th>评级</Th>\r\n        </Tr>\r\n        {tableListData}\r\n      </Table>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <RadarScroll>\r\n      <canvas id=\"radarChart\" width=\"300\" height=\"300\" />\r\n      <WingBlank size=\"lg\">\r\n        <WhiteSpace size=\"lg\" />\r\n        <Card>\r\n          <Card.Header title=\"数据明细\" />\r\n          <Card.Body>{getTabelData()}</Card.Body>\r\n        </Card>\r\n        <WhiteSpace size=\"lg\" />\r\n      </WingBlank>\r\n      <BottomBlank />\r\n    </RadarScroll>\r\n  );\r\n};\r\n\r\nexport default Radar;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport F2 from '@antv/f2';\r\nimport PickItem from '@/components/PickItem';\r\nimport { Picker } from 'antd-mobile';\r\nimport { FIND_VALUE } from '@/helpers/APIHelper';\r\nimport { useQuery } from '@apollo/client';\r\nimport { SelectBox, SelectBoxItem } from '../styles';\r\n\r\n// interface SubjectParsingItem {\r\n//   chemistry: { [key: string]: number };\r\n//   math: { [key: string]: number };\r\n//   physicals: { [key: string]: number };\r\n// }\r\n// interface SubjectParsingProps {\r\n//   userInfo?: SubjectParsingItem;\r\n//   generalInfo?: {\r\n//     average?: SubjectParsingItem;\r\n//     top: SubjectParsingItem;\r\n//   };\r\n// }\r\n\r\ninterface SelectData {\r\n  value: string;\r\n  label: string;\r\n}\r\nconst SubjectParsing: React.FC = () => {\r\n  const [pointsData, setPointData] = useState<SelectData[]>([]);\r\n  const [pointsValue, setPointValue] = useState<string[]>(['Calculus']);\r\n  const [subjectData, setSubjectData] = useState<SelectData[]>([]);\r\n  const [subjectvalue, setSubjectValue] = useState<string[]>(['math']);\r\n  const { data: findValueData } = useQuery(FIND_VALUE);\r\n  const chartRef = useRef<any>();\r\n  // 选择学科\r\n  const handleSubjectChange = (value: string[]): void => {\r\n    setSubjectValue(value);\r\n    const findValueInfo = findValueData?.findValue || {};\r\n    const { userInfo = {} } = findValueInfo || {};\r\n\r\n    const pointsItems = userInfo[value[0]];\r\n    const subArr = getPickData(pointsItems);\r\n    setPointData(subArr);\r\n    setPointValue([]);\r\n  };\r\n  // 变换知识点\r\n  const handlePointsChange = (value: string[]): void => {\r\n    setPointValue(value);\r\n  };\r\n  // 获取下拉框的选项\r\n  const getPickData = (data: { [key: string]: string }): SelectData[] => {\r\n    const dataArr = [] as SelectData[];\r\n    data &&\r\n      Object.keys(data).forEach((item) => {\r\n        if (item !== '__typename') {\r\n          dataArr.push({\r\n            value: item,\r\n            label: item,\r\n          });\r\n        }\r\n      });\r\n    return dataArr;\r\n  };\r\n  useEffect(() => {\r\n    const findValueInfo = findValueData?.findValue || {};\r\n    const { userInfo = {} } = findValueInfo;\r\n    console.log('findValueInfo++++', findValueInfo);\r\n    // 初始化学科数据\r\n    const subArr = getPickData(userInfo);\r\n    setSubjectData(subArr);\r\n    // 初始化知识点数据\r\n    const pointsArr = getPickData(userInfo[subjectvalue[0]]);\r\n    setPointData(pointsArr);\r\n  }, [findValueData?.findValue, subjectvalue]);\r\n\r\n  // 展示图表\r\n  const showParsing = (data: { genre: string; percent: number }[]): void => {\r\n    const { width } = window.screen;\r\n    const chart = new F2.Chart<typeof data[0]>({\r\n      id: 'columnarChart',\r\n      pixelRatio: window.devicePixelRatio,\r\n      padding: 'auto',\r\n      width,\r\n      height: width * 0.8,\r\n      appendPadding: [15, 15, 15, 20],\r\n    });\r\n    chartRef.current = chart;\r\n    chart.source(data, {\r\n      percent: {\r\n        type: 'linear',\r\n        alias: '平均正确率(%)',\r\n        min: 0,\r\n        max: 100,\r\n        tickCount: 6,\r\n      },\r\n    });\r\n\r\n    chart.interval().position('genre*percent').color('genre');\r\n    chart.legend({\r\n      align: 'right',\r\n      itemWidth: null,\r\n    });\r\n    chart.guide().text({\r\n      position: ['min', 'max'],\r\n      content: '平均正确率(%)',\r\n      style: {\r\n        textBaseline: 'middle',\r\n      },\r\n      offsetY: -35,\r\n    });\r\n    chart.render();\r\n    const offset = -5;\r\n    const canvas = chart.get('canvas');\r\n    const group = canvas.addGroup();\r\n    data.forEach((obj) => {\r\n      const point = chart.getPosition(obj);\r\n      group.addShape('text', {\r\n        attrs: {\r\n          x: point.x,\r\n          y: point.y + offset,\r\n          text: `${obj.percent}%`,\r\n          textAlign: 'center',\r\n          textBaseline: 'bottom',\r\n          fill: '#808080',\r\n        },\r\n      });\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const findValueInfo = findValueData?.findValue || {};\r\n    const user = findValueInfo?.userInfo?.[subjectvalue[0]]?.[pointsValue[0]];\r\n    const average =\r\n      findValueInfo?.generalInfo?.average?.[subjectvalue[0]]?.[pointsValue[0]];\r\n    const top =\r\n      findValueInfo?.generalInfo?.top?.[subjectvalue[0]]?.[pointsValue[0]];\r\n    const data = [\r\n      { genre: '我', percent: user },\r\n      { genre: '本季平均', percent: average },\r\n      { genre: '前10%考生', percent: top },\r\n    ];\r\n    if (findValueInfo?.userInfo && subjectvalue[0] && pointsValue[0]) {\r\n      showParsing(data);\r\n    }\r\n  }, [findValueData?.findValue, pointsValue, subjectvalue]);\r\n  return (\r\n    <>\r\n      <SelectBox>\r\n        <SelectBoxItem>\r\n          <Picker data={subjectData} cols={1} onOk={handleSubjectChange}>\r\n            <PickItem placeholder=\"请选择科目\" value={subjectvalue[0] || ''} />\r\n          </Picker>\r\n        </SelectBoxItem>\r\n        <SelectBoxItem>\r\n          <Picker data={pointsData} cols={1} onOk={handlePointsChange}>\r\n            <PickItem placeholder=\"请选择知识点\" value={pointsValue[0] || ''} />\r\n          </Picker>\r\n        </SelectBoxItem>\r\n      </SelectBox>\r\n      <canvas id=\"columnarChart\" />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SubjectParsing;\r\n","import React from 'react';\r\nimport { Tabs } from 'antd-mobile';\r\nimport Radar from './Radar';\r\nimport SubjectParsing from './SubjectParsing';\r\n\r\nconst Strength: React.FC = () => {\r\n  return (\r\n    <>\r\n      <Tabs\r\n        tabs={[\r\n          { title: '综合雷达图', sub: '1' },\r\n          { title: '学科/知识点能力分析', sub: '2' },\r\n        ]}\r\n      >\r\n        <Radar />\r\n        <SubjectParsing />\r\n      </Tabs>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Strength;\r\n","import React, { ReactElement, useEffect, useState } from 'react';\r\nimport F2 from '@antv/f2';\r\nimport { Card, Picker, WhiteSpace, WingBlank } from 'antd-mobile';\r\nimport PickItem from '@/components/PickItem';\r\nimport { BottomBlank } from '@/components/TabBar/styles';\r\nimport { useQuery } from '@apollo/client';\r\nimport APIHelper, { FIND_AI } from '@/helpers/APIHelper';\r\nimport getGoalSchool, { PickDataItem, getSubject } from '@/utils/getGoalSchool';\r\nimport { RecommendPointAbility, SchoolData } from '@/helpers/types';\r\nimport pkg from '../../../../package.json';\r\nimport {\r\n  PredictBox,\r\n  PredictBoxButton,\r\n  PredictBoxFont,\r\n  PredictScroll,\r\n  PredictSelect,\r\n  Table,\r\n  Td,\r\n  Th,\r\n  Tr,\r\n} from '../styles';\r\nimport getLevel from '../utils/getLevel';\r\n\r\nconst themeColor = pkg.theme['brand-primary'];\r\n\r\nconst Predict: React.FC = () => {\r\n  const { data: findAiData } = useQuery(FIND_AI);\r\n\r\n  const [school, setSchool] = useState<string[]>([]);\r\n  const [totalData, setTotalData] = useState<SchoolData>({});\r\n  const [goalSchool, setGoalSchool] = useState<PickDataItem[]>([]); // 学校列表\r\n  const [ejuSubject, setEjuSubject] = useState<PickDataItem[]>([]); // 专业\r\n  const [department, setDepartment] = useState<string[]>([]); // 专业\r\n  const [probability, setProbability] = useState(0); // 合格率\r\n  const [recommendPoint, setRecommendPoint] = useState<RecommendPointAbility>({\r\n    english: '',\r\n    jap: 0,\r\n    jap_writing: 0,\r\n    math: 0,\r\n    physics: 0,\r\n    chemistry: 0,\r\n  }); // 推荐能力值\r\n  const { findAi } = findAiData || {};\r\n\r\n  useEffect(() => {\r\n    const { myPoint } = findAi || {};\r\n    if (myPoint || recommendPoint) {\r\n      const myPointData = { ...myPoint };\r\n      delete myPointData.__typename;\r\n      const recommendPointData = { ...recommendPoint };\r\n      const data: { [key: string]: string }[] = [];\r\n      Object.keys(myPointData).forEach((item) => {\r\n        data.push({\r\n          item,\r\n          type: 'my',\r\n          score: getLevel(\r\n            item === 'english' ? myPointData[item].toefl : myPointData[item],\r\n            item\r\n          ),\r\n        });\r\n      });\r\n      Object.keys(recommendPointData).forEach((item) => {\r\n        data.push({\r\n          item,\r\n          type: 'you',\r\n          score:\r\n            item === 'english'\r\n              ? recommendPointData[item]\r\n              : getLevel(\r\n                  recommendPointData[item as keyof typeof recommendPointData],\r\n                  item\r\n                ),\r\n        });\r\n      });\r\n      console.log('recommendPointData++++', data);\r\n      // const data = [\r\n      //   {\r\n      //     item: '英语',\r\n      //     type: 'my',\r\n      //     score: 'S',\r\n      //   },\r\n      //   {\r\n      //     item: '日语',\r\n      //     type: 'my',\r\n      //     score: 'A+',\r\n      //   },\r\n      //   {\r\n      //     item: '数学',\r\n      //     type: 'my',\r\n      //     score: 'B+',\r\n      //   },\r\n      //   {\r\n      //     item: '物理',\r\n      //     type: 'my',\r\n      //     score: 'C+',\r\n      //   },\r\n      //   {\r\n      //     item: '化学',\r\n      //     type: 'my',\r\n      //     score: 'A-',\r\n      //   },\r\n      //   {\r\n      //     item: '英语',\r\n      //     type: 'you',\r\n      //     score: 'B+',\r\n      //   },\r\n      //   {\r\n      //     item: '日语',\r\n      //     type: 'you',\r\n      //     score: 'C-',\r\n      //   },\r\n      //   {\r\n      //     item: '数学',\r\n      //     type: 'you',\r\n      //     score: 'A+',\r\n      //   },\r\n      //   {\r\n      //     item: '物理',\r\n      //     type: 'you',\r\n      //     score: 'A+',\r\n      //   },\r\n      //   {\r\n      //     item: '化学',\r\n      //     type: 'you',\r\n      //     score: 'B-',\r\n      //   },\r\n      // ];\r\n      const { width } = window.screen;\r\n      const chart = new F2.Chart<typeof data[0]>({\r\n        id: 'predictChart',\r\n        pixelRatio: window.devicePixelRatio,\r\n        padding: 30,\r\n        width,\r\n        height: width * 0.8,\r\n        appendPadding: [15, 15, 15, 20],\r\n      });\r\n\r\n      chart.coord('polar');\r\n      chart.source(data, {\r\n        score: {\r\n          type: 'cat',\r\n          values: ['D', 'C', 'B', 'A', 'S'],\r\n        },\r\n      });\r\n\r\n      chart.axis('score', {\r\n        label: (text, index, total) => {\r\n          console.log('label++++++', text, index, total);\r\n          return { top: true, text };\r\n        },\r\n        grid: (text) => {\r\n          console.log(text);\r\n          return { top: true, text };\r\n        },\r\n        line: {\r\n          top: false,\r\n        },\r\n      });\r\n      chart.axis('item', {\r\n        label: (text, index, total) => {\r\n          console.log('label++++++', text, index, total);\r\n          return { top: true, text };\r\n        },\r\n      });\r\n      chart\r\n        .area()\r\n        .position('item*score')\r\n        .color('type', (type) => {\r\n          console.log(type);\r\n          if (type === 'my') {\r\n            return themeColor;\r\n          }\r\n          return '#BFBFBF';\r\n        })\r\n        .animate({\r\n          appear: {\r\n            animation: 'groupWaveIn',\r\n          },\r\n        });\r\n      chart\r\n        .line()\r\n        .position('item*score')\r\n        .color('type', (type) => {\r\n          console.log(type);\r\n          if (type === 'my') {\r\n            return themeColor;\r\n          }\r\n          return '#BFBFBF';\r\n        })\r\n        .animate({\r\n          appear: {\r\n            animation: 'groupWaveIn',\r\n          },\r\n        });\r\n      chart\r\n        .point()\r\n        .position('item*score')\r\n        .color('type', (type) => {\r\n          console.log(type);\r\n          if (type === 'my') {\r\n            return themeColor;\r\n          }\r\n          return '#BFBFBF';\r\n        })\r\n        .style({\r\n          stroke: '#fff',\r\n          lineWidth: 1,\r\n        })\r\n        .animate({\r\n          appear: {\r\n            delay: 300,\r\n          },\r\n        });\r\n      chart.legend({\r\n        custom: true,\r\n        verticalAlign: 'top',\r\n        position: 'left',\r\n        items: [\r\n          {\r\n            name: '能力现状',\r\n            marker: 'circle',\r\n            fill: themeColor,\r\n          },\r\n          {\r\n            name: '能力目标',\r\n            marker: 'circle',\r\n            fill: '#BFBFBF',\r\n          },\r\n        ],\r\n      });\r\n      chart.render();\r\n    }\r\n  }, [findAi, recommendPoint]);\r\n  const getTabelData = (): ReactElement => {\r\n    const { myPoint } = findAi || {};\r\n    const myPointData = { ...myPoint };\r\n    delete myPointData.__typename;\r\n    const recommendPointData = { ...recommendPoint };\r\n    const tableListData: ReactElement[] = [];\r\n    const sourceData = {} as {\r\n      [key: string]: {\r\n        point?: number;\r\n        level?: string;\r\n        goalPoint?: number;\r\n        goalLevel?: string;\r\n      };\r\n    };\r\n    Object.keys(myPointData).forEach((item) => {\r\n      if (!sourceData[item]) {\r\n        sourceData[item] = {};\r\n      }\r\n      let point = 0;\r\n      if (item === 'english') {\r\n        point = myPointData[item as keyof typeof myPointData].toefl;\r\n      } else {\r\n        point = myPointData[item as keyof typeof myPointData];\r\n      }\r\n      console.log('sourceData+++', sourceData);\r\n      sourceData[item].point = point;\r\n      sourceData[item].level = getLevel(point, item);\r\n    });\r\n    Object.keys(recommendPointData).forEach((item) => {\r\n      if (!sourceData[item]) {\r\n        sourceData[item] = {};\r\n      }\r\n      let point = 0;\r\n      if (item === 'english') {\r\n        // point = recommendPointData[item as keyof typeof recommendPointData].toefl;\r\n        // 接口没有英语成绩\r\n        point = 0;\r\n      } else {\r\n        point = Number(\r\n          recommendPointData[item as keyof typeof recommendPointData]\r\n        );\r\n      }\r\n      console.log('sourceData+++', sourceData);\r\n\r\n      sourceData[item].goalPoint = point;\r\n      sourceData[item].goalLevel = getLevel(point, item);\r\n    });\r\n    Object.keys(sourceData).forEach((item) => {\r\n      const itemData = sourceData[item];\r\n      const { point, level, goalPoint, goalLevel } = itemData;\r\n      tableListData.push(\r\n        <Tr>\r\n          <Td>{item}</Td>\r\n          <Td>{point}</Td>\r\n          <Td>{goalPoint}</Td>\r\n          <Td>{level}</Td>\r\n          <Td>{goalLevel}</Td>\r\n        </Tr>\r\n      );\r\n    });\r\n    return (\r\n      <Table>\r\n        <Tr>\r\n          <Th>科目</Th>\r\n          <Th>预测分数</Th>\r\n          <Th>目标分数</Th>\r\n          <Th>评级</Th>\r\n          <Th>目标评级</Th>\r\n        </Tr>\r\n        {tableListData}\r\n      </Table>\r\n    );\r\n  };\r\n  // 选择学校\r\n  const handleSchool = (value: string[]): void => {\r\n    console.log(value, 'value+++');\r\n\r\n    const subjectArr = getSubject(\r\n      totalData[Number(value[0]) as keyof typeof totalData].departments\r\n    );\r\n    setEjuSubject(subjectArr);\r\n    setSchool(value);\r\n    setDepartment([]);\r\n  };\r\n\r\n  // 点击预测\r\n  const handlePredict = (): void => {\r\n    const param = {\r\n      school_id: Number(school[0]),\r\n      math: 200,\r\n      ja: 400,\r\n      phy: 90,\r\n      che: 100,\r\n      jaw: 50,\r\n      department: department[0],\r\n    };\r\n    APIHelper.predict(param).then((res) => {\r\n      console.log(res.code);\r\n      if (res.code === 204) {\r\n        setProbability(res.data.probability);\r\n        setRecommendPoint(res.data.recommendPoint.ability);\r\n      }\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    APIHelper.getSchool().then((res) => {\r\n      setTotalData(res.data);\r\n      const filterArr = getGoalSchool(res.data);\r\n      setGoalSchool(filterArr);\r\n    });\r\n  }, []);\r\n  return (\r\n    <PredictScroll>\r\n      <PredictSelect>\r\n        <WhiteSpace size=\"lg\" />\r\n        <Picker\r\n          data={goalSchool}\r\n          cols={1}\r\n          onOk={(value): void => handleSchool(value)}\r\n        >\r\n          <PickItem\r\n            placeholder=\"院校\"\r\n            value={\r\n              totalData[Number(school[0]) as keyof typeof totalData]?.schoolName\r\n            }\r\n          />\r\n        </Picker>\r\n\r\n        <Picker\r\n          data={ejuSubject}\r\n          cols={1}\r\n          onOk={(value): void => setDepartment(value)}\r\n        >\r\n          <PickItem placeholder=\"专业\" value={department[0]} />\r\n        </Picker>\r\n      </PredictSelect>\r\n\r\n      <PredictBox>\r\n        <PredictBoxFont>\r\n          合格概率:（{(probability * 100).toFixed(2)}%）\r\n        </PredictBoxFont>\r\n        <PredictBoxButton onClick={(): void => handlePredict()}>\r\n          点击预测\r\n        </PredictBoxButton>\r\n      </PredictBox>\r\n      <canvas id=\"predictChart\" width=\"300\" height=\"300\" />\r\n      <WingBlank size=\"lg\">\r\n        <WhiteSpace size=\"lg\" />\r\n        <Card>\r\n          <Card.Header title=\"数据明细\" />\r\n          <Card.Body>{getTabelData()}</Card.Body>\r\n        </Card>\r\n        <WhiteSpace size=\"lg\" />\r\n      </WingBlank>\r\n      <BottomBlank />\r\n    </PredictScroll>\r\n  );\r\n};\r\n\r\nexport default Predict;\r\n","import React, { ReactNode, useCallback, useState } from 'react';\r\nimport { USER_SHOW } from '@/helpers/APIHelper';\r\nimport { useQuery } from '@apollo/client';\r\nimport Ladder from './Ladder';\r\nimport Strength from './Strength';\r\nimport Predict from './Predict';\r\nimport {\r\n  IconStar,\r\n  InfoBox,\r\n  InfoItem,\r\n  InfoLi,\r\n  Page,\r\n  TabBox,\r\n  TabItem,\r\n} from './styles';\r\n\r\nconst Find: React.FC = () => {\r\n  const { data = {} } = useQuery(USER_SHOW);\r\n\r\n  const [tabType, setTabType] = useState('strength'); // tab标签类型\r\n  const [rankNum, setRankNum] = useState(0); // 设置排名\r\n  const [rankPoints, setRankPoints] = useState(0); // 总分数\r\n  // 切换tab标签\r\n  const handleTabChange = (type: string): void => {\r\n    setTabType(type);\r\n  };\r\n  // 获取返回的标签内容\r\n  const getTabContent = useCallback((): ReactNode => {\r\n    let ele = null;\r\n    switch (tabType) {\r\n      case 'strength':\r\n        ele = <Strength />;\r\n        break;\r\n      case 'ladder':\r\n        ele = <Ladder handleRankInfo={setRankInfo} />;\r\n        break;\r\n      case 'predict':\r\n        ele = <Predict />;\r\n        break;\r\n      default:\r\n    }\r\n    return ele;\r\n  }, [tabType]);\r\n  // 设置排行榜信息\r\n  const setRankInfo = (info: { num: number; points: number }): void => {\r\n    const { num, points } = info;\r\n    setRankNum(num);\r\n    setRankPoints(points);\r\n  };\r\n  const { nickName } = data?.userShow || {};\r\n\r\n  return (\r\n    <Page>\r\n      <TabBox>\r\n        <TabItem\r\n          className={tabType === 'strength' ? 'active' : ''}\r\n          onClick={(): void => handleTabChange('strength')}\r\n        >\r\n          实力评估\r\n        </TabItem>\r\n        <TabItem\r\n          className={tabType === 'ladder' ? 'active' : ''}\r\n          onClick={(): void => handleTabChange('ladder')}\r\n        >\r\n          排行天梯\r\n        </TabItem>\r\n        <TabItem\r\n          className={tabType === 'predict' ? 'active' : ''}\r\n          onClick={(): void => handleTabChange('predict')}\r\n        >\r\n          智能预测\r\n        </TabItem>\r\n      </TabBox>\r\n      <InfoBox>\r\n        <InfoLi>\r\n          <InfoItem>昵称：{nickName}</InfoItem>\r\n          {tabType === 'ladder' ? (\r\n            <InfoItem>本季综合排名</InfoItem>\r\n          ) : (\r\n            <InfoItem>平均菓星值</InfoItem>\r\n          )}\r\n        </InfoLi>\r\n        <InfoLi>\r\n          {tabType === 'ladder' ? (\r\n            <>\r\n              <InfoItem>总分：{rankPoints}</InfoItem>\r\n              <InfoItem>{rankNum}</InfoItem>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <InfoItem>评级：青铜</InfoItem>\r\n              <InfoItem>\r\n                <IconStar className=\"active\" />\r\n                <IconStar className=\"active\" />\r\n                <IconStar className=\"active\" />\r\n                <IconStar />\r\n                <IconStar />\r\n              </InfoItem>\r\n            </>\r\n          )}\r\n        </InfoLi>\r\n      </InfoBox>\r\n      <>{getTabContent()}</>\r\n    </Page>\r\n  );\r\n};\r\n\r\nexport default Find;\r\n","import styled from 'styled-px2vw';\r\nimport bg from './images/bg.png';\r\nimport pkg from '../../../package.json';\r\n\r\nconst themeColor = pkg.theme['brand-primary'];\r\n\r\nexport const PersonBg = styled.div`\r\n  height: 312px;\r\n  position: relative;\r\n`;\r\nexport const PersonInner = styled.div`\r\n  position: absolute;\r\n  z-index: 2;\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\nexport const PersonBgInner = styled(PersonInner)`\r\n  z-index: 1;\r\n  overflow: hidden;\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    background: url(${bg}) no-repeat center;\r\n    filter: blur(10px);\r\n    background-size: cover;\r\n    width: 115%;\r\n    height: 115%;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n  }\r\n`;\r\nexport const AvatarBox = styled.div`\r\n  width: 220px;\r\n  height: 220px;\r\n  border-radius: 50%;\r\n  background-color: #fff;\r\n  padding: 12px;\r\n  position: absolute;\r\n  left: 42px;\r\n  bottom: -14px;\r\n  box-shadow: 0px 4px 20px rgba(101, 101, 101, 0.15);\r\n`;\r\nexport const Avatar = styled.img`\r\n  width: 100%;\r\n  height: 100%;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  object-position: center;\r\n`;\r\n\r\nexport const NickBox = styled.div`\r\n  width: 375px;\r\n  height: 206px;\r\n  position: absolute;\r\n  right: 0;\r\n  bottom: 0;\r\n  color: #fff;\r\n`;\r\n\r\nexport const NickName = styled.div`\r\n  font-weight: bold;\r\n  font-size: 38px;\r\n`;\r\nexport const Sign = styled.div`\r\n  font-size: 22px;\r\n  margin-top: 70px;\r\n`;\r\n\r\nexport const FucList = styled.div`\r\n  height: 366px;\r\n  background: #f5f5f5;\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  overflow: auto;\r\n`;\r\n\r\nexport const FucListItem = styled.div`\r\n  width: 284px;\r\n  height: 234px;\r\n  background: #fff;\r\n  filter: drop-shadow(4px 5px 10px rgba(0, 0, 0, 0.05));\r\n  border-radius: 20px;\r\n  margin-left: 32px;\r\n  flex-shrink: 0;\r\n  &:last-child {\r\n    margin-right: 32px;\r\n  }\r\n`;\r\n\r\nexport const FucListItemTop = styled.div`\r\n  height: 134px;\r\n  background: url(${bg}) no-repeat center;\r\n  background-size: cover;\r\n  border-top-left-radius: 20px;\r\n  border-top-right-radius: 20px;\r\n`;\r\nexport const FucListItemBottom = styled.div`\r\n  height: 100px;\r\n  font-size: 32px;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  line-height: 100px;\r\n`;\r\n\r\nexport const MenuBox = styled.div`\r\n  padding-top: 60px;\r\n`;\r\n\r\nexport const MenuItem = styled.div`\r\n  padding: 0 46px;\r\n  display: flex;\r\n  align-items: center;\r\n  height: 96px;\r\n  margin-bottom: 36px;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport const MenuLabel = styled.div`\r\n  display: inline-flex;\r\n  font-weight: bold;\r\n  font-size: 32px;\r\n  align-items: center;\r\n`;\r\n\r\nexport const MenuIcon = styled.img`\r\n  width: 40px;\r\n  height: 40px;\r\n  margin-right: 90px;\r\n`;\r\n\r\nexport const MsgNum = styled.div`\r\n  width: 48px;\r\n  height: 48px;\r\n  border-radius: 6px;\r\n  background: ${themeColor};\r\n  font-weight: 500;\r\n  font-size: 14px;\r\n  font-size: 28px;\r\n  line-height: 48px;\r\n  text-align: center;\r\n  color: #fff;\r\n`;\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useQuery } from '@apollo/client';\r\nimport { USER_SHOW } from '@/helpers/APIHelper';\r\nimport {\r\n  PersonBg,\r\n  AvatarBox,\r\n  PersonInner,\r\n  Avatar,\r\n  PersonBgInner,\r\n  NickBox,\r\n  NickName,\r\n  Sign,\r\n  FucList,\r\n  FucListItem,\r\n  FucListItemTop,\r\n  FucListItemBottom,\r\n  MenuBox,\r\n  MenuItem,\r\n  MenuLabel,\r\n  MenuIcon,\r\n  MsgNum,\r\n} from './styles';\r\nimport iconPersonal from './images/icon-personal.svg';\r\nimport iconMsg from './images/icon-msg.svg';\r\nimport iconSetting from './images/icon-setting.svg';\r\n\r\nconst UserCenter: React.FC = () => {\r\n  const { data = {} } = useQuery(USER_SHOW);\r\n  console.log(data);\r\n  const history = useHistory();\r\n  const { nickName, signature, avatar, userMessages } = data?.getUserInfo || {};\r\n  // 操作菜单\r\n  const handleMenu = (type: string): void => {\r\n    switch (type) {\r\n      case 'msg':\r\n        history.push('/msg');\r\n        break;\r\n      case 'personal':\r\n        history.push('/complete-all');\r\n        break;\r\n      case 'setting':\r\n        history.push('/setting');\r\n        break;\r\n      default:\r\n    }\r\n  };\r\n  // 获取未读消息数\r\n  const getMessageNum = (): number => {\r\n    let num = 0;\r\n    userMessages?.forEach((item: { isRead: boolean }) => {\r\n      if (!item.isRead) {\r\n        num += 1;\r\n      }\r\n    });\r\n    return num;\r\n  };\r\n  return (\r\n    <>\r\n      <PersonBg>\r\n        <PersonBgInner />\r\n        <PersonInner>\r\n          <AvatarBox>\r\n            <Avatar src={avatar} />\r\n          </AvatarBox>\r\n          <NickBox>\r\n            <NickName>{nickName}</NickName>\r\n            <Sign>{signature}</Sign>\r\n          </NickBox>\r\n        </PersonInner>\r\n      </PersonBg>\r\n      <FucList>\r\n        <FucListItem onClick={(): void => history.push('/record')}>\r\n          <FucListItemTop />\r\n          <FucListItemBottom>练习记录</FucListItemBottom>\r\n        </FucListItem>\r\n      </FucList>\r\n      <MenuBox>\r\n        <MenuItem onClick={(): void => handleMenu('personal')}>\r\n          <MenuLabel>\r\n            <MenuIcon src={iconPersonal} />\r\n            个人信息\r\n          </MenuLabel>\r\n        </MenuItem>\r\n        <MenuItem onClick={(): void => handleMenu('msg')}>\r\n          <MenuLabel>\r\n            <MenuIcon src={iconMsg} />\r\n            消息中心\r\n          </MenuLabel>\r\n          <MsgNum>{getMessageNum()}</MsgNum>\r\n        </MenuItem>\r\n        <MenuItem onClick={(): void => handleMenu('setting')}>\r\n          <MenuLabel>\r\n            <MenuIcon src={iconSetting} />\r\n            通用设定\r\n          </MenuLabel>\r\n        </MenuItem>\r\n      </MenuBox>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserCenter;\r\n","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik02Ljg4IDcuOTRMNy45NCA5TDkgNy45NEw2Ljg4IDUuODJMNC43NiA3Ljk0TDUuODIgOUw2Ljg4IDcuOTRaTTEwIDE1LjVDMTIuMzMgMTUuNSAxNC4zMSAxNC4wNCAxNS4xMSAxMkg0Ljg5QzUuNjkgMTQuMDQgNy42NyAxNS41IDEwIDE1LjVaTTExIDcuOTRMMTIuMDYgOUwxMy4xMiA3Ljk0TDE0LjE4IDlMMTUuMjQgNy45NEwxMy4xMiA1LjgyTDExIDcuOTRaTTkuOTkgMEM0LjQ3IDAgMCA0LjQ3IDAgMTBDMCAxNS41MyA0LjQ3IDIwIDkuOTkgMjBDMTUuNTEgMjAgMjAgMTUuNTMgMjAgMTBDMjAgNC40NyAxNS41MiAwIDkuOTkgMFpNMTAgMThDNS41OCAxOCAyIDE0LjQyIDIgMTBDMiA1LjU4IDUuNTggMiAxMCAyQzE0LjQyIDIgMTggNS41OCAxOCAxMEMxOCAxNC40MiAxNC40MiAxOCAxMCAxOFoiIGZpbGw9IiNCRkJGQkYiLz4NCjwvc3ZnPg0K\"","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAxNiAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik04IDIwQzkuMSAyMCAxMCAxOS4xIDEwIDE4SDZDNiAxOS4xIDYuODkgMjAgOCAyMFpNMTQgMTRWOUMxNCA1LjkzIDEyLjM2IDMuMzYgOS41IDIuNjhWMC41SDYuNVYyLjY4QzMuNjMgMy4zNiAyIDUuOTIgMiA5VjE0TDAgMTZWMTdIMTZWMTZMMTQgMTRaIiBmaWxsPSIjQkZCRkJGIi8+DQo8L3N2Zz4NCg==\"","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0yMCA4LjY4OTk0VjMuOTk5OTRIMTUuMzFMMTIgMC42ODk5NDFMOC42OSAzLjk5OTk0SDRWOC42ODk5NEwwLjY5MDAwMiAxMS45OTk5TDQgMTUuMzA5OVYxOS45OTk5SDguNjlMMTIgMjMuMzA5OUwxNS4zMSAxOS45OTk5SDIwVjE1LjMwOTlMMjMuMzEgMTEuOTk5OUwyMCA4LjY4OTk0Wk0xMiAxNy45OTk5QzguNjkgMTcuOTk5OSA2IDE1LjMwOTkgNiAxMS45OTk5QzYgOC42ODk5NCA4LjY5IDUuOTk5OTQgMTIgNS45OTk5NEMxNS4zMSA1Ljk5OTk0IDE4IDguNjg5OTQgMTggMTEuOTk5OUMxOCAxNS4zMDk5IDE1LjMxIDE3Ljk5OTkgMTIgMTcuOTk5OVpNMTIgNy45OTk5NEM5Ljc5IDcuOTk5OTQgOCA5Ljc4OTk0IDggMTEuOTk5OUM4IDE0LjIwOTkgOS43OSAxNS45OTk5IDEyIDE1Ljk5OTlDMTQuMjEgMTUuOTk5OSAxNiAxNC4yMDk5IDE2IDExLjk5OTlDMTYgOS43ODk5NCAxNC4yMSA3Ljk5OTk0IDEyIDcuOTk5OTRaIiBmaWxsPSIjQkZCRkJGIi8+DQo8L3N2Zz4NCg==\"","import React, { useCallback, useEffect, useState } from 'react';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport TabBar from '@/components/TabBar';\r\nimport Library from '../Library';\r\nimport Find from '../Find';\r\nimport UserCenter from '../UserCenter';\r\n\r\nconst Home: React.FC = (props) => {\r\n  const [type, setType] = useState(''); // 设置标签页\r\n\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  // 初始化页面访问类型\r\n  useEffect(() => {\r\n    console.log(location);\r\n    const { pathname } = location;\r\n    switch (pathname) {\r\n      case '/library':\r\n        setType('library');\r\n        break;\r\n      case '/find':\r\n        setType('find');\r\n        break;\r\n      case '/user-center':\r\n        setType('user-center');\r\n        break;\r\n      default:\r\n    }\r\n  }, [location]);\r\n\r\n  // 点击footer\r\n  const handleClick = useCallback(\r\n    (clickType: string): void => {\r\n      history.push(`/${clickType}`);\r\n    },\r\n    [history]\r\n  );\r\n  return (\r\n    <div>\r\n      {type === 'library' && <Library />}\r\n      {type === 'find' && <Find />}\r\n      {type === 'user-center' && <UserCenter />}\r\n      <TabBar handelClick={handleClick} type={type} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"sourceRoot":""}