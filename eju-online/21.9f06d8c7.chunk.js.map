{"version":3,"sources":["pages/Msg/Msg.tsx"],"names":["Msg","useQuery","QUERY_INFORMATION","fetchPolicy","data","history","useHistory","getUserMessages","map","item","timestamp","title","_id","isRead","key","onClick","push","getDateStr","Number","type","color","size"],"mappings":"mOAmDeA,EAlCO,WACpB,MAAsBC,YAASC,IAAmB,CAChDC,YAAa,sBADPC,YAAR,MAAe,GAAf,EAGMC,EAAUC,cAGRC,EAAoBH,EAApBG,gBACR,OACE,kBAAC,IAAD,YACGA,QADH,IACGA,OADH,EACGA,EAAiBC,KAAI,SAACC,GACrB,MAA0CA,GAAQ,GAA1CC,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,MAAOC,EAA1B,EAA0BA,IAAKC,EAA/B,EAA+BA,OAC/B,OACE,kBAAC,IAAD,CACEC,IAAKF,EACLG,QAAS,kBAAYV,EAAQW,KAAR,yBAA+BJ,OAElDC,GAAU,kBAAC,IAAD,qBACZ,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KAAWF,GACX,kBAAC,IAAD,KACGM,YAAWC,OAAOR,IACnB,uBAAMS,KAAK,QAAQC,MAAM,UAAUC,KAAK","file":"21.9f06d8c7.chunk.js","sourcesContent":["import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Icon } from 'antd-mobile';\r\n// import { useHistory } from 'react-router-dom';\r\nimport { useQuery } from '@apollo/client';\r\nimport { QUERY_INFORMATION } from '@/helpers/APIHelper';\r\nimport getDateStr from '@/utils/getDateStr';\r\nimport {\r\n  MsgBox,\r\n  MsgItem,\r\n  MsgInfoBox,\r\n  MsgInfoTop,\r\n  MsgTitle,\r\n  MsgDate,\r\n  Corner,\r\n} from './style';\r\n\r\nconst Msg: React.FC = () => {\r\n  const { data = {} } = useQuery(QUERY_INFORMATION, {\r\n    fetchPolicy: 'cache-and-network',\r\n  });\r\n  const history = useHistory();\r\n\r\n  console.log(data);\r\n  const { getUserMessages } = data;\r\n  return (\r\n    <MsgBox>\r\n      {getUserMessages?.map((item: { [key: string]: string }) => {\r\n        const { timestamp, title, _id, isRead } = item || {};\r\n        return (\r\n          <MsgItem\r\n            key={_id}\r\n            onClick={(): void => history.push(`/msg-detail?id=${_id}`)}\r\n          >\r\n            {!isRead && <Corner>未读</Corner>}\r\n            <MsgInfoBox>\r\n              <MsgInfoTop>\r\n                <MsgTitle>{title}</MsgTitle>\r\n                <MsgDate>\r\n                  {getDateStr(Number(timestamp))}\r\n                  <Icon type=\"right\" color=\"#8A8A8E\" size=\"sm\" />\r\n                </MsgDate>\r\n              </MsgInfoTop>\r\n            </MsgInfoBox>\r\n          </MsgItem>\r\n        );\r\n      })}\r\n    </MsgBox>\r\n  );\r\n};\r\n\r\nexport default Msg;\r\n"],"sourceRoot":""}