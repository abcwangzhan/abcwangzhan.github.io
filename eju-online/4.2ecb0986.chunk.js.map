{"version":3,"sources":["pages/Library/Exam/Parsing/Parsing.tsx"],"names":["Parsing","history","useHistory","state","useContext","ProviderContext","examQuestion","examSelectAnswer","id","type","color","onClick","go","defaultIndex","loop","indicator","onIndexChange","document","getElementById","scrollTo","map","qusItem","index","sourceType","questionId","question","subject","date","checkAnswers","parse","prevSelect","Item","key","className","dateToYear","length","getMathpix","val","item","itemArr","split","item2","index2","isTrue","forEach","item3","answer","join"],"mappings":"qQA0JeA,EA9HW,WACxB,IAAMC,EAAUC,cACRC,EAAUC,qBAAWC,KAArBF,MACR,EAAqDA,EAA7CG,oBAAR,MAAuB,GAAvB,IAAqDH,EAA1BI,wBAA3B,MAA8C,GAA9C,EAKA,OACE,kBAAC,IAAD,CAAMC,GAAG,aACP,kBAAC,IAAD,KACE,kBAAC,IAAD,MACA,kBAAC,IAAD,KACE,uBACEC,KAAK,QACLC,MAAM,UACNC,QAAS,kBAAYV,EAAQW,IAAI,QAIvC,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEC,aAAc,EACdC,MAAM,EACNC,UAAW,kBAAY,MACvBC,cApBoB,WAAa,IAAD,EACtC,UAAAC,SAASC,eAAe,oBAAxB,SAAsCC,SAAS,EAAG,KAe9C,OAMGb,QANH,IAMGA,OANH,EAMGA,EAAcc,KAAI,SAACC,EAASC,GAC3B,IACEC,EAOEF,EAPFE,WACAC,EAMEH,EANFG,WACAC,EAKEJ,EALFI,SACAC,EAIEL,EAJFK,QACAC,EAGEN,EAHFM,KACAC,EAEEP,EAFFO,aACAC,EACER,EADFQ,MAKIC,EAAavB,EADHe,EAAQ,GAGxB,OACE,kBAAC,IAAOS,KAAR,CAAaC,IAAKR,GAChB,kBAAC,IAAD,CAAWS,UAAU,SACnB,kBAAC,IAAD,KACGT,EADH,cACmBD,GADnB,OACgCW,YAAWP,IAD3C,OACmDD,IAEnD,kBAAC,IAAD,KACGJ,EAAQ,EADX,IACehB,EAAa6B,SAG9B,kBAAC,IAAD,KAAcC,YAAWX,IACzB,kBAAC,IAAD,KACE,kBAAC,IAAD,qBADF,OAEGG,QAFH,IAEGA,OAFH,EAEGA,EAAcR,KAAI,SAACiB,GAAS,IAAD,EAOpBC,EAAOD,EAAI,GACXE,EAAO,UAAGD,EAAKhB,aAAR,aAAG,EAAYkB,MAAM,IAClC,OACE,kBAAC,IAAD,CAAaR,IAAKM,EAAKhB,OACrB,kBAAC,IAAD,KAAegB,EAAKhB,OACpB,kBAAC,IAAD,YACGiB,QADH,IACGA,OADH,EACGA,EAASnB,KAAI,SAACqB,EAAOC,GAEpB,IAAIC,GAAS,EAMb,OALAN,EAAIO,SAAQ,SAACC,GAAW,IAAD,EACrBF,GACY,OAAVb,QAAU,IAAVA,GAAA,UAAAA,EAAaQ,EAAKhB,cAAlB,eAA0BkB,MAAM,IAAIE,MACpCG,EAAMC,OAAON,MAAM,IAAIE,MAGzB,kBAAC,IAAD,CACET,UAAWU,EAAS,GAAK,mBASzC,kBAAC,IAAD,KACE,yBAAKV,UAAU,SAAf,4BADF,OAEGL,QAFH,IAEGA,OAFH,EAEGA,EAAcR,KAAI,SAACiB,GAClB,IAAMC,EAAOD,EAAI,GAKjB,OACE,kBAAC,IAAD,CAAaL,IAAKM,EAAKhB,OACrB,kBAAC,IAAD,KAAegB,EAAKhB,OACpB,kBAAC,IAAD,YACGe,QADH,IACGA,OADH,EACGA,EAAKjB,KAAI,SAACqB,GAAD,OAAWA,EAAMK,UAAQC,KAAK,eAKhD,6BAjBF,qBAmBE,6BACCX,YAAWP,UAOxB,kBAAC,IAAD,KACE,kBAAC,IAAD,MACA,kBAAC,IAAD,KACE,uBAAQpB,KAAK,UAAUE,QAAS,kBAAYV,EAAQW,IAAI,KAAxD","file":"4.2ecb0986.chunk.js","sourcesContent":["// import { letterStr } from '@/constants/globalDatas';\nimport { ProviderContext } from '@/reducer/context';\nimport { Button, Icon } from 'antd-mobile';\nimport { Swiper } from 'antd-mobile-v5';\nimport React, { useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport {\n  Page,\n  HeaderBox,\n  GrayFont,\n  FontContent,\n  CarouseBox,\n  ButtonBox,\n  ButtonBoxInner,\n  ParsingFont,\n  ResolveBox,\n  ResolveItem,\n  ResolveLabel,\n  ResolveResultItem,\n  ResolveResultList,\n  ResolveTitle,\n  HeaderBlank,\n  HeaderInner,\n  ButtonBlank,\n} from '../../styles';\nimport dateToYear from '../../utils/dateToYear';\nimport getMathpix from '../../utils/getMathpix';\n\nconst Parsing: React.FC = () => {\n  const history = useHistory();\n  const { state } = useContext(ProviderContext);\n  const { examQuestion = [], examSelectAnswer = {} } = state;\n  // 监听跑马灯变化\n  const handleOnIndexChange = (): void => {\n    document.getElementById('exam_page')?.scrollTo(0, 0);\n  };\n  return (\n    <Page id=\"exam_page\">\n      <HeaderBox>\n        <HeaderBlank />\n        <HeaderInner>\n          <Icon\n            type=\"cross\"\n            color=\"#262626\"\n            onClick={(): void => history.go(-4)}\n          />\n        </HeaderInner>\n      </HeaderBox>\n      <CarouseBox>\n        <Swiper\n          defaultIndex={0}\n          loop={false}\n          indicator={(): null => null}\n          onIndexChange={handleOnIndexChange}\n        >\n          {examQuestion?.map((qusItem, index) => {\n            const {\n              sourceType,\n              questionId,\n              question,\n              subject,\n              date,\n              checkAnswers,\n              parse,\n            } = qusItem;\n            // const letterTemp = letterStr.split(''); // 遍历解答label\n            // const letterTrueTemp = letterStr.split(''); // 遍历正确答案label\n            const prevNum = index + 1;\n            const prevSelect = examSelectAnswer[prevNum];\n            console.log('prevSelect++++++', prevSelect, prevNum);\n            return (\n              <Swiper.Item key={questionId}>\n                <HeaderBox className=\"lr-pd\">\n                  <GrayFont>\n                    {questionId} {`${sourceType}${dateToYear(date)}${subject}`}\n                  </GrayFont>\n                  <GrayFont>\n                    {index + 1}/{examQuestion.length}\n                  </GrayFont>\n                </HeaderBox>\n                <FontContent>{getMathpix(question)}</FontContent>\n                <ResolveBox>\n                  <ResolveTitle>解答</ResolveTitle>\n                  {checkAnswers?.map((val) => {\n                    // 获取答案label\n                    // const itemLabel = letterTemp\n                    //   .splice(0, item.length)\n                    //   .join('');\n                    // item 中可能有多种答案，但是其中index是相同的\n                    // index的取值可以直接取第一个\n                    const item = val[0];\n                    const itemArr = item.index?.split('');\n                    return (\n                      <ResolveItem key={item.index}>\n                        <ResolveLabel>{item.index}</ResolveLabel>\n                        <ResolveResultList>\n                          {itemArr?.map((item2, index2) => {\n                            // itemArr遍历为了确定判断第几个选项答案是否正确\n                            let isTrue = false;\n                            val.forEach((item3) => {\n                              isTrue =\n                                prevSelect?.[item.index]?.split('')[index2] ===\n                                item3.answer.split('')[index2];\n                            });\n                            return (\n                              <ResolveResultItem\n                                className={isTrue ? '' : 'error'}\n                              />\n                            );\n                          })}\n                        </ResolveResultList>\n                      </ResolveItem>\n                    );\n                  })}\n                </ResolveBox>\n                <ParsingFont>\n                  <div className=\"title\">正确答案</div>\n                  {checkAnswers?.map((val) => {\n                    const item = val[0];\n                    // 获取答案label\n                    // const itemLabel = letterTrueTemp\n                    //   .splice(0, item.length)\n                    //   .join('');\n                    return (\n                      <ResolveItem key={item.index}>\n                        <ResolveLabel>{item.index}</ResolveLabel>\n                        <ResolveResultList>\n                          {val?.map((item2) => item2.answer).join('、')}\n                        </ResolveResultList>\n                      </ResolveItem>\n                    );\n                  })}\n                  <br />\n                  解析：\n                  <br />\n                  {getMathpix(parse)}\n                </ParsingFont>\n              </Swiper.Item>\n            );\n          })}\n        </Swiper>\n      </CarouseBox>\n      <ButtonBox>\n        <ButtonBlank />\n        <ButtonBoxInner>\n          <Button type=\"primary\" onClick={(): void => history.go(-1)}>\n            返回报告\n          </Button>\n        </ButtonBoxInner>\n      </ButtonBox>\n    </Page>\n  );\n};\n\nexport default Parsing;\n"],"sourceRoot":""}