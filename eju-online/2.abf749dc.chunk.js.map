{"version":3,"sources":["components/TabBar/styles.ts","components/TabBar/TabBar.tsx","components/TabBar/images/icon-library.svg","components/TabBar/images/icon-find.svg","components/TabBar/images/icon-my.svg","pages/Library/Library.tsx","pages/Library/utils/filterArr.ts","pages/Library/utils/stringArrToPickArr.ts","pages/Find/styles.ts","pages/Find/images/icon-star2.png","pages/Find/images/icon-star.png","pages/Find/images/icon-arrow.png","pages/Find/Ladder/Ladder.tsx","pages/Find/images/icon-up.png","pages/Find/images/icon-no-change.png","pages/Find/images/icon-down.png","pages/Find/utils/getLevel.ts","pages/Find/Strength/Radar.tsx","pages/Find/Strength/SubjectParsing.tsx","pages/Find/Strength/Strength.tsx","pages/Find/Predict/Predict.tsx","pages/Find/Find.tsx","pages/UserCenter/styles.ts","pages/UserCenter/UserCenter.tsx","pages/UserCenter/images/icon-personal.svg","pages/UserCenter/images/icon-msg.svg","pages/UserCenter/images/icon-setting.svg","pages/Home/Home.tsx"],"names":["themeColor","pkg","theme","TabBarBox","styled","div","BottomBlank","TabBarInner","TabBarItem","ItemIcon","img","ItemTitle","TabBar","props","handelClick","type","onClick","className","src","Library","useState","ejuSubjectValue","setEjuSubjectValue","value","label","subjectArr","setSubjectArr","useLazyQuery","QUERY_SUBJECT","subjectReq","sujectData","data","SUBJECT_TAGS","subjectTagsReq","subjectTags","userSubjectAbilities","subjectExams","userExamHistories","filterExam","useMemo","arr","comMap","resultArr","forEach","item","sourceType","push","Object","keys","key","children","filterSourceType","filterExamHis","resultMap","exam","id","filterExamId","useContext","ProviderContext","state","dispatch","tabType","history","useHistory","handleTabChange","setAbilities","useCallback","prevTag","tagAbilities","abilities","startArr","tagId","abilityValue","Number","i","getQuick","tags","map","_id","name","Header","title","Body","item2","name2","_id2","children2","Panel","header","style","marginBottom","item3","name3","_id3","size","inline","subject","handleToExamInfo","getExam","val","examDate","date","dateToYear","bestPoints","examHis","getTopic","useEffect","variables","typeSubjects","defaultSubject","slice","cols","onOk","PickItem","placeholder","Page","TabBox","TabItem","InfoBox","InfoLi","InfoItem","IconStar","SelectBox","SelectBoxItem","Table","table","Tr","tr","Td","td","Th","th","RadarScroll","PredictBox","PredictBoxButton","button","PredictBoxFont","PredictSelect","PredictScroll","LadderBox","LadderContent","RankHeader","ItemFirst","ItemSecond","pl","ItemThird","RankList","RankItem","RankItemCenter","RankItemStart","RankAvatar","prop","RankItemEnd","RankIcon","SelectItem","IconArrow","Ladder","handleRankInfo","findRankData","useQuery","FIND_RANK","rankArr","findRank","rankValue","setRankValue","rankData","setRankData","length","userItem","thisWeak","initData","pointsLabel","getPointsLabel","index","userName","lastWeak","thisUser","avatar","math","physics","chemistry","lastMath","lastPhysics","lastChemistry","thisWeakPoints","lastWeakPoints","pointCompare","num","points","getLevel","point","level","Radar","findAi","FIND_AI","myPoint","myPointData","__typename","score","width","window","screen","chart","F2","Chart","pixelRatio","devicePixelRatio","padding","height","coord","source","values","axis","text","total","top","grid","line","area","position","color","animate","appear","animation","stroke","lineWidth","delay","legend","custom","items","marker","fill","render","tableListData","toefl","getTabelData","SubjectParsing","pointsData","setPointData","pointsValue","setPointValue","subjectData","setSubjectData","subjectvalue","setSubjectValue","findValueData","FIND_VALUE","chartRef","useRef","getPickData","dataArr","findValue","userInfo","subArr","pointsArr","findValueInfo","genre","percent","generalInfo","average","appendPadding","current","alias","min","max","tickCount","interval","align","itemWidth","guide","content","textBaseline","offsetY","group","get","addGroup","obj","getPosition","addShape","attrs","x","y","textAlign","showParsing","pointsItems","Strength","tabs","sub","Predict","findAiData","school","setSchool","recommendPoint","recommendPointData","verticalAlign","goalSchool","schoolEnum","ejuSubject","sourceData","goalPoint","goalLevel","itemData","Find","USER_SHOW","setTabType","rankNum","setRankNum","rankPoints","setRankPoints","getTabContent","ele","setRankInfo","info","nickName","userShow","PersonBg","PersonInner","PersonBgInner","bg","AvatarBox","Avatar","NickBox","NickName","Sign","FucList","FucListItem","FucListItemTop","FucListItemBottom","MenuBox","MenuItem","MenuLabel","MenuIcon","MsgNum","UserCenter","getUserInfo","signature","userMessages","handleMenu","isRead","getMessageNum","Home","setType","location","useLocation","pathname","handleClick","clickType"],"mappings":"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","file":"2.abf749dc.chunk.js","sourcesContent":["import styled from 'styled-px2vw';\r\nimport pkg from '../../../package.json';\r\n\r\nconst themeColor = pkg.theme['brand-primary'];\r\n\r\nexport const TabBarBox = styled.div`\r\n  background-color: #fafafa;\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  padding-bottom: constant(safe-area-inset-bottom);\r\n  padding-bottom: env(safe-area-inset-bottom);\r\n`;\r\n\r\nexport const BottomBlank = styled.div`\r\n  width: 100%;\r\n  height: 110px;\r\n  padding-bottom: constant(safe-area-inset-bottom);\r\n  padding-bottom: env(safe-area-inset-bottom);\r\n`;\r\nexport const TabBarInner = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 28px 96px 0;\r\n`;\r\nexport const TabBarItem = styled.div`\r\n  color: #bfbfbf;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  overflow: hidden;\r\n  &.active {\r\n    color: ${themeColor};\r\n    img {\r\n      filter: drop-shadow(${themeColor} 80px 0);\r\n      transform: translateX(-80px);\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ItemIcon = styled.img`\r\n  width: 48px;\r\n  height: 48px;\r\n`;\r\nexport const ItemTitle = styled.div`\r\n  font-size: 22px;\r\n  height: 40px;\r\n  line-height: 40px;\r\n`;\r\n","import React from 'react';\r\nimport {\r\n  TabBarBox,\r\n  TabBarItem,\r\n  TabBarInner,\r\n  ItemIcon,\r\n  ItemTitle,\r\n} from './styles';\r\nimport iconLibrary from './images/icon-library.svg';\r\nimport iconFind from './images/icon-find.svg';\r\nimport iconMy from './images/icon-my.svg';\r\n\r\ninterface TabBarProps {\r\n  handelClick: (type: string) => void;\r\n  type: string;\r\n}\r\n\r\nconst TabBar: React.FC<TabBarProps> = (props) => {\r\n  const { handelClick, type } = props;\r\n  return (\r\n    <>\r\n      <TabBarBox>\r\n        <TabBarInner>\r\n          <TabBarItem\r\n            onClick={(): void => handelClick('library')}\r\n            className={type === 'library' ? 'active' : ''}\r\n          >\r\n            <ItemIcon src={iconLibrary} />\r\n            <ItemTitle>题库</ItemTitle>\r\n          </TabBarItem>\r\n          <TabBarItem\r\n            onClick={(): void => handelClick('find')}\r\n            className={type === 'find' ? 'active' : ''}\r\n          >\r\n            <ItemIcon src={iconFind} />\r\n            <ItemTitle>发现</ItemTitle>\r\n          </TabBarItem>\r\n          <TabBarItem\r\n            onClick={(): void => handelClick('user-center')}\r\n            className={type === 'user-center' ? 'active' : ''}\r\n          >\r\n            <ItemIcon src={iconMy} />\r\n            <ItemTitle>我的</ItemTitle>\r\n          </TabBarItem>\r\n        </TabBarInner>\r\n      </TabBarBox>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TabBar;\r\n","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAyMiAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIwIDFDMTguODkgMC42NSAxNy42NyAwLjUgMTYuNSAwLjVDMTQuNTUgMC41IDEyLjQ1IDAuOSAxMSAyQzkuNTUgMC45IDcuNDUgMC41IDUuNSAwLjVDMy41NSAwLjUgMS40NSAwLjkgMCAyVjE3LjVDMS40NSAxNi40IDMuNTUgMTYgNS41IDE2QzcuNDUgMTYgOS41NSAxNi40IDExIDE3LjVDMTIuNDUgMTYuNCAxNC41NSAxNiAxNi41IDE2QzE3LjY3IDE2IDE4Ljg5IDE2LjE1IDIwIDE2LjVDMjAuNzUgMTYuNzUgMjEuNCAxNy4wNSAyMiAxNy41VjJDMjEuNCAxLjU1IDIwLjc1IDEuMjUgMjAgMVpNMjAgMTQuNUMxOC45IDE0LjE1IDE3LjcgMTQgMTYuNSAxNEMxNC44IDE0IDEyLjM1IDE0LjY1IDExIDE1LjVWNEMxMi4zNSAzLjE1IDE0LjggMi41IDE2LjUgMi41QzE3LjcgMi41IDE4LjkgMi42NSAyMCAzVjE0LjVaIiBmaWxsPSIjQkZCRkJGIi8+CjxwYXRoIGQ9Ik0xNi41IDYuNUMxNy4zOCA2LjUgMTguMjMgNi41OSAxOSA2Ljc2VjUuMjRDMTguMjEgNS4wOSAxNy4zNiA1IDE2LjUgNUMxNC44IDUgMTMuMjYgNS4yOSAxMiA1LjgzVjcuNDlDMTMuMTMgNi44NSAxNC43IDYuNSAxNi41IDYuNVoiIGZpbGw9IiNCRkJGQkYiLz4KPHBhdGggZD0iTTEyIDguNDlWMTAuMTVDMTMuMTMgOS41MSAxNC43IDkuMTYgMTYuNSA5LjE2QzE3LjM4IDkuMTYgMTguMjMgOS4yNSAxOSA5LjQyVjcuOUMxOC4yMSA3Ljc1IDE3LjM2IDcuNjYgMTYuNSA3LjY2QzE0LjggNy42NiAxMy4yNiA3Ljk2IDEyIDguNDlaIiBmaWxsPSIjQkZCRkJGIi8+CjxwYXRoIGQ9Ik0xNi41IDEwLjMzQzE0LjggMTAuMzMgMTMuMjYgMTAuNjIgMTIgMTEuMTZWMTIuODJDMTMuMTMgMTIuMTggMTQuNyAxMS44MyAxNi41IDExLjgzQzE3LjM4IDExLjgzIDE4LjIzIDExLjkyIDE5IDEyLjA5VjEwLjU3QzE4LjIxIDEwLjQxIDE3LjM2IDEwLjMzIDE2LjUgMTAuMzNaIiBmaWxsPSIjQkZCRkJGIi8+Cjwvc3ZnPgo=\"","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEwIDBDNC40OCAwIDAgNC40OCAwIDEwQzAgMTUuNTIgNC40OCAyMCAxMCAyMEMxNS41MiAyMCAyMCAxNS41MiAyMCAxMEMyMCA0LjQ4IDE1LjUyIDAgMTAgMFpNMiAxMEMyIDkuMzkgMi4wOCA4Ljc5IDIuMjEgOC4yMkw2Ljk5IDEzVjE0QzYuOTkgMTUuMSA3Ljg5IDE2IDguOTkgMTZWMTcuOTNDNS4wNiAxNy40MyAyIDE0LjA3IDIgMTBaTTE1Ljg5IDE1LjRDMTUuNjMgMTQuNTkgMTQuODkgMTQgMTMuOTkgMTRIMTIuOTlWMTFDMTIuOTkgMTAuNDUgMTIuNTQgMTAgMTEuOTkgMTBINS45OVY4SDcuOTlDOC41NCA4IDguOTkgNy41NSA4Ljk5IDdWNUgxMC45OUMxMi4wOSA1IDEyLjk5IDQuMSAxMi45OSAzVjIuNTlDMTUuOTIgMy43NyAxOCA2LjY1IDE4IDEwQzE4IDEyLjA4IDE3LjE5IDEzLjk4IDE1Ljg5IDE1LjRaIiBmaWxsPSIjQkZCRkJGIi8+Cjwvc3ZnPgo=\"","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE5LjY1MTUgMjAuNDA1NEMyMC4yMDQzIDIwLjI5MDIgMjAuNTMzNiAxOS43MTE3IDIwLjI1ODkgMTkuMjE4M0MxOS42NTMzIDE4LjEzMDcgMTguNjk5MyAxNy4xNzQ5IDE3LjQ3ODggMTYuNDQ2NUMxNS45MDcgMTUuNTA4NSAxMy45ODEyIDE1IDEyIDE1QzEwLjAxODggMTUgOC4wOTI5MiAxNS41MDg1IDYuNTIxMTIgMTYuNDQ2NUM1LjMwMDY5IDE3LjE3NDkgNC4zNDY2NiAxOC4xMzA3IDMuNzQxMDggMTkuMjE4M0MzLjQ2NjM4IDE5LjcxMTcgMy43OTU2MiAyMC4yOTAyIDQuMzQ4NDMgMjAuNDA1NEM5LjM5NTI0IDIxLjQ1NzIgMTQuNjA0NyAyMS40NTcyIDE5LjY1MTUgMjAuNDA1NFoiIGZpbGw9IiNCRkJGQkYiLz4KPGNpcmNsZSBjeD0iMTIiIGN5PSI4IiByPSI1IiBmaWxsPSIjQkZCRkJGIi8+Cjwvc3ZnPgo=\"","import React, {\n  ReactElement,\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\nimport { Accordion, Picker, WhiteSpace, Button, Card } from 'antd-mobile';\nimport PickItem from '@/components/PickItem';\nimport { useHistory } from 'react-router-dom';\nimport { ProviderContext } from '@/reducer/context';\nimport { useLazyQuery } from '@apollo/client';\nimport { QUERY_SUBJECT, SUBJECT_TAGS } from '@/helpers/APIHelper';\nimport {\n  AccordionBox,\n  AccordionItem,\n  AccordionLeft,\n  AccordionLeftStarBox,\n  AccordionLeftTite,\n  AccordionRight,\n  Content,\n  Star,\n  StarBox,\n  StarFont,\n  TabBarBox,\n  TabBarItem,\n} from './styles';\nimport stringArrToPickArr from './utils/stringArrToPickArr';\nimport { filterSourceType, filterExamId } from './utils/filterArr';\nimport dateToYear from './utils/dateToYear';\n\nconst Library: React.FC = () => {\n  const [ejuSubjectValue, setEjuSubjectValue] = useState<string[]>([]); // 科目选中值\n  const [subjectArr, setSubjectArr] = useState([{ value: '', label: '' }]); // 科目下拉选项\n  const [subjectReq, { data: sujectData }] = useLazyQuery(QUERY_SUBJECT); // 查询下拉选项数据\n  const [subjectTagsReq, { data: subjectTagsData }] =\n    useLazyQuery(SUBJECT_TAGS); // 查询该科目下所有题目\n  const {\n    subjectTags,\n    userSubjectAbilities,\n    subjectExams = [],\n    userExamHistories = [],\n  } = subjectTagsData || {};\n  console.log('subjectTags+++', subjectTags);\n  console.log('userSubjectAbilities+++', userSubjectAbilities);\n  const filterExam = useMemo(\n    () => filterSourceType(subjectExams),\n    [subjectExams]\n  ); // 过滤后的考试题目\n  const filterExamHis = useMemo(\n    () => filterExamId(userExamHistories),\n    [userExamHistories]\n  ); // 过滤后的考试记录\n  const { state, dispatch } = useContext(ProviderContext);\n  const { tabType } = state;\n  const history = useHistory();\n  // 切换标签\n  const handleTabChange = (type: string): void => {\n    dispatch?.({ type: 'setTabType', tabType: type });\n  };\n  // 设置星值\n  const setAbilities = useCallback(\n    (prevTag: string): ReactElement => {\n      const { tagAbilities } = userSubjectAbilities || {};\n      let abilities = 0;\n      const startArr = [];\n      tagAbilities?.forEach((item: { tagId: string; abilityValue: string }) => {\n        const { tagId, abilityValue } = item;\n        if (prevTag === tagId) {\n          abilities = Number(abilityValue);\n        }\n      });\n      for (let i = 1; i <= 5; i += 1) {\n        if (abilities === 5) {\n          startArr.push(<Star className=\"all\" />);\n        } else if (i <= abilities) {\n          startArr.push(<Star className=\"active\" />);\n        } else {\n          startArr.push(<Star />);\n        }\n      }\n      return <>{startArr}</>;\n    },\n    [userSubjectAbilities]\n  );\n\n  // 获取智能速答题目\n  const getQuick = useCallback(() => {\n    return subjectTags?.tags?.map((item: any) => {\n      const { _id, name, children = [] } = item;\n      return (\n        <>\n          <Card key={_id}>\n            <Card.Header title={name} />\n            <Card.Body>\n              <Accordion>\n                {children.map((item2: any) => {\n                  const {\n                    name: name2,\n                    _id: _id2,\n                    children: children2 = [],\n                  } = item2;\n                  return (\n                    <Accordion.Panel\n                      header={name2}\n                      key={_id2}\n                      style={{ marginBottom: '10px' }}\n                    >\n                      <AccordionBox>\n                        {children2.map((item3: any) => {\n                          const { name: name3, _id: _id3 } = item3;\n                          const abilities = setAbilities(_id3);\n                          return (\n                            <AccordionItem key={_id3}>\n                              <AccordionLeft>\n                                <AccordionLeftTite>{name3}</AccordionLeftTite>\n                                <AccordionLeftStarBox>\n                                  <StarFont>菓星值</StarFont>\n                                  <StarBox>{abilities}</StarBox>\n                                </AccordionLeftStarBox>\n                              </AccordionLeft>\n                              <AccordionRight>\n                                <Button\n                                  type=\"primary\"\n                                  size=\"small\"\n                                  inline\n                                  onClick={(): void =>\n                                    history.push(\n                                      `/quick?subject=${\n                                        subjectTags?.subject || ''\n                                      }&tagId=${_id3 || ''}&tag=${name3}`\n                                    )\n                                  }\n                                >\n                                  开始练习\n                                </Button>\n                              </AccordionRight>\n                            </AccordionItem>\n                          );\n                        })}\n                      </AccordionBox>\n                    </Accordion.Panel>\n                  );\n                })}\n              </Accordion>\n            </Card.Body>\n          </Card>\n          <WhiteSpace size=\"lg\" />\n        </>\n      );\n    });\n  }, [history, setAbilities, subjectTags?.subject, subjectTags?.tags]);\n\n  // 开始考试联系\n  const handleToExamInfo = useCallback(\n    (data) => {\n      dispatch?.({ type: 'setExam', exam: data });\n      history.push('/exam-info');\n    },\n    [dispatch, history]\n  );\n  // 获取套卷模拟\n  const getExam = useCallback(() => {\n    return (\n      <Accordion>\n        {filterExam.map((item) => {\n          return (\n            <Accordion.Panel\n              header={item.sourceType}\n              style={{ marginBottom: '20px' }}\n            >\n              <AccordionBox>\n                {item.children.map((val) => {\n                  const { date: examDate } = val;\n                  return (\n                    <AccordionItem key={val.id}>\n                      <AccordionLeft>\n                        <AccordionLeftTite>\n                          {dateToYear(examDate)}\n                        </AccordionLeftTite>\n                        <AccordionLeftStarBox>\n                          <StarFont>\n                            个人历史最高分：{filterExamHis[val.id]?.bestPoints}\n                          </StarFont>\n                        </AccordionLeftStarBox>\n                      </AccordionLeft>\n                      <AccordionRight>\n                        <Button\n                          type=\"primary\"\n                          size=\"small\"\n                          inline\n                          onClick={(): void =>\n                            handleToExamInfo({\n                              exam: val,\n                              examHis: filterExamHis[val.id],\n                            })\n                          }\n                        >\n                          开始练习\n                        </Button>\n                      </AccordionRight>\n                    </AccordionItem>\n                  );\n                })}\n              </AccordionBox>\n            </Accordion.Panel>\n          );\n        })}\n      </Accordion>\n    );\n  }, [filterExam, filterExamHis, handleToExamInfo]);\n\n  // 获取专题模拟\n  const getTopic = useCallback(() => {\n    return subjectTags?.tags?.map((item: any) => {\n      const { _id, name } = item;\n      const abilities = setAbilities(_id);\n\n      return (\n        <AccordionItem key={_id}>\n          <AccordionLeft>\n            <AccordionLeftTite>{name}</AccordionLeftTite>\n            <AccordionLeftStarBox>\n              <StarFont>菓星值</StarFont>\n              <StarBox>{abilities}</StarBox>\n            </AccordionLeftStarBox>\n          </AccordionLeft>\n          <AccordionRight>\n            <Button\n              type=\"primary\"\n              size=\"small\"\n              inline\n              onClick={(): void =>\n                history.push(\n                  `/topic?subject=${subjectTags?.subject || ''}&tagId=${\n                    _id || ''\n                  }&tag=${name}`\n                )\n              }\n            >\n              开始练习\n            </Button>\n          </AccordionRight>\n        </AccordionItem>\n      );\n    });\n  }, [history, setAbilities, subjectTags?.subject, subjectTags?.tags]);\n  // 查询题库筛选科目的值\n  useEffect(() => {\n    subjectReq({\n      variables: {\n        sourceType: tabType,\n      },\n    });\n  }, [subjectReq, tabType]);\n  // 查询科目下所有题目\n  useEffect(() => {\n    const subject = ejuSubjectValue[0];\n    subject &&\n      subjectTagsReq({\n        variables: {\n          sourceType: tabType,\n          subject,\n        },\n      });\n  }, [ejuSubjectValue, subjectTagsReq, tabType]);\n  // 设置下拉选项\n  useEffect(() => {\n    const { typeSubjects } = sujectData || {};\n    if (typeSubjects) {\n      setSubjectArr(stringArrToPickArr(typeSubjects));\n      // 设置默认下拉选项\n      const defaultSubject = typeSubjects.slice(0, 1);\n      setEjuSubjectValue(defaultSubject);\n    }\n  }, [sujectData]);\n  return (\n    <Content>\n      <TabBarBox>\n        <TabBarItem\n          className={tabType === 'center' ? 'active' : ''}\n          onClick={(): void => handleTabChange('center')}\n        >\n          智能速答\n        </TabBarItem>\n        <TabBarItem\n          className={tabType === 'eju' ? 'active' : ''}\n          onClick={(): void => handleTabChange('eju')}\n        >\n          专题模拟\n        </TabBarItem>\n        <TabBarItem\n          className={tabType === 'gaokao' ? 'active' : ''}\n          onClick={(): void => handleTabChange('gaokao')}\n        >\n          套卷模拟\n        </TabBarItem>\n      </TabBarBox>\n      <WhiteSpace size=\"xl\" />\n\n      <Picker\n        data={subjectArr}\n        cols={1}\n        value={ejuSubjectValue}\n        onOk={(value: string[]): void => setEjuSubjectValue(value)}\n      >\n        <PickItem placeholder=\"请选择考学科目\" />\n      </Picker>\n      {tabType === 'center' && <>{getQuick()}</>}\n      {tabType === 'eju' && <>{getTopic()}</>}\n      {tabType === 'gaokao' && getExam()}\n    </Content>\n  );\n};\n\nexport default Library;\n","export interface FilterSourceTypeProps {\r\n  date: string;\r\n  sourceType: string;\r\n  subject: string;\r\n  id: string;\r\n  fullPoints: number;\r\n  timeLimit: number;\r\n}\r\ninterface FilterSourceTypeReturn {\r\n  sourceType: string;\r\n  children: FilterSourceTypeProps[];\r\n}\r\nexport function filterSourceType(\r\n  arr: FilterSourceTypeProps[]\r\n): FilterSourceTypeReturn[] {\r\n  const comMap: { [key: string]: FilterSourceTypeProps[] } = {}; // 用于比对是否已存当前项\r\n  const resultArr: FilterSourceTypeReturn[] = []; // 最后过滤好的数据\r\n  arr?.forEach((item) => {\r\n    const { sourceType } = item;\r\n    if (comMap[sourceType as keyof typeof comMap]) {\r\n      comMap[sourceType as keyof typeof comMap].push(item);\r\n    } else {\r\n      comMap[sourceType as keyof typeof comMap] = [{ ...item }];\r\n    }\r\n  });\r\n  Object.keys(comMap).forEach((key) => {\r\n    resultArr.push({\r\n      sourceType: key,\r\n      children: comMap[key],\r\n    });\r\n  });\r\n  return resultArr;\r\n}\r\n\r\nexport interface FilterExamIdProps {\r\n  bestPoints: number;\r\n  exam: { id: string };\r\n  frequency: number;\r\n  previousPoints: number;\r\n  subject: string;\r\n  timeCounter: number;\r\n  userId: string;\r\n}\r\ninterface FilterExamIdReturn {\r\n  [key: string]: FilterExamIdProps;\r\n}\r\nexport function filterExamId(arr: FilterExamIdProps[]): FilterExamIdReturn {\r\n  const resultMap: FilterExamIdReturn = {};\r\n  arr?.forEach((item) => {\r\n    const { exam } = item;\r\n    resultMap[exam.id as keyof typeof resultMap] = item;\r\n  });\r\n  return resultMap;\r\n}\r\n","// 将接口中的string数组转换称pick需要格式\r\ninterface PickValueArr {\r\n  value: string;\r\n  label: string;\r\n}\r\nexport default function stringArrToPickArr(strArr: string[]): PickValueArr[] {\r\n  console.log(strArr);\r\n  return strArr.map((item) => ({ value: item, label: item }));\r\n}\r\n","import styled from 'styled-px2vw';\r\nimport pkg from '../../../package.json';\r\nimport star from './images/icon-star.png';\r\nimport star2 from './images/icon-star2.png';\r\nimport iconArrow from './images/icon-arrow.png';\r\n\r\nconst themeColor = pkg.theme['brand-primary'];\r\n\r\nexport const Page = styled.div``;\r\n\r\nexport const TabBox = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  height: 128px;\r\n`;\r\n\r\nexport const TabItem = styled.div`\r\n  width: 190px;\r\n  height: 50px;\r\n  border-radius: 60px;\r\n  font-size: 32px;\r\n  letter-spacing: 0.4px;\r\n  font-weight: bold;\r\n  color: #7f7f7f;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  &.active {\r\n    color: #fff;\r\n    background-color: ${themeColor};\r\n  }\r\n`;\r\n\r\nexport const InfoBox = styled.div`\r\n  background: ${themeColor};\r\n  border-radius: 0px 0px 30px 30px;\r\n  padding: 20px 74px;\r\n  position: relative;\r\n  z-index: 1;\r\n`;\r\n\r\nexport const InfoLi = styled.div`\r\n  height: 70px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport const InfoItem = styled.div`\r\n  min-width: 124px;\r\n  color: #fff;\r\n  flex: 1;\r\n`;\r\n\r\nexport const IconStar = styled.i`\r\n  display: inline-block;\r\n  width: 36px;\r\n  height: 34px;\r\n  background: url(${star2}) no-repeat center;\r\n  margin-right: 16px;\r\n  background-size: contain;\r\n  &:last-child {\r\n    margin-right: 0;\r\n  }\r\n  &.active {\r\n    background-image: url(${star});\r\n  }\r\n`;\r\n\r\n// 图标\r\nexport const StrengthPage = styled.div`\r\n  padding: 20px 40px;\r\n`;\r\nexport const SelectBox = styled.div`\r\n  padding-top: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n`;\r\n\r\nexport const SelectBoxItem = styled.div`\r\n  width: 50%;\r\n  flex-shrink: 0;\r\n`;\r\n\r\nexport const Table = styled.table`\r\n  width: 100%;\r\n`;\r\nexport const Tr = styled.tr`\r\n  height: 50px;\r\n`;\r\n\r\nexport const Td = styled.td`\r\n  vertical-align: middle;\r\n  font-size: 28px;\r\n  text-align: center;\r\n`;\r\nexport const Th = styled.th`\r\n  font-size: 32px;\r\n  color: ${themeColor};\r\n`;\r\n\r\nexport const RadarScroll = styled.div`\r\n  height: calc(100vh - 395px);\r\n  overflow-y: auto;\r\n`;\r\n\r\nexport const PredictBox = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 20px 30px;\r\n`;\r\nexport const PredictBoxButton = styled.button`\r\n  background: #f8fffc;\r\n  border: 1px solid ${themeColor};\r\n  box-sizing: border-box;\r\n  border-radius: 16px;\r\n  flex-shrink: 0;\r\n  width: 166px;\r\n  height: 74px;\r\n  color: ${themeColor};\r\n  font-size: 32px;\r\n`;\r\nexport const PredictBoxFont = styled.div`\r\n  font-weight: bold;\r\n  font-size: 40px;\r\n  letter-spacing: 0.3px;\r\n  color: ${themeColor};\r\n`;\r\n\r\nexport const PredictSelect = styled.div`\r\n  padding-right: 30px;\r\n`;\r\n\r\nexport const PredictScroll = styled.div`\r\n  height: calc(100vh - 308px);\r\n  overflow-y: auto;\r\n`;\r\n// 天梯排行\r\nexport const LadderBox = styled.div`\r\n  background-color: #f5f5f5;\r\n  position: absolute;\r\n  top: 128px;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n`;\r\n\r\nexport const LadderContent = styled.div`\r\n  position: absolute;\r\n  top: 180px;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n`;\r\nexport const RankHeader = styled.div`\r\n  height: 126px;\r\n  padding: 34px;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nexport const ItemFirst = styled.div`\r\n  width: 64px;\r\n  flex-shrink: 0;\r\n  color: #bdbdbd;\r\n  font-size: 32px;\r\n  text-align: center;\r\n`;\r\nexport const ItemSecond = styled.div<{ pl?: string }>`\r\n  width: 100%;\r\n  padding-left: ${(props): string => props.pl || '0px'};\r\n  color: #bdbdbd;\r\n  font-size: 32px;\r\n`;\r\nexport const ItemThird = styled.div`\r\n  display: inline-flex;\r\n  width: 248px;\r\n  flex-shrink: 0;\r\n  font-size: 32px;\r\n  justify-content: flex-end;\r\n`;\r\n\r\nexport const RankList = styled.div`\r\n  position: absolute;\r\n  top: 126px;\r\n  bottom: 0px;\r\n  left: 0;\r\n  right: 0;\r\n  overflow-y: auto;\r\n  background-color: #fff;\r\n`;\r\n\r\nexport const RankItem = styled.div`\r\n  height: 144px;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0 34px;\r\n  &.my {\r\n    background-color: #d7efe0;\r\n  }\r\n`;\r\n\r\nexport const RankItemCenter = styled.div`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  color: #000;\r\n`;\r\nexport const RankItemStart = styled(RankItemCenter)``;\r\n\r\nexport const RankAvatar = styled.div<{ img: string }>`\r\n  display: inline-block;\r\n  width: 84px;\r\n  height: 84px;\r\n  border-radius: 50%;\r\n  background-image: url(${(prop): string => prop.img || ''});\r\n  background-size: cover;\r\n  background-position: center;\r\n  margin-right: 24px;\r\n`;\r\n\r\nexport const RankItemEnd = styled.div`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  color: #bfbfbf;\r\n`;\r\n\r\nexport const RankIcon = styled.i<{ img: string }>`\r\n  display: inline-block;\r\n  width: 46px;\r\n  height: 45px;\r\n  background: url(${(props): string => props.img || ''}) no-repeat center;\r\n  background-size: contain;\r\n  margin-left: 46px;\r\n`;\r\n\r\nexport const SelectItem = styled.div`\r\n  width: 248px;\r\n  height: 74px;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  padding: 0 48px 0 28px;\r\n  justify-content: space-between;\r\n  border-radius: 16px;\r\n  border: 1px solid #e8e8e8;\r\n  background: #fff;\r\n`;\r\nexport const IconArrow = styled.i`\r\n  width: 40px;\r\n  height: 25px;\r\n  display: inline-block;\r\n  background: url(${iconArrow}) no-repeat center;\r\n  background-size: contain;\r\n`;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAiCAYAAAA3WXuFAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOMSURBVHgBzZixUxNBFMa/vRAgViSdoSCKvTKCM87ITCi0U7RRO7RSKoXOCiyshUalgtKxAjrHQhyYcUbigH8AmIbYERonICTney8hs3d7e3CXyPibucnt7e3td++9ffsuwH+GQou468jDwRid7qGKH+oaFtACHWgB9zum4GKajjqOXOtTV/ESMYltIZr4EQmZD+ys4XFcS8UXVMBP+slZuotqEBcQAwcxEOv4xFTcbr2ZI8F3cVaCyFVjerNwNCiHj2c4C0HuV7FMXr/28c9NrB8agvKyAv+1ICRpZWlsVS+iXEujVMvKuQcV3W2RBAVZZ11z1erhDf+QMXcDPWi3IBYi5k/iNbRgLrtpFDRXbVX7/cHdQ8lynsc2XuZEPMu+kXVHKWhz1LwiD4T9DZcO7hhWudX5SY4Q9ugoyq/CJs31hVLEokeQqE/iM3C6t2DYOq9+vzCup1QFk+dmkFZlRKCIQ4yo6yjWXRZRDAfvm8rTwL6Km5I+FhwBNohkfeV+I9c42Ai7mx/OsbFT65WYMVaThcFkAZecbaSdXWSc8slWq2Ggg5xmxMjSwe16gCIlSzouLL4Ab37qVvvIqF30J7Yx2rXsHUBaHNrvN1EPtCbDnWsti7GxT5auoJvmWDU7SYujBkiM6y0XMmTa8dQ7MnWkwDwV7L7x1JzM4YE0sJbmsqdYWmgUWk04QN9WnkgWbgdZpyQvmiK3+Zilpf+cT7x5qIAZBGyK7w/uexJgHDjARzuXQ8UwnkwtHa5Z7T3s+iBvFxd2Ez/DEMNu0sQYgkTUkJSkhihjRUSAY8aAxfBcPgL3siBRvEyzzi9EpT+xFRzAAWKsgpqigBX9Wjaxg6hkHEPMkk1MqKAGe2g3Dsrh3eHk9Ea5lkFUds3kmg+73/pdJoVVVUqQJqXaec89HFfDyVX0JkrNyblg01OEkcOotOFnS0KOIghHJEZ5xXCiZI6XMQvSSSfKcm2oo0C564FsPTyGx3oWRFWstBg0bZjL8nqDN1umnm3nDDE63KdvPcdjm7j2UscuSOGy3twh03O25Ykypyi++J7J1Ay5dC1o68nbxoV92+f0BrvBYpUVqmMm5MyRmjt/3MHVIyfUgK+RPsQQ5MEiZtaX+keoLp+mCadOGGtNJ3aXUQKDHS5ZJvz7ENPI8hMIQ0mRb+my6akvey5tc76uIrnoHv27sYkQQj4cikhgwLbs/wJHNFBxJCAuxAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAiCAYAAAA3WXuFAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAILSURBVHgBzZjRUcJAEIb/C/CuFRAqUEZxxrdQgVoBWIFagVoCFUgJWIH45IzggBWYDuRdIP53MAww7JFcEuCbuUlgQ+7P7u3eBuDAUEhJ1EMADw2ejjDBt7pAGykoIgXRFx4R4Yljhme+K6szPMMRZw9x4iaFvGw0TnHr6il3QX388OAL5lCdowIHPDhgvCOL0fgUfA0HnAQxVI0YV93BgcQhiz7omZIJV4yLUVc1dJGA5B4qMbPiopKHLZGH5t55g339LDNCARVV5TFLQUZIkUOZdZH0qTsMXQtjZt4lwm0XrwiaV90r3sDnx1OOo/nIEu2t0BwVhpzrnSWisyLIIRRZE+KPCUAPzhb1fsXAzF2aVX0VfTI0HgY4BKaoegxa1mvEHWrxmD1DIH5a5gq1eKZGRO7tQmZQg9aySHuupfa80doHLab+vT5ZbB3sX5ragN2zELMiSGMMuwyfDtOSGKNh43U9tqUqwSbqKqbGedYQ97JcRQlirILM7/qmggfIVswrxYgb9LZ+KPv65OHXbrbjI3sCm1FeQwNuKRP70zhTwLHUtMkeGpt+KB8mspdsIQuQF5G8FGRBCifIj0Ay2DzkIx5d3ceYgZivPAplyZTqzwas7UOkHrOgiuVE9hALGGw3jPCwvg9pTAWmDTaU/PaxLe11a+uvmUKG54bdwRAWLC8OIdO+KqX9P4DXkJet9ho7AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAZCAYAAABD2GxlAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEiSURBVHgBzdc5DoJAFMbx91waK4/iDYwn0SNoLGxtLYwcQU9CvAFHsaJRMvKNQEjYZnmA/4Z1Mr/ANEP053F+sg/PyxkvQsUquK5PDxqh4/OyZcX7j4o3web8KoAFjmil32S1GxoJHCm+Z6goR3IFlzcgsowrps+QkykvbhUcSgfogSPg9PSpCbZJouaH9DqqHd0zsgmXFSUqPmRr8Lac8jukui+JevjdBrjfGszvDIk0xelpy0+GQNrgKsC+kba4WmBfSBdcI1Aa6YprBUohfXCdQF+kL84I6IqUwBkDbZFSOCugKVIfhXDWQNSJbM4ah6yByAHphENOQGSBdMYhZyAyQHrhkBcQtSC9ccgbiGqQIjgkAkQlJEnhxAMSmzAS7Aulikly8DsnuwAAAABJRU5ErkJggg==\"","import React, { ReactElement, useEffect, useMemo, useState } from 'react';\r\nimport { Picker } from 'antd-mobile';\r\nimport { BottomBlank } from '@/components/TabBar/styles';\r\nimport { useQuery } from '@apollo/client';\r\nimport { FIND_RANK } from '@/helpers/APIHelper';\r\nimport {\r\n  IconArrow,\r\n  ItemFirst,\r\n  ItemSecond,\r\n  ItemThird,\r\n  LadderBox,\r\n  LadderContent,\r\n  RankAvatar,\r\n  RankHeader,\r\n  RankIcon,\r\n  RankItem,\r\n  RankItemCenter,\r\n  RankItemEnd,\r\n  RankItemStart,\r\n  RankList,\r\n  SelectItem,\r\n} from '../styles';\r\nimport iconUp from '../images/icon-up.png';\r\nimport iconDown from '../images/icon-down.png';\r\nimport iconNoChange from '../images/icon-no-change.png';\r\n\r\ninterface RankScoreItem {\r\n  chemistry: number;\r\n  math: number;\r\n  physics: number;\r\n}\r\ninterface RankItemTypes {\r\n  userName: string;\r\n  avatar: string;\r\n  thisUser: boolean;\r\n  lastSeason: RankScoreItem;\r\n  lastWeak: RankScoreItem;\r\n  thisWeak: RankScoreItem;\r\n}\r\n\r\ninterface PointItem {\r\n  value: string;\r\n  label: string;\r\n}\r\n\r\ninterface LadderProps {\r\n  handleRankInfo: (info: { num: number; points: number }) => void;\r\n}\r\nconst Ladder: React.FC<LadderProps> = (props) => {\r\n  const { handleRankInfo } = props;\r\n  const { data: findRankData } = useQuery(FIND_RANK);\r\n  // 排行榜数据\r\n  const rankArr = useMemo(() => {\r\n    return findRankData?.findRank?.findRank || [];\r\n  }, [findRankData?.findRank?.findRank]);\r\n  console.log('findRankData++++', rankArr);\r\n  // 选中的排行榜排行数据\r\n  const [rankValue, setRankValue] = useState<string[]>(['total']);\r\n  // 筛选的数据类型\r\n  const [rankData, setRankData] = useState<PointItem[]>([]);\r\n  // 设置下拉选框展示的值\r\n  const getPointsLabel = (): string => {\r\n    let pointsLabel = '';\r\n    rankData.forEach((item) => {\r\n      if (item.value === rankValue[0]) {\r\n        pointsLabel = item.label;\r\n      }\r\n    });\r\n    return pointsLabel;\r\n  };\r\n  // 获取列表项\r\n  const getRankItem = (): ReactElement[] => {\r\n    return rankArr.map((item: RankItemTypes, index: number) => {\r\n      const { thisWeak, userName, lastWeak, thisUser, avatar } = item;\r\n      const { math, physics, chemistry } = thisWeak;\r\n      const {\r\n        math: lastMath,\r\n        physics: lastPhysics,\r\n        chemistry: lastChemistry,\r\n      } = lastWeak;\r\n      let thisWeakPoints = 0;\r\n      let lastWeakPoints = 0;\r\n\r\n      if (rankValue[0] === 'total') {\r\n        // 本周总分数\r\n        thisWeakPoints = math + physics + chemistry;\r\n        // 上周总分数\r\n        lastWeakPoints = lastMath + lastPhysics + lastChemistry;\r\n      } else {\r\n        // 本周单独科目分数\r\n        thisWeakPoints = thisWeak[rankValue[0] as keyof typeof thisWeak];\r\n        // 上周单独科目分数\r\n        lastWeakPoints = lastWeak[rankValue[0] as keyof typeof thisWeak];\r\n      }\r\n      // 分数比对\r\n      const pointCompare = thisWeakPoints - lastWeakPoints;\r\n      // 设置展示分数\r\n      if (thisUser) {\r\n        handleRankInfo({ num: index + 1, points: math + physics + chemistry });\r\n      }\r\n      return (\r\n        <RankItem className={thisUser ? 'my' : ''}>\r\n          <ItemFirst>\r\n            <RankItemStart>{index + 1}</RankItemStart>\r\n          </ItemFirst>\r\n          <ItemSecond pl=\"12px\">\r\n            <RankItemCenter>\r\n              <RankAvatar img={avatar} />\r\n              {userName}\r\n            </RankItemCenter>\r\n          </ItemSecond>\r\n          <ItemThird>\r\n            <RankItemEnd>\r\n              {thisWeakPoints}\r\n              {pointCompare > 0 && <RankIcon img={iconUp} />}\r\n              {pointCompare === 0 && <RankIcon img={iconNoChange} />}\r\n              {pointCompare < 0 && <RankIcon img={iconDown} />}\r\n            </RankItemEnd>\r\n          </ItemThird>\r\n        </RankItem>\r\n      );\r\n    });\r\n  };\r\n\r\n  // 获取下拉选框的值\r\n  useEffect(() => {\r\n    if (rankArr.length > 0) {\r\n      const userItem = rankArr[0];\r\n      const thisWeak = userItem?.thisWeak;\r\n      const initData = [{ value: 'total', label: '总分' }];\r\n      Object.keys(thisWeak).forEach((item) => {\r\n        item !== '__typename' &&\r\n          initData.push({\r\n            value: item,\r\n            label: item,\r\n          });\r\n      });\r\n      setRankData(initData);\r\n    }\r\n  }, [rankArr]);\r\n  return (\r\n    <LadderBox>\r\n      <LadderContent>\r\n        <RankHeader>\r\n          <ItemFirst>排名</ItemFirst>\r\n          <ItemSecond pl=\"100px\">昵称</ItemSecond>\r\n          <ItemThird>\r\n            <Picker\r\n              data={rankData}\r\n              cols={1}\r\n              value={rankValue}\r\n              onOk={(value: string[]): void => setRankValue(value)}\r\n            >\r\n              <SelectItem>\r\n                <span>{getPointsLabel()}</span>\r\n                <IconArrow />\r\n              </SelectItem>\r\n            </Picker>\r\n          </ItemThird>\r\n        </RankHeader>\r\n        <RankList>\r\n          {getRankItem()}\r\n          <BottomBlank />\r\n        </RankList>\r\n      </LadderContent>\r\n    </LadderBox>\r\n  );\r\n};\r\n\r\nexport default Ladder;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAtCAYAAADRLVmZAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFqSURBVHgB7dhdTsJAFIbhU1fAjrQ70R20/l7KtUqAFYg7YAfUHbEA6zhUvxpayvydOYVk3psmc0h5QkI6U6IzLaNI3X6+PmeKiuZLMlq9XT6UxFgU+F318q4v153l1ezq8YaYYocPoBEbnhVuQCMWPBvcEo2C8SxwRzQKwgfDPdHIGx8ED0QjL7w3nAmNnPFecGY0csJfkGNGtFIfXjN9z797W+UEt0HP8qfBeTNjwlvDQ9GIC28F50IjDrwRzo1Gofij8FhoFIIfhMdGI1/8QbgUGvnge3BpNHLF78HHQiMXfAvXZ8Q5jYhGNvh7bW3gxWY+yZQqBj8qhEYmvNJW8wNIGI1M+Aa+yMut3ihWvelIaHQEv25/8Vp97baU63akvpdjotEvnpb/K1lVq7rs7ceLzXSyuy7y6ZY80/98dWhd77e9Dy5dV6wXQuzwbs4HiVMpwaVLcOkSXLoEly7BpUtw6RJcugSX7gfElw530y00HwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAGCAYAAACxWNwrAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAjSURBVHgB7c4xAQAACAJBNP931hAsDFyCG+AUbBWuQVeDrgcGzgKv9b2JLgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAtCAYAAADRLVmZAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGjSURBVHgB7dnvTcJAGMfx55qAL4RENyh95QurjuAIbGBHYAQ3QCYAJ3AEVzDB1+gGmCh9yXm/JkXF/ru7p1c0902a0BaaT0rb9HKCWmgTxbJo+/FqKYipgP5oHu46D3edh7vOw13n4a7zcNd5uOs83HX/B74OwxMsdGDtu4KvHWdhOoof+8FwjSWN4ikdSGl0Mf3meoB1B+8HvakUdJ2vq9HuRA1659Rxm+hyLklO8nXlGh+J3jyDr8Mr/AXjgt8lXeKBJtom+9txgpvcnJ3gy9B5Gfz09eltS3JWcRyn+Dq0unRmuzM+XD1PpKT78sO5wdeilXGgrD8ulcHLMukS3witjPj86xrvCq+DRoU3p2u8LhqVPlVc4U3QqPJx2DbeFI1qn+Nt4W3QqNHbITfeFo0av9Zy4TnQSHuG4GMUL4Sgm4qvLNSSFO8KFhxoZDS10QCvnQ4aGc/JcOJ10chqMokDb4JG1rNgNnhTNGKZvjPB26AR27yjDt4WjdjgqAmeA41Y4agKz4VG7HBUhOdEo1bg6D06vwtIZHiMZ9XQ8JYY+wTqEBWUpFzitAAAAABJRU5ErkJggg==\"","// 根据分数获取等级\r\nconst getLevel = (point: number, type: string): string => {\r\n  let level = '';\r\n  if (type === 'math') {\r\n    switch (true) {\r\n      case point < 100:\r\n        level = 'D';\r\n        break;\r\n      case point >= 100 && point < 120:\r\n        level = 'C';\r\n        break;\r\n      case point >= 120 && point < 150:\r\n        level = 'B';\r\n        break;\r\n      case point >= 150 && point < 180:\r\n        level = 'A';\r\n        break;\r\n      case point >= 180:\r\n        level = 'S';\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n  if (type === 'physics' || type === 'chemistry') {\r\n    switch (true) {\r\n      case point < 55:\r\n        level = 'D';\r\n        break;\r\n      case point >= 55 && point < 65:\r\n        level = 'C';\r\n        break;\r\n      case point >= 65 && point < 75:\r\n        level = 'B';\r\n        break;\r\n      case point >= 75 && point < 85:\r\n        level = 'A';\r\n        break;\r\n      case point >= 85:\r\n        level = 'S';\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n  return level;\r\n};\r\n\r\nexport default getLevel;\r\n","import React, { ReactElement, useEffect } from 'react';\r\nimport F2 from '@antv/f2';\r\nimport { Card, WhiteSpace, WingBlank } from 'antd-mobile';\r\nimport { BottomBlank } from '@/components/TabBar/styles';\r\nimport { useQuery } from '@apollo/client';\r\nimport { FIND_AI } from '@/helpers/APIHelper';\r\nimport pkg from '../../../../package.json';\r\nimport { RadarScroll, Table, Td, Th, Tr } from '../styles';\r\nimport getLevel from '../utils/getLevel';\r\n\r\nconst themeColor = pkg.theme['brand-primary'];\r\n\r\nconst Radar: React.FC = () => {\r\n  const { data: findAiData } = useQuery(FIND_AI);\r\n  const { findAi } = findAiData || {};\r\n\r\n  useEffect(() => {\r\n    const { myPoint } = findAi || {};\r\n    if (myPoint) {\r\n      const myPointData = { ...myPoint };\r\n      delete myPointData.__typename;\r\n      console.log('myPointData++++', myPointData);\r\n\r\n      const data = Object.keys(myPointData).map((item) => {\r\n        return {\r\n          item,\r\n          score: getLevel(myPointData[item as keyof typeof myPointData], item),\r\n        };\r\n      });\r\n      // const data = [\r\n      //   {\r\n      //     item: '英语',\r\n      //     score: 'S',\r\n      //   },\r\n      //   {\r\n      //     item: '日语',\r\n      //     score: 'A',\r\n      //   },\r\n      //   {\r\n      //     item: '数学',\r\n      //     score: 'B',\r\n      //   },\r\n      //   {\r\n      //     item: '物理',\r\n      //     score: 'C',\r\n      //   },\r\n      //   {\r\n      //     item: '化学',\r\n      //     score: 'B',\r\n      //   },\r\n      // ];\r\n      const { width } = window.screen;\r\n      const chart = new F2.Chart<typeof data[0]>({\r\n        id: 'radarChart',\r\n        pixelRatio: window.devicePixelRatio,\r\n        padding: 'auto',\r\n        width,\r\n        height: width * 0.8,\r\n      });\r\n\r\n      chart.coord('polar');\r\n      chart.source(data, {\r\n        score: {\r\n          type: 'cat',\r\n          values: ['D', 'C', 'B', 'A', 'S'],\r\n        },\r\n      });\r\n\r\n      chart.axis('score', {\r\n        label: (text, index, total) => {\r\n          return { top: true, text };\r\n        },\r\n        grid: (text) => {\r\n          return { top: true, text };\r\n        },\r\n        line: {\r\n          top: false,\r\n        },\r\n      });\r\n      chart.axis('item', {\r\n        label: (text, index, total) => {\r\n          return { top: true, text };\r\n        },\r\n      });\r\n      chart\r\n        .area()\r\n        .position('item*score')\r\n        .color(`${themeColor}`)\r\n        .animate({\r\n          appear: {\r\n            animation: 'groupWaveIn',\r\n          },\r\n        });\r\n      chart\r\n        .line()\r\n        .position('item*score')\r\n        .color(`${themeColor}`)\r\n        .animate({\r\n          appear: {\r\n            animation: 'groupWaveIn',\r\n          },\r\n        });\r\n      chart\r\n        .point()\r\n        .position('item*score')\r\n        .color(`${themeColor}`)\r\n        .style({\r\n          stroke: '#fff',\r\n          lineWidth: 1,\r\n        })\r\n        .animate({\r\n          appear: {\r\n            delay: 300,\r\n          },\r\n        });\r\n      chart.legend({\r\n        custom: true,\r\n        items: [\r\n          {\r\n            name: '能力现状',\r\n            marker: 'circle',\r\n            fill: themeColor,\r\n          },\r\n        ],\r\n      });\r\n      chart.render();\r\n    }\r\n  }, [findAi]);\r\n\r\n  const getTabelData = (): ReactElement => {\r\n    const { myPoint } = findAi || {};\r\n    const myPointData = { ...myPoint };\r\n    delete myPointData.__typename;\r\n    const tableListData: ReactElement[] = [];\r\n    Object.keys(myPointData).forEach((item) => {\r\n      let point = 0;\r\n      if (item === 'english') {\r\n        point = myPointData[item as keyof typeof myPointData].toefl;\r\n      } else {\r\n        point = myPointData[item as keyof typeof myPointData];\r\n      }\r\n      tableListData.push(\r\n        <Tr>\r\n          <Td>{item}</Td>\r\n          <Td>{point}</Td>\r\n          <Td>{getLevel(point, item)}</Td>\r\n        </Tr>\r\n      );\r\n    });\r\n    return (\r\n      <Table>\r\n        <Tr>\r\n          <Th>科目</Th>\r\n          <Th>预测分数</Th>\r\n          <Th>评级</Th>\r\n        </Tr>\r\n        {tableListData}\r\n      </Table>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <RadarScroll>\r\n      <canvas id=\"radarChart\" width=\"300\" height=\"300\" />\r\n      <WingBlank size=\"lg\">\r\n        <WhiteSpace size=\"lg\" />\r\n        <Card>\r\n          <Card.Header title=\"数据明细\" />\r\n          <Card.Body>{getTabelData()}</Card.Body>\r\n        </Card>\r\n        <WhiteSpace size=\"lg\" />\r\n      </WingBlank>\r\n      <BottomBlank />\r\n    </RadarScroll>\r\n  );\r\n};\r\n\r\nexport default Radar;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport F2 from '@antv/f2';\r\nimport PickItem from '@/components/PickItem';\r\nimport { Picker } from 'antd-mobile';\r\nimport { FIND_VALUE } from '@/helpers/APIHelper';\r\nimport { useQuery } from '@apollo/client';\r\nimport { SelectBox, SelectBoxItem } from '../styles';\r\n\r\n// interface SubjectParsingItem {\r\n//   chemistry: { [key: string]: number };\r\n//   math: { [key: string]: number };\r\n//   physicals: { [key: string]: number };\r\n// }\r\n// interface SubjectParsingProps {\r\n//   userInfo?: SubjectParsingItem;\r\n//   generalInfo?: {\r\n//     average?: SubjectParsingItem;\r\n//     top: SubjectParsingItem;\r\n//   };\r\n// }\r\n\r\ninterface SelectData {\r\n  value: string;\r\n  label: string;\r\n}\r\nconst SubjectParsing: React.FC = () => {\r\n  const [pointsData, setPointData] = useState<SelectData[]>([]);\r\n  const [pointsValue, setPointValue] = useState<string[]>(['Calculus']);\r\n  const [subjectData, setSubjectData] = useState<SelectData[]>([]);\r\n  const [subjectvalue, setSubjectValue] = useState<string[]>(['math']);\r\n  const { data: findValueData } = useQuery(FIND_VALUE);\r\n  const chartRef = useRef<any>();\r\n  // 选择学科\r\n  const handleSubjectChange = (value: string[]): void => {\r\n    setSubjectValue(value);\r\n    const findValueInfo = findValueData?.findValue || {};\r\n    const { userInfo = {} } = findValueInfo || {};\r\n\r\n    const pointsItems = userInfo[value[0]];\r\n    const subArr = getPickData(pointsItems);\r\n    setPointData(subArr);\r\n    setPointValue([]);\r\n  };\r\n  // 变换知识点\r\n  const handlePointsChange = (value: string[]): void => {\r\n    setPointValue(value);\r\n  };\r\n  // 获取下拉框的选项\r\n  const getPickData = (data: { [key: string]: string }): SelectData[] => {\r\n    const dataArr = [] as SelectData[];\r\n    data &&\r\n      Object.keys(data).forEach((item) => {\r\n        if (item !== '__typename') {\r\n          dataArr.push({\r\n            value: item,\r\n            label: item,\r\n          });\r\n        }\r\n      });\r\n    return dataArr;\r\n  };\r\n  useEffect(() => {\r\n    const findValueInfo = findValueData?.findValue || {};\r\n    const { userInfo = {} } = findValueInfo;\r\n    console.log('findValueInfo++++', findValueInfo);\r\n    // 初始化学科数据\r\n    const subArr = getPickData(userInfo);\r\n    setSubjectData(subArr);\r\n    // 初始化知识点数据\r\n    const pointsArr = getPickData(userInfo[subjectvalue[0]]);\r\n    setPointData(pointsArr);\r\n  }, [findValueData?.findValue, subjectvalue]);\r\n\r\n  // 展示图表\r\n  const showParsing = (data: { genre: string; percent: number }[]): void => {\r\n    const { width } = window.screen;\r\n    const chart = new F2.Chart<typeof data[0]>({\r\n      id: 'columnarChart',\r\n      pixelRatio: window.devicePixelRatio,\r\n      padding: 'auto',\r\n      width,\r\n      height: width * 0.8,\r\n      appendPadding: [15, 15, 15, 20],\r\n    });\r\n    chartRef.current = chart;\r\n    chart.source(data, {\r\n      percent: {\r\n        type: 'linear',\r\n        alias: '平均正确率(%)',\r\n        min: 0,\r\n        max: 100,\r\n        tickCount: 6,\r\n      },\r\n    });\r\n\r\n    chart.interval().position('genre*percent').color('genre');\r\n    chart.legend({\r\n      align: 'right',\r\n      itemWidth: null,\r\n    });\r\n    chart.guide().text({\r\n      position: ['min', 'max'],\r\n      content: '平均正确率(%)',\r\n      style: {\r\n        textBaseline: 'middle',\r\n      },\r\n      offsetY: -35,\r\n    });\r\n    chart.render();\r\n    const offset = -5;\r\n    const canvas = chart.get('canvas');\r\n    const group = canvas.addGroup();\r\n    data.forEach((obj) => {\r\n      const point = chart.getPosition(obj);\r\n      group.addShape('text', {\r\n        attrs: {\r\n          x: point.x,\r\n          y: point.y + offset,\r\n          text: `${obj.percent}%`,\r\n          textAlign: 'center',\r\n          textBaseline: 'bottom',\r\n          fill: '#808080',\r\n        },\r\n      });\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const findValueInfo = findValueData?.findValue || {};\r\n    const user = findValueInfo?.userInfo?.[subjectvalue[0]]?.[pointsValue[0]];\r\n    const average =\r\n      findValueInfo?.generalInfo?.average?.[subjectvalue[0]]?.[pointsValue[0]];\r\n    const top =\r\n      findValueInfo?.generalInfo?.top?.[subjectvalue[0]]?.[pointsValue[0]];\r\n    const data = [\r\n      { genre: '我', percent: user },\r\n      { genre: '本季平均', percent: average },\r\n      { genre: '前10%考生', percent: top },\r\n    ];\r\n    if (findValueInfo?.userInfo && subjectvalue[0] && pointsValue[0]) {\r\n      showParsing(data);\r\n    }\r\n  }, [findValueData?.findValue, pointsValue, subjectvalue]);\r\n  return (\r\n    <>\r\n      <SelectBox>\r\n        <SelectBoxItem>\r\n          <Picker data={subjectData} cols={1} onOk={handleSubjectChange}>\r\n            <PickItem placeholder=\"请选择科目\" value={subjectvalue[0] || ''} />\r\n          </Picker>\r\n        </SelectBoxItem>\r\n        <SelectBoxItem>\r\n          <Picker data={pointsData} cols={1} onOk={handlePointsChange}>\r\n            <PickItem placeholder=\"请选择知识点\" value={pointsValue[0] || ''} />\r\n          </Picker>\r\n        </SelectBoxItem>\r\n      </SelectBox>\r\n      <canvas id=\"columnarChart\" />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SubjectParsing;\r\n","import React from 'react';\r\nimport { Tabs } from 'antd-mobile';\r\nimport Radar from './Radar';\r\nimport SubjectParsing from './SubjectParsing';\r\n\r\nconst Strength: React.FC = () => {\r\n  return (\r\n    <>\r\n      <Tabs\r\n        tabs={[\r\n          { title: '综合雷达图', sub: '1' },\r\n          { title: '学科/知识点能力分析', sub: '2' },\r\n        ]}\r\n      >\r\n        <Radar />\r\n        <SubjectParsing />\r\n      </Tabs>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Strength;\r\n","import React, { ReactElement, useEffect, useState } from 'react';\r\nimport F2 from '@antv/f2';\r\nimport { Card, Picker, WhiteSpace, WingBlank } from 'antd-mobile';\r\nimport PickItem from '@/components/PickItem';\r\nimport { ejuSubject, schoolEnum, goalSchool } from '@/constants/globalDatas';\r\nimport { BottomBlank } from '@/components/TabBar/styles';\r\nimport { useQuery } from '@apollo/client';\r\nimport { FIND_AI } from '@/helpers/APIHelper';\r\nimport pkg from '../../../../package.json';\r\nimport {\r\n  PredictBox,\r\n  PredictBoxButton,\r\n  PredictBoxFont,\r\n  PredictScroll,\r\n  PredictSelect,\r\n  Table,\r\n  Td,\r\n  Th,\r\n  Tr,\r\n} from '../styles';\r\nimport getLevel from '../utils/getLevel';\r\n\r\nconst themeColor = pkg.theme['brand-primary'];\r\n\r\nconst Predict: React.FC = () => {\r\n  const { data: findAiData } = useQuery(FIND_AI);\r\n\r\n  const [school, setSchool] = useState('');\r\n\r\n  const { findAi } = findAiData || {};\r\n\r\n  useEffect(() => {\r\n    const { myPoint, recommendPoint } = findAi || {};\r\n    if (myPoint || recommendPoint) {\r\n      const myPointData = { ...myPoint };\r\n      delete myPointData.__typename;\r\n      const recommendPointData = { ...recommendPoint };\r\n      delete recommendPointData.__typename;\r\n      const data: { [key: string]: string }[] = [];\r\n      Object.keys(myPointData).forEach((item) => {\r\n        data.push({\r\n          item,\r\n          type: 'my',\r\n          score: getLevel(\r\n            item === 'english' ? myPointData[item].toefl : myPointData[item],\r\n            item\r\n          ),\r\n        });\r\n      });\r\n      Object.keys(recommendPointData).forEach((item) => {\r\n        data.push({\r\n          item,\r\n          type: 'you',\r\n          score: getLevel(\r\n            item === 'english'\r\n              ? recommendPointData[item].toefl\r\n              : recommendPointData[item],\r\n            item\r\n          ),\r\n        });\r\n      });\r\n      console.log('recommendPointData++++', data);\r\n      // const data = [\r\n      //   {\r\n      //     item: '英语',\r\n      //     type: 'my',\r\n      //     score: 'S',\r\n      //   },\r\n      //   {\r\n      //     item: '日语',\r\n      //     type: 'my',\r\n      //     score: 'A+',\r\n      //   },\r\n      //   {\r\n      //     item: '数学',\r\n      //     type: 'my',\r\n      //     score: 'B+',\r\n      //   },\r\n      //   {\r\n      //     item: '物理',\r\n      //     type: 'my',\r\n      //     score: 'C+',\r\n      //   },\r\n      //   {\r\n      //     item: '化学',\r\n      //     type: 'my',\r\n      //     score: 'A-',\r\n      //   },\r\n      //   {\r\n      //     item: '英语',\r\n      //     type: 'you',\r\n      //     score: 'B+',\r\n      //   },\r\n      //   {\r\n      //     item: '日语',\r\n      //     type: 'you',\r\n      //     score: 'C-',\r\n      //   },\r\n      //   {\r\n      //     item: '数学',\r\n      //     type: 'you',\r\n      //     score: 'A+',\r\n      //   },\r\n      //   {\r\n      //     item: '物理',\r\n      //     type: 'you',\r\n      //     score: 'A+',\r\n      //   },\r\n      //   {\r\n      //     item: '化学',\r\n      //     type: 'you',\r\n      //     score: 'B-',\r\n      //   },\r\n      // ];\r\n      const { width } = window.screen;\r\n      const chart = new F2.Chart<typeof data[0]>({\r\n        id: 'predictChart',\r\n        pixelRatio: window.devicePixelRatio,\r\n        padding: 30,\r\n        width,\r\n        height: width * 0.8,\r\n        appendPadding: [15, 15, 15, 20],\r\n      });\r\n\r\n      chart.coord('polar');\r\n      chart.source(data, {\r\n        score: {\r\n          type: 'cat',\r\n          values: ['D', 'C', 'B', 'A', 'S'],\r\n        },\r\n      });\r\n\r\n      chart.axis('score', {\r\n        label: (text, index, total) => {\r\n          console.log('label++++++', text, index, total);\r\n          return { top: true, text };\r\n        },\r\n        grid: (text) => {\r\n          console.log(text);\r\n          return { top: true, text };\r\n        },\r\n        line: {\r\n          top: false,\r\n        },\r\n      });\r\n      chart.axis('item', {\r\n        label: (text, index, total) => {\r\n          console.log('label++++++', text, index, total);\r\n          return { top: true, text };\r\n        },\r\n      });\r\n      chart\r\n        .area()\r\n        .position('item*score')\r\n        .color('type', (type) => {\r\n          console.log(type);\r\n          if (type === 'my') {\r\n            return themeColor;\r\n          }\r\n          return '#BFBFBF';\r\n        })\r\n        .animate({\r\n          appear: {\r\n            animation: 'groupWaveIn',\r\n          },\r\n        });\r\n      chart\r\n        .line()\r\n        .position('item*score')\r\n        .color('type', (type) => {\r\n          console.log(type);\r\n          if (type === 'my') {\r\n            return themeColor;\r\n          }\r\n          return '#BFBFBF';\r\n        })\r\n        .animate({\r\n          appear: {\r\n            animation: 'groupWaveIn',\r\n          },\r\n        });\r\n      chart\r\n        .point()\r\n        .position('item*score')\r\n        .color('type', (type) => {\r\n          console.log(type);\r\n          if (type === 'my') {\r\n            return themeColor;\r\n          }\r\n          return '#BFBFBF';\r\n        })\r\n        .style({\r\n          stroke: '#fff',\r\n          lineWidth: 1,\r\n        })\r\n        .animate({\r\n          appear: {\r\n            delay: 300,\r\n          },\r\n        });\r\n      chart.legend({\r\n        custom: true,\r\n        verticalAlign: 'top',\r\n        position: 'left',\r\n        items: [\r\n          {\r\n            name: '能力现状',\r\n            marker: 'circle',\r\n            fill: themeColor,\r\n          },\r\n          {\r\n            name: '能力目标',\r\n            marker: 'circle',\r\n            fill: '#BFBFBF',\r\n          },\r\n        ],\r\n      });\r\n      chart.render();\r\n    }\r\n  }, [findAi]);\r\n  const getTabelData = (): ReactElement => {\r\n    const { myPoint, recommendPoint } = findAi || {};\r\n    const myPointData = { ...myPoint };\r\n    delete myPointData.__typename;\r\n    const recommendPointData = { ...recommendPoint };\r\n    delete recommendPointData.__typename;\r\n    const tableListData: ReactElement[] = [];\r\n    const sourceData = {} as {\r\n      [key: string]: {\r\n        point?: number;\r\n        level?: string;\r\n        goalPoint?: number;\r\n        goalLevel?: string;\r\n      };\r\n    };\r\n    Object.keys(myPointData).forEach((item) => {\r\n      if (!sourceData[item]) {\r\n        sourceData[item] = {};\r\n      }\r\n      let point = 0;\r\n      if (item === 'english') {\r\n        point = myPointData[item as keyof typeof myPointData].toefl;\r\n      } else {\r\n        point = myPointData[item as keyof typeof myPointData];\r\n      }\r\n      sourceData[item].point = point;\r\n      sourceData[item].level = getLevel(point, item);\r\n    });\r\n    Object.keys(recommendPointData).forEach((item) => {\r\n      let point = 0;\r\n      if (item === 'english') {\r\n        point =\r\n          recommendPointData[item as keyof typeof recommendPointData].toefl;\r\n      } else {\r\n        point = recommendPointData[item as keyof typeof recommendPointData];\r\n      }\r\n      sourceData[item].goalPoint = point;\r\n      sourceData[item].goalLevel = getLevel(point, item);\r\n    });\r\n    Object.keys(sourceData).forEach((item) => {\r\n      const itemData = sourceData[item];\r\n      const { point, level, goalPoint, goalLevel } = itemData;\r\n      tableListData.push(\r\n        <Tr>\r\n          <Td>{item}</Td>\r\n          <Td>{point}</Td>\r\n          <Td>{goalPoint}</Td>\r\n          <Td>{level}</Td>\r\n          <Td>{goalLevel}</Td>\r\n        </Tr>\r\n      );\r\n    });\r\n    return (\r\n      <Table>\r\n        <Tr>\r\n          <Th>科目</Th>\r\n          <Th>预测分数</Th>\r\n          <Th>目标分数</Th>\r\n          <Th>评级</Th>\r\n          <Th>目标评级</Th>\r\n        </Tr>\r\n        {tableListData}\r\n      </Table>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <PredictScroll>\r\n      <PredictSelect>\r\n        <WhiteSpace size=\"lg\" />\r\n        <Picker\r\n          data={goalSchool}\r\n          cols={1}\r\n          onOk={(value): void => setSchool(value)}\r\n        >\r\n          <PickItem\r\n            placeholder=\"院校\"\r\n            value={schoolEnum[Number(school[0]) as keyof typeof schoolEnum]}\r\n          />\r\n        </Picker>\r\n\r\n        <Picker data={ejuSubject} cols={1}>\r\n          <PickItem placeholder=\"专业\" />\r\n        </Picker>\r\n      </PredictSelect>\r\n\r\n      <PredictBox>\r\n        <PredictBoxFont>合格概率：较小（67%）</PredictBoxFont>\r\n        <PredictBoxButton>点击预测</PredictBoxButton>\r\n      </PredictBox>\r\n      <canvas id=\"predictChart\" width=\"300\" height=\"300\" />\r\n      <WingBlank size=\"lg\">\r\n        <WhiteSpace size=\"lg\" />\r\n        <Card>\r\n          <Card.Header title=\"数据明细\" />\r\n          <Card.Body>{getTabelData()}</Card.Body>\r\n        </Card>\r\n        <WhiteSpace size=\"lg\" />\r\n      </WingBlank>\r\n      <BottomBlank />\r\n    </PredictScroll>\r\n  );\r\n};\r\n\r\nexport default Predict;\r\n","import React, { ReactNode, useCallback, useState } from 'react';\r\nimport { USER_SHOW } from '@/helpers/APIHelper';\r\nimport { useQuery } from '@apollo/client';\r\nimport Ladder from './Ladder';\r\nimport Strength from './Strength';\r\nimport Predict from './Predict';\r\nimport {\r\n  IconStar,\r\n  InfoBox,\r\n  InfoItem,\r\n  InfoLi,\r\n  Page,\r\n  TabBox,\r\n  TabItem,\r\n} from './styles';\r\n\r\nconst Find: React.FC = () => {\r\n  const { data = {} } = useQuery(USER_SHOW);\r\n\r\n  const [tabType, setTabType] = useState('strength'); // tab标签类型\r\n  const [rankNum, setRankNum] = useState(0); // 设置排名\r\n  const [rankPoints, setRankPoints] = useState(0); // 总分数\r\n  // 切换tab标签\r\n  const handleTabChange = (type: string): void => {\r\n    setTabType(type);\r\n  };\r\n  // 获取返回的标签内容\r\n  const getTabContent = useCallback((): ReactNode => {\r\n    let ele = null;\r\n    switch (tabType) {\r\n      case 'strength':\r\n        ele = <Strength />;\r\n        break;\r\n      case 'ladder':\r\n        ele = <Ladder handleRankInfo={setRankInfo} />;\r\n        break;\r\n      case 'predict':\r\n        ele = <Predict />;\r\n        break;\r\n      default:\r\n    }\r\n    return ele;\r\n  }, [tabType]);\r\n  // 设置排行榜信息\r\n  const setRankInfo = (info: { num: number; points: number }): void => {\r\n    const { num, points } = info;\r\n    setRankNum(num);\r\n    setRankPoints(points);\r\n  };\r\n  const { nickName } = data?.userShow || {};\r\n\r\n  return (\r\n    <Page>\r\n      <TabBox>\r\n        <TabItem\r\n          className={tabType === 'strength' ? 'active' : ''}\r\n          onClick={(): void => handleTabChange('strength')}\r\n        >\r\n          实力评估\r\n        </TabItem>\r\n        <TabItem\r\n          className={tabType === 'ladder' ? 'active' : ''}\r\n          onClick={(): void => handleTabChange('ladder')}\r\n        >\r\n          排行天梯\r\n        </TabItem>\r\n        <TabItem\r\n          className={tabType === 'predict' ? 'active' : ''}\r\n          onClick={(): void => handleTabChange('predict')}\r\n        >\r\n          智能预测\r\n        </TabItem>\r\n      </TabBox>\r\n      <InfoBox>\r\n        <InfoLi>\r\n          <InfoItem>昵称：{nickName}</InfoItem>\r\n          {tabType === 'ladder' ? (\r\n            <InfoItem>本季综合排名</InfoItem>\r\n          ) : (\r\n            <InfoItem>平均菓星值</InfoItem>\r\n          )}\r\n        </InfoLi>\r\n        <InfoLi>\r\n          {tabType === 'ladder' ? (\r\n            <>\r\n              <InfoItem>总分：{rankPoints}</InfoItem>\r\n              <InfoItem>{rankNum}</InfoItem>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <InfoItem>评级：青铜</InfoItem>\r\n              <InfoItem>\r\n                <IconStar className=\"active\" />\r\n                <IconStar className=\"active\" />\r\n                <IconStar className=\"active\" />\r\n                <IconStar />\r\n                <IconStar />\r\n              </InfoItem>\r\n            </>\r\n          )}\r\n        </InfoLi>\r\n      </InfoBox>\r\n      <>{getTabContent()}</>\r\n    </Page>\r\n  );\r\n};\r\n\r\nexport default Find;\r\n","import styled from 'styled-px2vw';\r\nimport bg from './images/bg.png';\r\nimport pkg from '../../../package.json';\r\n\r\nconst themeColor = pkg.theme['brand-primary'];\r\n\r\nexport const PersonBg = styled.div`\r\n  height: 312px;\r\n  position: relative;\r\n`;\r\nexport const PersonInner = styled.div`\r\n  position: absolute;\r\n  z-index: 2;\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\nexport const PersonBgInner = styled(PersonInner)`\r\n  z-index: 1;\r\n  overflow: hidden;\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    background: url(${bg}) no-repeat center;\r\n    filter: blur(10px);\r\n    background-size: cover;\r\n    width: 115%;\r\n    height: 115%;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n  }\r\n`;\r\nexport const AvatarBox = styled.div`\r\n  width: 220px;\r\n  height: 220px;\r\n  border-radius: 50%;\r\n  background-color: #fff;\r\n  padding: 12px;\r\n  position: absolute;\r\n  left: 42px;\r\n  bottom: -14px;\r\n  box-shadow: 0px 4px 20px rgba(101, 101, 101, 0.15);\r\n`;\r\nexport const Avatar = styled.img`\r\n  width: 100%;\r\n  height: 100%;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  object-position: center;\r\n`;\r\n\r\nexport const NickBox = styled.div`\r\n  width: 375px;\r\n  height: 206px;\r\n  position: absolute;\r\n  right: 0;\r\n  bottom: 0;\r\n  color: #fff;\r\n`;\r\n\r\nexport const NickName = styled.div`\r\n  font-weight: bold;\r\n  font-size: 38px;\r\n`;\r\nexport const Sign = styled.div`\r\n  font-size: 22px;\r\n  margin-top: 70px;\r\n`;\r\n\r\nexport const FucList = styled.div`\r\n  height: 366px;\r\n  background: #f5f5f5;\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  overflow: auto;\r\n`;\r\n\r\nexport const FucListItem = styled.div`\r\n  width: 284px;\r\n  height: 234px;\r\n  background: #fff;\r\n  filter: drop-shadow(4px 5px 10px rgba(0, 0, 0, 0.05));\r\n  border-radius: 20px;\r\n  margin-left: 32px;\r\n  flex-shrink: 0;\r\n  &:last-child {\r\n    margin-right: 32px;\r\n  }\r\n`;\r\n\r\nexport const FucListItemTop = styled.div`\r\n  height: 134px;\r\n  background: url(${bg}) no-repeat center;\r\n  background-size: cover;\r\n  border-top-left-radius: 20px;\r\n  border-top-right-radius: 20px;\r\n`;\r\nexport const FucListItemBottom = styled.div`\r\n  height: 100px;\r\n  font-size: 32px;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  line-height: 100px;\r\n`;\r\n\r\nexport const MenuBox = styled.div`\r\n  padding-top: 60px;\r\n`;\r\n\r\nexport const MenuItem = styled.div`\r\n  padding: 0 46px;\r\n  display: flex;\r\n  align-items: center;\r\n  height: 96px;\r\n  margin-bottom: 36px;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport const MenuLabel = styled.div`\r\n  display: inline-flex;\r\n  font-weight: bold;\r\n  font-size: 32px;\r\n  align-items: center;\r\n`;\r\n\r\nexport const MenuIcon = styled.img`\r\n  width: 40px;\r\n  height: 40px;\r\n  margin-right: 90px;\r\n`;\r\n\r\nexport const MsgNum = styled.div`\r\n  width: 48px;\r\n  height: 48px;\r\n  border-radius: 6px;\r\n  background: ${themeColor};\r\n  font-weight: 500;\r\n  font-size: 14px;\r\n  font-size: 28px;\r\n  line-height: 48px;\r\n  text-align: center;\r\n  color: #fff;\r\n`;\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useQuery } from '@apollo/client';\r\nimport { USER_SHOW } from '@/helpers/APIHelper';\r\nimport {\r\n  PersonBg,\r\n  AvatarBox,\r\n  PersonInner,\r\n  Avatar,\r\n  PersonBgInner,\r\n  NickBox,\r\n  NickName,\r\n  Sign,\r\n  FucList,\r\n  FucListItem,\r\n  FucListItemTop,\r\n  FucListItemBottom,\r\n  MenuBox,\r\n  MenuItem,\r\n  MenuLabel,\r\n  MenuIcon,\r\n  MsgNum,\r\n} from './styles';\r\nimport iconPersonal from './images/icon-personal.svg';\r\nimport iconMsg from './images/icon-msg.svg';\r\nimport iconSetting from './images/icon-setting.svg';\r\n\r\nconst UserCenter: React.FC = () => {\r\n  const { data = {} } = useQuery(USER_SHOW);\r\n  console.log(data);\r\n  const history = useHistory();\r\n  const { nickName, signature, avatar, userMessages } = data?.getUserInfo || {};\r\n  // 操作菜单\r\n  const handleMenu = (type: string): void => {\r\n    switch (type) {\r\n      case 'msg':\r\n        history.push('/msg');\r\n        break;\r\n      case 'personal':\r\n        history.push('/complete-all');\r\n        break;\r\n      case 'setting':\r\n        history.push('/setting');\r\n        break;\r\n      default:\r\n    }\r\n  };\r\n  // 获取未读消息数\r\n  const getMessageNum = (): number => {\r\n    let num = 0;\r\n    userMessages?.forEach((item: { isRead: boolean }) => {\r\n      if (!item.isRead) {\r\n        num += 1;\r\n      }\r\n    });\r\n    return num;\r\n  };\r\n  return (\r\n    <>\r\n      <PersonBg>\r\n        <PersonBgInner />\r\n        <PersonInner>\r\n          <AvatarBox>\r\n            <Avatar src={avatar} />\r\n          </AvatarBox>\r\n          <NickBox>\r\n            <NickName>{nickName}</NickName>\r\n            <Sign>{signature}</Sign>\r\n          </NickBox>\r\n        </PersonInner>\r\n      </PersonBg>\r\n      <FucList>\r\n        <FucListItem>\r\n          <FucListItemTop />\r\n          <FucListItemBottom>练习记录</FucListItemBottom>\r\n        </FucListItem>\r\n        <FucListItem>\r\n          <FucListItemTop />\r\n          <FucListItemBottom>练习记录</FucListItemBottom>\r\n        </FucListItem>\r\n        <FucListItem>\r\n          <FucListItemTop />\r\n          <FucListItemBottom>练习记录</FucListItemBottom>\r\n        </FucListItem>\r\n        <FucListItem>\r\n          <FucListItemTop />\r\n          <FucListItemBottom>练习记录</FucListItemBottom>\r\n        </FucListItem>\r\n      </FucList>\r\n      <MenuBox>\r\n        <MenuItem onClick={(): void => handleMenu('personal')}>\r\n          <MenuLabel>\r\n            <MenuIcon src={iconPersonal} />\r\n            个人信息\r\n          </MenuLabel>\r\n        </MenuItem>\r\n        <MenuItem onClick={(): void => handleMenu('msg')}>\r\n          <MenuLabel>\r\n            <MenuIcon src={iconMsg} />\r\n            消息中心\r\n          </MenuLabel>\r\n          <MsgNum>{getMessageNum()}</MsgNum>\r\n        </MenuItem>\r\n        <MenuItem onClick={(): void => handleMenu('setting')}>\r\n          <MenuLabel>\r\n            <MenuIcon src={iconSetting} />\r\n            通用设定\r\n          </MenuLabel>\r\n        </MenuItem>\r\n      </MenuBox>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserCenter;\r\n","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik02Ljg4IDcuOTRMNy45NCA5TDkgNy45NEw2Ljg4IDUuODJMNC43NiA3Ljk0TDUuODIgOUw2Ljg4IDcuOTRaTTEwIDE1LjVDMTIuMzMgMTUuNSAxNC4zMSAxNC4wNCAxNS4xMSAxMkg0Ljg5QzUuNjkgMTQuMDQgNy42NyAxNS41IDEwIDE1LjVaTTExIDcuOTRMMTIuMDYgOUwxMy4xMiA3Ljk0TDE0LjE4IDlMMTUuMjQgNy45NEwxMy4xMiA1LjgyTDExIDcuOTRaTTkuOTkgMEM0LjQ3IDAgMCA0LjQ3IDAgMTBDMCAxNS41MyA0LjQ3IDIwIDkuOTkgMjBDMTUuNTEgMjAgMjAgMTUuNTMgMjAgMTBDMjAgNC40NyAxNS41MiAwIDkuOTkgMFpNMTAgMThDNS41OCAxOCAyIDE0LjQyIDIgMTBDMiA1LjU4IDUuNTggMiAxMCAyQzE0LjQyIDIgMTggNS41OCAxOCAxMEMxOCAxNC40MiAxNC40MiAxOCAxMCAxOFoiIGZpbGw9IiNCRkJGQkYiLz4NCjwvc3ZnPg0K\"","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAxNiAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik04IDIwQzkuMSAyMCAxMCAxOS4xIDEwIDE4SDZDNiAxOS4xIDYuODkgMjAgOCAyMFpNMTQgMTRWOUMxNCA1LjkzIDEyLjM2IDMuMzYgOS41IDIuNjhWMC41SDYuNVYyLjY4QzMuNjMgMy4zNiAyIDUuOTIgMiA5VjE0TDAgMTZWMTdIMTZWMTZMMTQgMTRaIiBmaWxsPSIjQkZCRkJGIi8+DQo8L3N2Zz4NCg==\"","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0yMCA4LjY4OTk0VjMuOTk5OTRIMTUuMzFMMTIgMC42ODk5NDFMOC42OSAzLjk5OTk0SDRWOC42ODk5NEwwLjY5MDAwMiAxMS45OTk5TDQgMTUuMzA5OVYxOS45OTk5SDguNjlMMTIgMjMuMzA5OUwxNS4zMSAxOS45OTk5SDIwVjE1LjMwOTlMMjMuMzEgMTEuOTk5OUwyMCA4LjY4OTk0Wk0xMiAxNy45OTk5QzguNjkgMTcuOTk5OSA2IDE1LjMwOTkgNiAxMS45OTk5QzYgOC42ODk5NCA4LjY5IDUuOTk5OTQgMTIgNS45OTk5NEMxNS4zMSA1Ljk5OTk0IDE4IDguNjg5OTQgMTggMTEuOTk5OUMxOCAxNS4zMDk5IDE1LjMxIDE3Ljk5OTkgMTIgMTcuOTk5OVpNMTIgNy45OTk5NEM5Ljc5IDcuOTk5OTQgOCA5Ljc4OTk0IDggMTEuOTk5OUM4IDE0LjIwOTkgOS43OSAxNS45OTk5IDEyIDE1Ljk5OTlDMTQuMjEgMTUuOTk5OSAxNiAxNC4yMDk5IDE2IDExLjk5OTlDMTYgOS43ODk5NCAxNC4yMSA3Ljk5OTk0IDEyIDcuOTk5OTRaIiBmaWxsPSIjQkZCRkJGIi8+DQo8L3N2Zz4NCg==\"","import React, { useCallback, useEffect, useState } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport TabBar from '@/components/TabBar';\nimport Library from '../Library';\nimport Find from '../Find';\nimport UserCenter from '../UserCenter';\n\nconst Home: React.FC = (props) => {\n  const [type, setType] = useState(''); // 设置标签页\n\n  const history = useHistory();\n  const location = useLocation();\n\n  // 初始化页面访问类型\n  useEffect(() => {\n    console.log(location);\n    const { pathname } = location;\n    switch (pathname) {\n      case '/library':\n        setType('library');\n        break;\n      case '/find':\n        setType('find');\n        break;\n      case '/user-center':\n        setType('user-center');\n        break;\n      default:\n    }\n  }, [location]);\n\n  // 点击footer\n  const handleClick = useCallback(\n    (clickType: string): void => {\n      history.push(`/${clickType}`);\n    },\n    [history]\n  );\n  return (\n    <div>\n      {type === 'library' && <Library />}\n      {type === 'find' && <Find />}\n      {type === 'user-center' && <UserCenter />}\n      <TabBar handelClick={handleClick} type={type} />\n    </div>\n  );\n};\n\nexport default Home;\n"],"sourceRoot":""}