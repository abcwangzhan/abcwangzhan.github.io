{"version":3,"sources":["pages/Library/Exam/Result/Result.tsx"],"names":["Result","history","useHistory","useContext","ProviderContext","state","exam","sourceType","date","subject","getUrlParams","points","timeCounter","examEnum","dateToYear","subjectEnum","formatDateTimes","Number","type","inline","onClick","push","go"],"mappings":"oPA4FeA,EAxEU,WACvB,IAAMC,EAAUC,cAIhB,IAHkBC,qBAAWC,KAArBC,OAC4B,IAA5BC,MACqB,IAArBA,MACsC,GAAtCC,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,KAAMC,EAA1B,EAA0BA,QAC1B,EAAgCC,cAAxBC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,YA6BhB,OACE,oCACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KACGC,IAASN,GADZ,4BAGA,kBAAC,IAAD,KACE,kBAAC,IAAD,qBACA,kBAAC,IAAD,KAAcI,IAEhB,kBAAC,IAAD,KACE,kBAAC,IAAD,KACGG,YAAWN,GACXO,IAAYN,GAFf,UAIA,kBAAC,IAAD,qBACMO,YAAgBC,OAAOL,OAKjC,kBAAC,IAAD,KACE,uBACEM,KAAK,UACLC,QAAM,EACNC,QAAS,kBAAYnB,EAAQoB,KAAK,mBAHpC,4BAOA,uBAAQH,KAAK,UAAUC,QAAM,EAACC,QAAS,kBAAYnB,EAAQqB,IAAI,KAA/D","file":"5.bf9ca221.chunk.js","sourcesContent":["// import { letterStr } from '@/constants/globalDatas';\r\nimport { examEnum, subjectEnum } from '@/constants/globalDatas';\r\nimport { ProviderContext } from '@/reducer/context';\r\nimport formatDateTimes from '@/utils/formatDateTimes';\r\nimport getUrlParams from '@/utils/get-url-params';\r\nimport { Button } from 'antd-mobile';\r\nimport React, { useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport {\r\n  ResultBg,\r\n  ResultButtonBox,\r\n  ResultTitle,\r\n  TrueBox,\r\n  TrueDesc,\r\n  TrueDescItem,\r\n  TruePercent,\r\n  TrueTitle,\r\n} from '../../styles';\r\nimport dateToYear from '../../utils/dateToYear';\r\n\r\nconst Result: React.FC = () => {\r\n  const history = useHistory();\r\n  const { state } = useContext(ProviderContext);\r\n  const { exam: examInfo } = state || {};\r\n  const { exam } = examInfo || {};\r\n  const { sourceType, date, subject } = exam || {}; // 考试信息\r\n  const { points, timeCounter } = getUrlParams();\r\n\r\n  // 获取获得得分数\r\n  // const getExamPoint = (): number => {\r\n  //   let point = 0;\r\n  //   examQuestion.forEach((questionItem, questionItemidx) => {\r\n  //     // 遍历有几道题\r\n  //     const { checkAnswers } = questionItem;\r\n  //     const letterTemp = letterStr.split('');\r\n  //     checkAnswers.forEach((answerItem) => {\r\n  //       // 遍历有几个答案项\r\n  //       // 获得当前答案得label\r\n  //       const answerLabel = letterTemp.splice(0, answerItem.length).join('');\r\n  //       const selectQuestion =\r\n  //         examSelectAnswer[\r\n  //           (questionItemidx + 1) as keyof typeof examSelectAnswer\r\n  //         ]; // 获得选择得第几题\r\n  //       const selectAnswer = selectQuestion?.[answerLabel]; // 获得对应选择得答案\r\n  //       answerItem.forEach((preAnswerItem, preAnswerItemIdx) => {\r\n  //         // 遍历每个答案项有并列几个答案\r\n  //         const selectAnswerArr = selectAnswer?.split(''); // 获取选择答案得数组\r\n  //         if (selectAnswerArr?.[preAnswerItemIdx] === preAnswerItem.answer) {\r\n  //           point += preAnswerItem.point;\r\n  //         }\r\n  //       });\r\n  //     });\r\n  //   });\r\n  //   return point;\r\n  // };\r\n  return (\r\n    <>\r\n      <ResultBg>\r\n        <ResultTitle>\r\n          {examEnum[sourceType as keyof typeof examEnum]}模拟报告\r\n        </ResultTitle>\r\n        <TrueBox>\r\n          <TrueTitle>分数</TrueTitle>\r\n          <TruePercent>{points}</TruePercent>\r\n        </TrueBox>\r\n        <TrueDesc>\r\n          <TrueDescItem>\r\n            {dateToYear(date)}\r\n            {subjectEnum[subject as keyof typeof subjectEnum]}卷\r\n          </TrueDescItem>\r\n          <TrueDescItem>\r\n            用时 {formatDateTimes(Number(timeCounter))}\r\n          </TrueDescItem>\r\n        </TrueDesc>\r\n      </ResultBg>\r\n\r\n      <ResultButtonBox>\r\n        <Button\r\n          type=\"primary\"\r\n          inline\r\n          onClick={(): void => history.push('/exam-parsing')}\r\n        >\r\n          查看解析\r\n        </Button>\r\n        <Button type=\"primary\" inline onClick={(): void => history.go(-3)}>\r\n          继续练习\r\n        </Button>\r\n      </ResultButtonBox>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Result;\r\n"],"sourceRoot":""}