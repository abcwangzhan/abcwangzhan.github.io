{"version":3,"sources":["helpers/APIHelper.ts","pages/UserCenter/images/bg.png","pages/Msg/style.ts","pages/Msg/Msg.tsx"],"names":["USER_SHOW","gql","USER_LOGIN","USER_RIGISTER","USER_COMPLETE","CHANGE_PWD","QUERY_INFORMATION","CREAT_FEEDBACK","MsgBox","styled","div","MsgItem","MsgImg","img","MsgInfoBox","MsgInfoTop","MsgTitle","MsgDate","MsgInfoBottom","Msg","data","useQuery","variables","id","useHistory","information","content","date","title","src","iconBg","type","color","size"],"mappings":"wWAGaA,EAAYC,YAAH,8aA2BTC,EAAaD,YAAH,mKASVE,EAAgBF,YAAH,2OAabG,EAAgBH,YAAH,u1BAiCbI,EAAaJ,YAAH,0JASVK,EAAoBL,YAAH,wKAajBM,EAAiBN,YAAH,wS,iCC3GZ,QAA0B,gC,sLCI5BO,EAASC,IAAOC,IAAV,mDAINC,EAAUF,IAAOC,IAAV,0HAMPE,EAASH,IAAOI,IAAV,oFAKNC,EAAaL,IAAOC,IAAV,2FAMVK,EAAaN,IAAOC,IAAV,qKASVM,EAAWP,IAAOC,IAAV,kDAGRO,EAAUR,IAAOC,IAAV,8GAKPQ,EAAgBT,IAAOC,IAAV,sQ,SC+CXS,EAxEO,WACpB,IAAQC,EAASC,YAASf,IAAmB,CAAEgB,UAAW,CAAEC,GAAI,SAAxDH,KAIR,GAHgBI,cAKZJ,EADFK,aAAeC,EADjB,EACiBA,QAASC,EAD1B,EAC0BA,KAAMC,EADhC,EACgCA,MAEhC,OACE,kBAACpB,EAAD,KACE,kBAACG,EAAD,KACE,kBAACC,EAAD,CAAQiB,IAAKC,MACb,kBAAChB,EAAD,KACE,kBAACC,EAAD,KACE,kBAACC,EAAD,KAAWY,GACX,kBAACX,EAAD,KACGU,EACD,uBAAMI,KAAK,QAAQC,MAAM,UAAUC,KAAK,SAG5C,kBAACf,EAAD,KAAgBQ","file":"12.3f5584f3.chunk.js","sourcesContent":["import { gql } from '@apollo/client';\r\n\r\n// 获取用户信息\r\nexport const USER_SHOW = gql`\r\n  query userShow($id: ID!) {\r\n    user_show(_id: $id) {\r\n      user_name\r\n      art_science\r\n      eju_subject\r\n      birthday\r\n      gender\r\n      region\r\n      degree\r\n      japanese_ability {\r\n        certificate\r\n        point\r\n      }\r\n      english_ability {\r\n        certificate\r\n        point\r\n      }\r\n      goal_school\r\n      eju_point {\r\n        subject\r\n        point\r\n      }\r\n    }\r\n  }\r\n`;\r\n// 登录\r\nexport const USER_LOGIN = gql`\r\n  query userLogin($email: String!, $password: String!) {\r\n    user_login(email: $email, password: $password) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n\r\n// 注册\r\nexport const USER_RIGISTER = gql`\r\n  query addUserRegister(\r\n    $email: String!\r\n    $password: String!\r\n    $userName: String!\r\n  ) {\r\n    addUser_register(email: $email, password: $password, user_name: $userName) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n\r\n// 保存用户信息\r\nexport const USER_COMPLETE = gql`\r\n  mutation addUserInfo(\r\n    $artScience: String!\r\n    $ejuSubject: String!\r\n    $birthday: String\r\n    $region: String\r\n    $degree: String\r\n    $japaneseAbilityCertificate: String\r\n    $japaneseAbilityPoint: Int\r\n    $englishAbilityCertificate: String\r\n    $englishAbilityPoint: Int\r\n    $goalSchool: String\r\n    $ejuPoint: Int\r\n  ) {\r\n    addUser_adduserinfo(\r\n      art_science: $artScience\r\n      eju_subject_1: $ejuSubject\r\n      birthday: $birthday\r\n      region: $region\r\n      degree: $degree\r\n      japanese_ability_certificate: $japaneseAbilityCertificate\r\n      japanese_ability_point: $japaneseAbilityPoint\r\n      english_ability_certificate: $englishAbilityCertificate\r\n      english_ability_point: $englishAbilityPoint\r\n      goal_school: $goalSchool\r\n      eju_point: $ejuPoint\r\n    ) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n\r\n// 修改登录密码\r\nexport const CHANGE_PWD = gql`\r\n  mutation changPwd($id: String!, $password: String) {\r\n    changePW(_id: $id, password: $password) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n\r\n// 查询用户消息\r\nexport const QUERY_INFORMATION = gql`\r\n  query getInformation($id: ID!) {\r\n    information(_id: $id) {\r\n      _id\r\n      date\r\n      time\r\n      title\r\n      content\r\n    }\r\n  }\r\n`;\r\n\r\n// 用户反馈\r\nexport const CREAT_FEEDBACK = gql`\r\n  mutation creatFeedback(\r\n    $id: String!\r\n    $fbType: String\r\n    $fbContent: String\r\n    $fbImage: String\r\n  ) {\r\n    createFbEmail(\r\n      _id: $id\r\n      fb_type: $fbType\r\n      fb_content: $fbContent\r\n      fb_image: $fbImage\r\n    ) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n","export default __webpack_public_path__ + \"assets/images/bgaa95a35c.png\";","import styled from 'styled-px2vw';\r\n/**\r\n * 消息列表\r\n */\r\nexport const MsgBox = styled.div`\r\n  padding-left: 32px;\r\n`;\r\n\r\nexport const MsgItem = styled.div`\r\n  height: 175px;\r\n  border-bottom: 1px solid #ccc;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\nexport const MsgImg = styled.img`\r\n  width: 96px;\r\n  height: 96px;\r\n  border-radius: 50%;\r\n`;\r\nexport const MsgInfoBox = styled.div`\r\n  padding-left: 24px;\r\n  padding-right: 32px;\r\n  width: 100%;\r\n`;\r\n\r\nexport const MsgInfoTop = styled.div`\r\n  display: inline-flex;\r\n  justify-content: space-between;\r\n  font-size: 30px;\r\n  width: 100%;\r\n  height: 40px;\r\n  align-items: center;\r\n`;\r\n\r\nexport const MsgTitle = styled.div`\r\n  font-weight: bold;\r\n`;\r\nexport const MsgDate = styled.div`\r\n  color: rgba(60, 60, 67, 0.6);\r\n  display: inline-flex;\r\n  align-items: center;\r\n`;\r\nexport const MsgInfoBottom = styled.div`\r\n  font-size: 26px;\r\n  color: rgba(60, 60, 67, 0.6);\r\n  line-height: 36px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 3;\r\n  -webkit-box-orient: vertical;\r\n  word-break: break-all;\r\n`;\r\n","import React, { useState } from 'react';\r\nimport { Icon } from 'antd-mobile';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useQuery } from '@apollo/client';\r\nimport { QUERY_INFORMATION } from '@/helpers/APIHelper';\r\nimport {\r\n  MsgBox,\r\n  MsgItem,\r\n  MsgImg,\r\n  MsgInfoBox,\r\n  MsgInfoTop,\r\n  MsgTitle,\r\n  MsgDate,\r\n  MsgInfoBottom,\r\n} from './style';\r\nimport iconBg from '../UserCenter/images/bg.png';\r\n\r\nconst Msg: React.FC = () => {\r\n  const { data } = useQuery(QUERY_INFORMATION, { variables: { id: '111' } });\r\n  const history = useHistory();\r\n\r\n  console.log(data);\r\n  const {\r\n    information: { content, date, title },\r\n  } = data;\r\n  return (\r\n    <MsgBox>\r\n      <MsgItem>\r\n        <MsgImg src={iconBg} />\r\n        <MsgInfoBox>\r\n          <MsgInfoTop>\r\n            <MsgTitle>{title}</MsgTitle>\r\n            <MsgDate>\r\n              {date}\r\n              <Icon type=\"right\" color=\"#8A8A8E\" size=\"sm\" />\r\n            </MsgDate>\r\n          </MsgInfoTop>\r\n          <MsgInfoBottom>{content}</MsgInfoBottom>\r\n        </MsgInfoBox>\r\n      </MsgItem>\r\n      {/* <MsgItem>\r\n        <MsgImg src={iconBg} />\r\n        <MsgInfoBox>\r\n          <MsgInfoTop>\r\n            <MsgTitle>消息一</MsgTitle>\r\n            <MsgDate>\r\n              2021/12/01\r\n              <Icon type=\"right\" color=\"#8A8A8E\" size=\"sm\" />\r\n            </MsgDate>\r\n          </MsgInfoTop>\r\n          <MsgInfoBottom>\r\n            XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\n          </MsgInfoBottom>\r\n        </MsgInfoBox>\r\n      </MsgItem>\r\n      <MsgItem>\r\n        <MsgImg src={iconBg} />\r\n        <MsgInfoBox>\r\n          <MsgInfoTop>\r\n            <MsgTitle>消息一</MsgTitle>\r\n            <MsgDate>\r\n              2021/12/01\r\n              <Icon type=\"right\" color=\"#8A8A8E\" size=\"sm\" />\r\n            </MsgDate>\r\n          </MsgInfoTop>\r\n          <MsgInfoBottom>\r\n            XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\n          </MsgInfoBottom>\r\n        </MsgInfoBox>\r\n      </MsgItem>\r\n      <MsgItem>\r\n        <MsgImg src={iconBg} />\r\n        <MsgInfoBox>\r\n          <MsgInfoTop>\r\n            <MsgTitle>消息一</MsgTitle>\r\n            <MsgDate>\r\n              2021/12/01\r\n              <Icon type=\"right\" color=\"#8A8A8E\" size=\"sm\" />\r\n            </MsgDate>\r\n          </MsgInfoTop>\r\n          <MsgInfoBottom>\r\n            XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\n          </MsgInfoBottom>\r\n        </MsgInfoBox>\r\n      </MsgItem> */}\r\n    </MsgBox>\r\n  );\r\n};\r\n\r\nexport default Msg;\r\n"],"sourceRoot":""}