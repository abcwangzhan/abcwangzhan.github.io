{"version":3,"sources":["pages/Login/CompleteAll/CompleteAll.tsx"],"names":["Step","CompleteAll","useState","birthday","setBirthday","genderValue","setGenderValue","regionValue","setRegionValue","degreeValue","setDegreeValue","goalSchoolValue","setGoalSchoolValue","japaneseAbilityCertificateValue","setJapaneseAbilityCertificateValue","setJapaneseAbilityPointValue","englishAbilityCertificateValue","setEnglishAbilityCertificateValue","setEnglishAbilityPointValue","drawerOpen","setDraweOpen","history","useHistory","handleSelectPick","value","type","date","pad","n","getFullYear","getMonth","getDate","formatDate","size","direction","current","mode","onChange","format","PickItem","placeholder","data","gender","cols","onOk","district","degree","japaneseAbilityCertificate","length","val","Number","englishAbilityCertificate","goalSchool","onClick","inline","push","sidebar","renderHeader","position","open","enableDragHandle","onOpenChange"],"mappings":"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","file":"2.9b9e2ed0.chunk.js","sourcesContent":["import React, { ReactElement, useState } from 'react';\r\nimport {\r\n  WhiteSpace,\r\n  Picker,\r\n  Steps,\r\n  DatePicker,\r\n  Drawer,\r\n  InputItem,\r\n  List,\r\n} from 'antd-mobile';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport PickItem from '@/components/PickItem';\r\nimport {\r\n  gender,\r\n  degree,\r\n  japaneseAbilityCertificate,\r\n  englishAbilityCertificate,\r\n  goalSchool,\r\n} from '@/constants/globalDatas';\r\nimport district from '@/constants/district.json';\r\nimport {\r\n  Page,\r\n  PageTitle,\r\n  OthersItem,\r\n  PrimaryButton,\r\n  DrawerBox,\r\n  ButtonBox,\r\n} from '../styles';\r\n\r\nconst { Step } = Steps;\r\nconst CompleteAll: React.FC = () => {\r\n  const [birthday, setBirthday] = useState(''); // 出生日期\r\n  const [genderValue, setGenderValue] = useState<string[]>([]); // 性别\r\n  const [regionValue, setRegionValue] = useState<string[]>([]); // 国内地区\r\n  const [degreeValue, setDegreeValue] = useState<string[]>([]); // 最终学历\r\n  const [goalSchoolValue, setGoalSchoolValue] = useState<string[]>([]); // 目标院校\r\n  const [japaneseAbilityCertificateValue, setJapaneseAbilityCertificateValue] =\r\n    useState<string[]>([]); // 日语能力\r\n  const [japaneseAbilityPointValue, setJapaneseAbilityPointValue] = useState(0); // 日语成绩\r\n  const [englishAbilityCertificateValue, setEnglishAbilityCertificateValue] =\r\n    useState<string[]>([]); // 英语能力\r\n  const [englishAbilityPointValue, setEnglishAbilityPointValue] = useState(0); // 英语成绩\r\n  const [drawerOpen, setDraweOpen] = useState(false); // 是否打开最高留考成绩抽屉\r\n  const history = useHistory();\r\n\r\n  // 格式化日期格式\r\n  const formatDate = (date: Date): string => {\r\n    const pad = (n: number): string | number => (n < 10 ? `0${n}` : n);\r\n    const dateStr = `${date.getFullYear()}-${pad(date.getMonth() + 1)}-${pad(\r\n      date.getDate()\r\n    )}`;\r\n    return dateStr;\r\n  };\r\n  // 设置下拉选中的值\r\n  const handleSelectPick = (value: any, type: string): void => {\r\n    console.log(value.toString());\r\n    switch (type) {\r\n      case 'birthday':\r\n        setBirthday(formatDate(value));\r\n        break;\r\n      case 'gender':\r\n        setGenderValue(value);\r\n        break;\r\n      case 'region':\r\n        setRegionValue(value);\r\n        break;\r\n      case 'degree':\r\n        setDegreeValue(value);\r\n        break;\r\n      case 'japaneseAbilityCertificate':\r\n        setJapaneseAbilityCertificateValue(value);\r\n        break;\r\n      case 'englishAbilityCertificate':\r\n        setEnglishAbilityCertificateValue(value);\r\n        break;\r\n      case 'goalSchool':\r\n        setGoalSchoolValue(value);\r\n        break;\r\n      default:\r\n    }\r\n  };\r\n\r\n  const ejuContent = (): ReactElement => {\r\n    return (\r\n      <DrawerBox>\r\n        <List renderHeader=\"留考最高成绩\">\r\n          <InputItem placeholder=\"请输入成绩\">英语</InputItem>\r\n          <InputItem placeholder=\"请输入成绩\">语文</InputItem>\r\n          <InputItem placeholder=\"请输入成绩\">数学</InputItem>\r\n          <InputItem placeholder=\"请输入成绩\">物理</InputItem>\r\n        </List>\r\n        <WhiteSpace size=\"xl\" />\r\n        <PrimaryButton type=\"primary\" onClick={(): void => setDraweOpen(false)}>\r\n          保存\r\n        </PrimaryButton>\r\n      </DrawerBox>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Page>\r\n        <PageTitle>请完善您的信息</PageTitle>\r\n        <WhiteSpace size=\"xl\" />\r\n        <Steps direction=\"horizontal\" current={1}>\r\n          <Step />\r\n          <Step />\r\n          <Step />\r\n        </Steps>\r\n        <WhiteSpace size=\"xl\" />\r\n        <OthersItem>选填信息（填写该信息开启AI考学分析功能）</OthersItem>\r\n        <WhiteSpace size=\"xl\" />\r\n        <DatePicker\r\n          mode=\"date\"\r\n          onChange={(value): void => handleSelectPick(value, 'birthday')}\r\n          format=\"YYYY-MM-DD\"\r\n        >\r\n          <PickItem placeholder=\"请选择出生日期\" value={birthday} />\r\n        </DatePicker>\r\n        <Picker\r\n          data={gender}\r\n          cols={1}\r\n          value={genderValue}\r\n          onOk={(value: string[]): void => handleSelectPick(value, 'gender')}\r\n        >\r\n          <PickItem placeholder=\"请选择性别\" />\r\n        </Picker>\r\n        <Picker\r\n          data={district.data}\r\n          value={regionValue}\r\n          onOk={(value: string[]): void => handleSelectPick(value, 'region')}\r\n        >\r\n          <PickItem placeholder=\"请选择国内地区\" />\r\n        </Picker>\r\n        <Picker\r\n          data={degree}\r\n          cols={1}\r\n          value={degreeValue}\r\n          onOk={(value: string[]): void => handleSelectPick(value, 'degree')}\r\n        >\r\n          <PickItem placeholder=\"请选择最终学历\" />\r\n        </Picker>\r\n        <Picker\r\n          data={japaneseAbilityCertificate}\r\n          cols={1}\r\n          value={japaneseAbilityCertificateValue}\r\n          onOk={(value: string[]): void =>\r\n            handleSelectPick(value, 'japaneseAbilityCertificate')\r\n          }\r\n        >\r\n          <PickItem placeholder=\"请选择日语能力\" />\r\n        </Picker>\r\n        {japaneseAbilityCertificateValue.length > 0 && (\r\n          <>\r\n            <InputItem\r\n              placeholder=\"请输入日语成绩\"\r\n              type=\"number\"\r\n              onChange={(val): void =>\r\n                setJapaneseAbilityPointValue(Number(val))\r\n              }\r\n            />\r\n            <WhiteSpace size=\"lg\" />\r\n          </>\r\n        )}\r\n        <Picker\r\n          data={englishAbilityCertificate}\r\n          cols={1}\r\n          value={englishAbilityCertificateValue}\r\n          onOk={(value: string[]): void =>\r\n            handleSelectPick(value, 'englishAbilityCertificate')\r\n          }\r\n        >\r\n          <PickItem placeholder=\"请选择英语能力\" />\r\n        </Picker>\r\n        {englishAbilityCertificateValue.length > 0 && (\r\n          <>\r\n            <InputItem\r\n              placeholder=\"请输入英语成绩\"\r\n              type=\"number\"\r\n              onChange={(val): void => setEnglishAbilityPointValue(Number(val))}\r\n            />\r\n            <WhiteSpace size=\"lg\" />\r\n          </>\r\n        )}\r\n        <Picker\r\n          data={goalSchool}\r\n          cols={1}\r\n          value={goalSchoolValue}\r\n          onOk={(value: string[]): void =>\r\n            handleSelectPick(value, 'goalSchool')\r\n          }\r\n        >\r\n          <PickItem placeholder=\"请选择目标院校\" />\r\n        </Picker>\r\n\r\n        <PickItem\r\n          placeholder=\"请输入留考最高成绩\"\r\n          onClick={(): void => setDraweOpen(true)}\r\n        />\r\n\r\n        <ButtonBox>\r\n          <PrimaryButton inline type=\"ghost\">\r\n            跳过\r\n          </PrimaryButton>\r\n\r\n          <PrimaryButton\r\n            inline\r\n            type=\"primary\"\r\n            onClick={(): void => history.push('/complete-show')}\r\n          >\r\n            下一步\r\n          </PrimaryButton>\r\n        </ButtonBox>\r\n      </Page>\r\n      {drawerOpen && (\r\n        <Drawer\r\n          sidebar={ejuContent()}\r\n          position=\"bottom\"\r\n          open={drawerOpen}\r\n          enableDragHandle\r\n          onOpenChange={(): void => setDraweOpen(!drawerOpen)}\r\n        >\r\n          <div />\r\n        </Drawer>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CompleteAll;\r\n"],"sourceRoot":""}