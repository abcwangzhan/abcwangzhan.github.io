{"version":3,"sources":["pages/Library/Exam/styles.ts","pages/Library/Exam/Info/Info.tsx"],"names":["ExamInfoTitle","styled","div","ExamMain","ExamMainInner","Info","history","useHistory","useContext","ProviderContext","state","dispatch","exam","examHis","sourceType","subject","fullPoints","date","timeLimit","useQuery","EXAM_QUESTION","variables","examQuestionData","data","loading","examQuestions","useEffect","type","examQuestion","hide","examEnum","subjectEnum","dateToYear","length","previousPoints","onClick","push"],"mappings":"mSAEaA,EAAgBC,IAAOC,IAAV,mHAMbC,EAAWF,IAAOC,IAAV,6CAGRE,EAAgBH,IAAOC,IAAV,+KCkDXG,EAlDQ,WACrB,IAAMC,EAAUC,cAChB,EAA4BC,qBAAWC,KAA/BC,EAAR,EAAQA,MAAOC,EAAf,EAAeA,SAEf,GAD2BD,GAAS,IAA5BE,MAC8B,GAA9BA,EAAR,EAAQA,KAAMC,EAAd,EAAcA,QACd,EAAkED,GAAQ,GAAlEE,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,QAASC,EAA7B,EAA6BA,WAA7B,IAAyCC,YAAzC,MAAgD,GAAhD,EAAoDC,EAApD,EAAoDA,UACpD,EAA4CC,YAASC,IAAe,CAClEC,UAAW,CAAEP,aAAYC,UAASE,UADtBK,EAAd,EAAQC,KAAwBC,EAAhC,EAAgCA,QAGxBC,GAAkBH,GAAoB,IAAtCG,cASR,OARAC,qBAAU,WACRD,IAAa,OACXd,QADW,IACXA,KAAW,CAAEgB,KAAM,kBAAmBC,aAAcH,OACrD,CAACd,EAAUc,IAEdC,qBAAU,WACRF,EAAU,IAAMA,QAAQ,qBAAO,GAAK,IAAMK,SACzC,CAACL,IAEF,kBAAC,IAAD,KACE,kBAACxB,EAAD,iCACA,kBAACG,EAAD,KACE,kBAACC,EAAD,2BACO0B,IAAShB,GACd,6BAFF,sBAGOiB,IAAYhB,GACjB,6BAJF,sBAKOiB,YAAWf,GAChB,6BANF,sBAOOD,EACL,6BARF,sBASOE,EATP,eAUE,6BAVF,uBAWoB,OAAbO,QAAa,IAAbA,OAAA,EAAAA,EAAeQ,SAAU,EAC9B,6BAZF,yCAaSpB,QAbT,IAaSA,OAbT,EAaSA,EAASqB,eAChB,+BAGJ,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,uBAAQP,KAAK,UAAUQ,QAAS,kBAAY7B,EAAQ8B,KAAK,WAAzD","file":"3.54468548.chunk.js","sourcesContent":["import styled from 'styled-px2vw';\r\n\r\nexport const ExamInfoTitle = styled.div`\r\n  padding-top: 38px;\r\n  font-weight: bold;\r\n  font-size: 42px;\r\n  text-align: center;\r\n`;\r\nexport const ExamMain = styled.div`\r\n  height: 100%;\r\n`;\r\nexport const ExamMainInner = styled.div`\r\n  border: 3px solid #000000;\r\n  margin: 160px auto;\r\n  width: 540px;\r\n  padding: 100px 34px 100px 80px;\r\n  font-size: 34px;\r\n  line-height: 50px;\r\n`;\r\n","import { examEnum, subjectEnum } from '@/constants/globalDatas';\r\nimport { EXAM_QUESTION } from '@/helpers/APIHelper';\r\nimport { ProviderContext } from '@/reducer/context';\r\nimport { useQuery } from '@apollo/client';\r\nimport { Button, Toast } from 'antd-mobile';\r\nimport React, { useContext, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { ButtonBoxInner, Page, ButtonBox } from '../../styles';\r\nimport dateToYear from '../../utils/dateToYear';\r\nimport { ExamMainInner, ExamInfoTitle, ExamMain } from '../styles';\r\n\r\nconst Info: React.FC = () => {\r\n  const history = useHistory();\r\n  const { state, dispatch } = useContext(ProviderContext);\r\n  const { exam: examInfo } = state || {};\r\n  const { exam, examHis } = examInfo || {};\r\n  const { sourceType, subject, fullPoints, date = '', timeLimit } = exam || {};\r\n  const { data: examQuestionData, loading } = useQuery(EXAM_QUESTION, {\r\n    variables: { sourceType, subject, date },\r\n  });\r\n  const { examQuestions } = examQuestionData || {};\r\n  useEffect(() => {\r\n    examQuestions &&\r\n      dispatch?.({ type: 'setExamQuestion', examQuestion: examQuestions });\r\n  }, [dispatch, examQuestions]);\r\n\r\n  useEffect(() => {\r\n    loading ? Toast.loading('加载中', 0) : Toast.hide();\r\n  }, [loading]);\r\n  return (\r\n    <Page>\r\n      <ExamInfoTitle>考试信息</ExamInfoTitle>\r\n      <ExamMain>\r\n        <ExamMainInner>\r\n          种类 ：{examEnum[sourceType as keyof typeof examEnum]}\r\n          <br />\r\n          科目 ：{subjectEnum[subject as keyof typeof subjectEnum]}\r\n          <br />\r\n          年份 ：{dateToYear(date)}\r\n          <br />\r\n          总分 ：{fullPoints}\r\n          <br />\r\n          时间 ：{timeLimit}分钟\r\n          <br />\r\n          题数 ：{examQuestions?.length || 0}\r\n          <br />\r\n          上次记录 ：{examHis?.previousPoints}\r\n          <br />\r\n        </ExamMainInner>\r\n      </ExamMain>\r\n      <ButtonBox>\r\n        <ButtonBoxInner>\r\n          <Button type=\"primary\" onClick={(): void => history.push('/exam')}>\r\n            开始模拟\r\n          </Button>\r\n        </ButtonBoxInner>\r\n      </ButtonBox>\r\n    </Page>\r\n  );\r\n};\r\n\r\nexport default Info;\r\n"],"sourceRoot":""}