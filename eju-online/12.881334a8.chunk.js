(this.webpackJsonp=this.webpackJsonp||[]).push([[12],{1257:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));n(127);var a=n(66),l=n.n(a),c=(n(1196),n(1197)),r=n.n(c),u=(n(67),n(46)),i=n.n(u),o=(n(260),n(101)),s=n.n(o),m=n(262),d=n(17),E=n(39),p=n(0),f=n.n(p),b=n(1237),j=n(166),g=n(128),v=n(100),O=n(1239),h=n(97),y=n(1215),k=n(1216),w=n(1191),C=n(1198),x=function(){var e=Object(y.a)().openModal,t=Object(p.useState)({}),n=Object(E.a)(t,2),a=n[0],c=n[1],u=Object(p.useState)(0),o=Object(E.a)(u,2),x=o[0],A=o[1],I=Object(p.useState)(!1),S=Object(E.a)(I,2),T=S[0],q=S[1],_=Object(p.useContext)(v.a).dispatch,J=Object(g.a)(),B=J.subject,F=J.tagId,M=J.tag,N=Object(b.a)(j.n,{variables:{subject:B,tagId:F}}),Q=N.data,z=N.loading,D=(Q||{}).topicQuestions,G=Object(O.e)();return Object(p.useEffect)((function(){null===_||void 0===_||_({type:"setTopic",topic:D})}),[_,D]),Object(p.useEffect)((function(){z?s.a.loading("\u52a0\u8f7d\u4e2d",0):s.a.hide()}),[z]),Object(p.useEffect)((function(){var e;null===(e=document.getElementById("topic_page"))||void 0===e||e.scrollTo(0,0)}),[x]),f.a.createElement(f.a.Fragment,null,D&&D.length>0&&f.a.createElement(w.w,{id:"topic_page"},f.a.createElement(w.u,null,f.a.createElement(w.t,null),f.a.createElement(w.v,null,f.a.createElement(i.a,{type:"cross",color:"#262626",onClick:function(){return G.go(-1)}}),f.a.createElement(w.s,null,"00:18"))),f.a.createElement(w.m,null,f.a.createElement(r.a,{dots:!1,style:{height:"100%"},afterChange:function(e){setTimeout((function(){A(e)}),500)},selectedIndex:x},null===D||void 0===D?void 0:D.map((function(t,n){var l=t.questionId,r=t.question,u=t.checkAnswers,i=t._id,o=a[n+1]||{};return f.a.createElement(w.n,{key:i},f.a.createElement(w.u,{className:"lr-pd"},f.a.createElement(w.s,null,l," ",M),f.a.createElement(w.s,null,n+1,"/",null===D||void 0===D?void 0:D.length)),f.a.createElement(w.r,null,Object(C.a)(r)),f.a.createElement(w.k,null,f.a.createElement(w.l,null,"\u89e3\u7b54"),u.map((function(t){var l=t[0];return f.a.createElement(w.l,{key:l.index},f.a.createElement("span",null,l.index),f.a.createElement(w.p,null,f.a.createElement("span",null,o[l.index]),f.a.createElement(w.q,{onClick:function(){return e({label:l.index,changeAnswer:function(e){return function(e,t,n){var l=a[n]||{};l[e]=t,c((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(m.a)({},n,l))}))}(l.index,e,n+1)}})}})))}))))})))),f.a.createElement(w.i,null,f.a.createElement(w.h,null),f.a.createElement(w.j,null,x+1===(null===D||void 0===D?void 0:D.length)?f.a.createElement(l.a,{type:"primary",onClick:function(){null===_||void 0===_||_({type:"setTopicSelectAnswer",topicSelectAnswer:a}),q(!0)}},"\u63d0\u4ea4\u5e76\u67e5\u770b\u7ed3\u679c"):f.a.createElement(l.a,{type:"primary",onClick:function(){A((function(e){return e+1}))}},"\u4e0b\u4e00\u9898")))),f.a.createElement(h.a,{effect:"bottom",needCloseTag:!0,visible:T},f.a.createElement(k.a,{hide:function(){return q(!1)},type:"topic",selectAnswer:a,tag:M,timeCounter:18})))}}}]);