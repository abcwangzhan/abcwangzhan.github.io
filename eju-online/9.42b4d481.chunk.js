(this.webpackJsonp=this.webpackJsonp||[]).push([[9],{551:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return C}));n(93);var a=n(51),l=n.n(a),c=(n(504),n(505)),r=n.n(c),u=(n(52),n(35)),i=n.n(u),o=n(169),s=n(18),m=n(37),E=n(0),f=n.n(E),d=n(545),p=n(542),v=n(497),b=n(171),h=n(75),j=n(498),k=n(117),g=n(499),O=n(39),y=n(74),w=function(e){var t=e.hide,n=e.tag,a=e.answerNum,c=e.answer;return f.a.createElement(O.h,null,f.a.createElement(O.b,null,f.a.createElement(O.i,null,"\u7b54\u9898\u5361",f.a.createElement(O.j,null,f.a.createElement(i.a,{type:"cross",onClick:function(){return t()}}))),f.a.createElement(O.f,null,f.a.createElement(O.d,null,n),f.a.createElement(O.e,null,function(){for(var e=[],t=0;t<a;t+=1)c[t]?e.push(f.a.createElement(O.g,{className:"true"},t+1)):e.push(f.a.createElement(O.g,null,t+1));return e}())),f.a.createElement(g.h,null,f.a.createElement(l.a,{type:"primary",onClick:function(){t(),y.a.replace("/quick-result?tag=".concat(n))}},"\u786e\u5b9a\u63d0\u4ea4"))))},C=function(){var e=Object(E.useState)({}),t=Object(m.a)(e,2),n=t[0],a=t[1],c=Object(E.useState)(0),u=Object(m.a)(c,2),y=u[0],C=u[1],q=Object(p.a)(v.i),A=Object(m.a)(q,2),N=A[0],I=A[1].data,T=Object(E.useContext)(k.a).dispatch,Q=(I||{}).smartQuestions,S=Object(d.e)(),x=Object(b.a)(),J=x.subject,z=x.tagId,B=x.tag,D=(null===Q||void 0===Q?void 0:Q.length)||0,F=function(){C((function(e){return e+1}))};return Object(E.useEffect)((function(){N({variables:{subject:J,tagId:z}})}),[N,J,z]),Object(E.useEffect)((function(){var e=[];null===Q||void 0===Q||Q.forEach((function(t){return e.push(t.checkAnswer)})),null===T||void 0===T||T({type:"setQuickTrueAnswer",quickTrueAnswer:e}),null===T||void 0===T||T({type:"setQuick",quick:Q})}),[T,Q]),f.a.createElement(g.t,null,f.a.createElement(g.s,null,f.a.createElement(i.a,{type:"cross",color:"#262626",onClick:function(){return S.go(-1)}}),f.a.createElement(g.r,null,"00:18")),D>0&&f.a.createElement(g.l,null,f.a.createElement(r.a,{dots:!1,style:{height:"100%"},afterChange:function(e){return C(e)},selectedIndex:y},null===Q||void 0===Q?void 0:Q.map((function(e,t){var l=e.question,c=e.questionId,r=e.options;return f.a.createElement(g.m,null,f.a.createElement(g.s,{className:"lr-pd"},f.a.createElement(g.r,null,c," ",B),f.a.createElement(g.r,null,t+1,"/",null===Q||void 0===Q?void 0:Q.length)),f.a.createElement(g.q,null,l),f.a.createElement(O.a,null,null===r||void 0===r?void 0:r.map((function(e,l){return f.a.createElement(O.c,{onClick:function(){return e=t,n=l,a((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(o.a)({},e,j.k[n]))})),void setTimeout((function(){y+1<D&&F()}),300);var e,n},className:n[t]===j.k[l]?"active":""},e)}))))})))),f.a.createElement(g.h,null,f.a.createElement(g.i,null,y+1===D?f.a.createElement(l.a,{type:"primary",onClick:function(){null===T||void 0===T||T({type:"setSelectAnswer",selectAnswer:n}),h.a.open({effect:"bottom",needCloseTag:!0,content:f.a.createElement(w,{hide:h.a.hide,answer:n,tag:B,answerNum:D})})}},"\u63d0\u4ea4"):f.a.createElement(l.a,{type:"primary",onClick:F},"\u4e0b\u4e00\u9898"))))}}}]);